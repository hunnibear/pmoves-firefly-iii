{"version":3,"sources":["webpack:///src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?e9b4","webpack:///./src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?8493","webpack:///src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?cd54","webpack:///./src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?965d","webpack:///src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?582a","webpack:///./src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?2a8c","webpack:///src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?99df","webpack:///./src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?da37","webpack:///src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?76a5","webpack:///./src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?a5fd","webpack:///src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?2029","webpack:///./src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?eb71","webpack:///src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?a3d5","webpack:///./src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?fc0b","webpack:///src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?7457","webpack:///./src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?5374","webpack:///src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?a208","webpack:///./src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?eba1","webpack:///src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?0a62","webpack:///./src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?18d4","webpack:///./src/pages/transactions/create.js"],"names":["props","components","name","data","descriptions","query","initialSet","created","axios","get","this","getACURL","methods","clearDescription","selectedDescription","document","getElementsByTagName","href","lookupDescription","computed","transactions","index","description","set","updateField","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","item","on","$event","model","value","callback","$$v","expression","slot","date","time","directives","rawName","ref","domProps","preventDefault","target","composing","budgetList","collectData","push","getBudgets","parseBudgets","hasOwnProperty","key","test","budget_id","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","_value","multiple","_l","budget","id","accounts","account","accountTypes","createInitialSet","types","join","clearAccount","selectedAccount","defaultTransaction","source_account","lookupAccount","length","direction","sourceAllowedTypes","destinationAllowedTypes","watch","name_with_balance","calcTransactionType","allowedOpposingTypes","type","opposingAccounts","setDestinationAllowedTypes","setSourceAllowedTypes","accountKey","switchAccounts","transactionType","_e","currencySymbol","currencyId","currency_id","currency_symbol","destination_account","indexOf","updateCurrency","currencyPreference","symbol","$store","state","amount","selectedTransactionType","allCurrencies","selectableCurrencies","foreign_amount","foreign_currency_id","lockedCurrency","selectIsVisible","filterCurrencies","checkVisibility","getAllCurrencies","sourceId","destId","current","normalCurrencyId","currency","dates","interest_date","book_date","process_date","due_date","payment_date","invoice_date","getFieldValue","field","setFieldValue","event","enabled","refInFor","TransactionCustomDates","TransactionForeignCurrency","TransactionForeignAmount","storeAllowedOpposingTypes","storeAccountToTransaction","storeCustomDateFields","addTransaction","groupTitle","isSubmitting","then","fields","selectedDateFields","setAllowedOpposingTypes","window","setAccountToTransaction","accountToTransaction","submitTransaction","console","log","convertData","convertSplit","array","trim","source_id","source_name","destination_id","destination_name","transaction","deleteTransaction","_m","customDateFields","require","Vue","config","productionTip","i18n","store","render","createElement","Create","beforeCreate","commit","dispatch","$mount"],"mappings":"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","file":"/public/js/transactions/create.js","sourcesContent":["<!--\n  - TransactionDescription.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.description') }}\n    </div>\n      <vue-typeahead-bootstrap\n          inputName=\"description[]\"\n          v-model=\"query\"\n          :data=\"descriptions\"\n          :placeholder=\"$t('firefly.description')\"\n          :showOnFocus=true\n          autofocus\n          :minMatchingChars=\"3\"\n          :serializer=\"item => item.description\"\n          @hit=\"selectedDescription = $event\"\n          @input=\"lookupDescription\"\n      >\n        <template slot=\"append\">\n          <div class=\"input-group-append\">\n            <button v-on:click=\"clearDescription\" class=\"btn btn-outline-secondary\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n          </div>\n        </template>\n      </vue-typeahead-bootstrap>\n\n\n      <!--\n      <vue-typeahead-bootstrap\n        v-model=\"description\"\n        :data=\"descriptions\"\n        :serializer=\"item => item.name_with_balance\"\n        @hit=\"selectedAccount = $event\"\n        :placeholder=\"$t('firefly.' + this.direction + '_account')\"\n        @input=\"lookupAccount\"\n        >\n      </vue-typeahead-bootstrap>\n      <input\n          ref=\"description\"\n          :title=\"$t('firefly.description')\"\n          v-model=\"description\"\n          autocomplete=\"off\"\n          autofocus\n          class=\"form-control\"\n          name=\"description[]\"\n          type=\"text\"\n          :placeholder=\"$t('firefly.description')\"\n          v-on:submit.prevent\n      >\n\n      -->\n  </div>\n\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\n// https://firefly.sd.home/api/v1/autocomplete/transactions?query=test\n\nexport default {\n  props: ['index'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionDescription\",\n  data() {\n    return {\n      descriptions: [],\n      query: '',\n      initialSet: []\n    }\n  },\n\n  created() {\n\n    // initial list of accounts:\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    clearDescription: function () {\n      this.selectedDescription = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.query))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                  ]),\n    selectedDescription: {\n      get() {\n        return this.transactions[this.index].description;\n      },\n      set(value) {\n        this.updateField({field: 'description', index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDescription.vue?vue&type=template&id=6b4b3ea7&scoped=true&\"\nimport script from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b4b3ea7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.description'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"inputName\":\"description[]\",\"data\":_vm.descriptions,\"placeholder\":_vm.$t('firefly.description'),\"showOnFocus\":true,\"autofocus\":\"\",\"minMatchingChars\":3,\"serializer\":function (item) { return item.description; }},on:{\"hit\":function($event){_vm.selectedDescription = $event},\"input\":_vm.lookupDescription},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionDate.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.date_and_time') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          class=\"form-control\"\n          type=\"date\"\n          ref=\"date\"\n          :title=\"$t('firefly.date')\"\n          v-model=\"date\"\n          :disabled=\"index > 0\"\n          autocomplete=\"off\"\n          name=\"date[]\"\n          :placeholder=\"date\"\n          v-on:submit.prevent\n      >\n      <input\n          class=\"form-control\"\n          type=\"time\"\n          ref=\"time\"\n          :title=\"$t('firefly.time')\"\n          v-model=\"time\"\n          :disabled=\"index > 0\"\n          autocomplete=\"off\"\n          name=\"time[]\"\n          :placeholder=\"time\"\n          v-on:submit.prevent\n      >\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"TransactionDate\",\n  props: ['value', 'index'],\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                  ]),\n    date: {\n      get() {\n        // always return first index.\n        return this.transactions[0].date;\n      },\n      set(value) {\n        this.updateField({field: 'date', index: this.index, value: value});\n      }\n    },\n    time: {\n      get() {\n        // always return first index.\n        return this.transactions[0].time;\n      },\n      set(value) {\n        this.updateField({field: 'time', index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDate.vue?vue&type=template&id=4b3b558d&scoped=true&\"\nimport script from \"./TransactionDate.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b3b558d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.date_and_time'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.date),expression:\"date\"}],ref:\"date\",staticClass:\"form-control\",attrs:{\"type\":\"date\",\"title\":_vm.$t('firefly.date'),\"disabled\":_vm.index > 0,\"autocomplete\":\"off\",\"name\":\"date[]\",\"placeholder\":_vm.date},domProps:{\"value\":(_vm.date)},on:{\"submit\":function($event){$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.date=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.time),expression:\"time\"}],ref:\"time\",staticClass:\"form-control\",attrs:{\"type\":\"time\",\"title\":_vm.$t('firefly.time'),\"disabled\":_vm.index > 0,\"autocomplete\":\"off\",\"name\":\"time[]\",\"placeholder\":_vm.time},domProps:{\"value\":(_vm.time)},on:{\"submit\":function($event){$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.time=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionBudget.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.budget') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"budget\"\n          :title=\"$t('firefly.budget')\"\n          v-model=\"budget_id\"\n          autocomplete=\"off\"\n          class=\"form-control\"\n          name=\"budget_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"budget in this.budgetList\" :value=\"budget.id\" :label=\"budget.name\">{{ budget.name }}</option>\n\n      </select>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index'],\n  name: \"TransactionBudget\",\n  data() {\n    return {\n      budgetList: []\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    collectData() {\n      this.budgetList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_budget'),\n          }\n      );\n      this.getBudgets();\n    },\n    getBudgets() {\n      axios.get('./api/v1/budgets')\n          .then(response => {\n                  this.parseBudgets(response.data);\n                }\n          );\n    },\n    parseBudgets(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          this.budgetList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                  ]),\n    budget_id: {\n      get() {\n        return this.transactions[this.index].budget_id;\n      },\n      set(value) {\n        this.updateField({field: 'budget_id', index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionBudget.vue?vue&type=template&id=0705e6a0&scoped=true&\"\nimport script from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0705e6a0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.budget'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget_id),expression:\"budget_id\"}],ref:\"budget\",staticClass:\"form-control\",attrs:{\"title\":_vm.$t('firefly.budget'),\"autocomplete\":\"off\",\"name\":\"budget_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.budget_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.budgetList),function(budget){return _c('option',{attrs:{\"label\":budget.name},domProps:{\"value\":budget.id}},[_vm._v(_vm._s(budget.name))])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.' + this.direction + '_account') }}\n    </div>\n    <vue-typeahead-bootstrap\n        v-model=\"account\"\n        :data=\"accounts\"\n        :showOnFocus=true\n        :inputName=\"direction + '[]'\"\n        :serializer=\"item => item.name_with_balance\"\n        @hit=\"selectedAccount = $event\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.' + this.direction + '_account')\"\n        @input=\"lookupAccount\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" v-on:click=\"clearAccount\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n\n\n    </vue-typeahead-bootstrap>\n  </div>\n</template>\n\n<script>\n/*\n\n<template slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <div class=\"d-flex align-items-center\">\n          <span v-html=\"htmlText\"></span>\n        </div>\n      </template>\n\n\n- you get an object from the parent.\n- this is the selected account.\n<!-- Note: the v-html binding is used, as htmlText contains\n               the suggestion text highlighted with <strong> tags -->\n\n */\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from 'lodash';\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"TransactionAccount\",\n  components: {VueTypeaheadBootstrap},\n  props: ['index', 'direction'],\n  data() {\n    return {\n      query: '',\n      accounts: [],\n      account: '',\n      accountTypes: [],\n      initialSet: []\n    }\n  },\n  created() {\n    this.createInitialSet();\n\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n          'setDestinationAllowedTypes',\n          'setSourceAllowedTypes'\n        ],\n    ),\n    ...mapActions(\n        [\n          'calcTransactionType'\n        ]\n    ),\n    getACURL: function (types, query) {\n      // update autocomplete URL:\n      // console.log('getACURL query = ' + query);\n      // console.log(types);\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/accounts?types=' + types.join(',') + '&query=' + query;\n    },\n    clearAccount: function () {\n      // console.log('clearAccount in ' + this.direction);\n      this.account = '';\n      this.selectedAccount = this.defaultTransaction.source_account; // can be either source or dest, does not matter.\n      // console.log('clearAccount. Selected account (' + this.direction + ') is now:');\n      // console.log(this.defaultTransaction.source_account);\n      this.accounts = this.initialSet;\n    },\n    lookupAccount: debounce(function () {\n      // console.log('lookup account in ' + this.direction)\n      if (0 === this.accountTypes.length) {\n        // set the types from the default types for this direction:\n        this.accountTypes = 'source' === this.direction ? this.sourceAllowedTypes : this.destinationAllowedTypes;\n      }\n\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.accountTypes, this.account))\n          .then(response => {\n            this.accounts = response.data;\n          })\n    }, 300),\n    createInitialSet: function () {\n      // console.log('createInitialSet ' + this.direction);\n      // initial list of accounts:\n      let types = this.sourceAllowedTypes;\n      if ('destination' === this.direction) {\n        types = this.destinationAllowedTypes;\n      }\n\n      axios.get(this.getACURL(types, ''))\n          .then(response => {\n            // console.log('initial set of accounts. ' + this.direction);\n            this.accounts = response.data;\n            this.initialSet = response.data;\n          });\n    }\n  },\n  watch: {\n    selectedAccount: function (value) {\n      // console.log('watch selectedAccount ' + this.direction);\n      // console.log(value);\n      this.account = value ? value.name_with_balance : null;\n      // console.log('this.account (' + this.direction + ') = \"' + this.account + '\"');\n      this.calcTransactionType();\n\n      // set the opposing account allowed set.\n      // console.log('opposing:');\n      let opposingAccounts = [];\n      let type = value.type ? value.type : 'no_type';\n      if ('undefined' !== typeof this.allowedOpposingTypes[this.direction]) {\n        if ('undefined' !== typeof this.allowedOpposingTypes[this.direction][type]) {\n          opposingAccounts = this.allowedOpposingTypes[this.direction][type];\n        }\n      }\n\n      if ('source' === this.direction) {\n        this.setDestinationAllowedTypes(opposingAccounts);\n      }\n      if ('destination' === this.direction) {\n        this.setSourceAllowedTypes(opposingAccounts);\n      }\n    },\n    sourceAllowedTypes: function (value) {\n      if ('source' === this.direction) {\n        // console.log('do update initial set in direction ' + this.direction + ' because allowed types changed');\n        // update initial set:\n        this.createInitialSet();\n      }\n    },\n    destinationAllowedTypes: function (value) {\n      if ('destination' === this.direction) {\n        // console.log('do update initial set in direction ' + this.direction + ' because allowed types changed');\n        // update initial set:\n        this.createInitialSet();\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'defaultTransaction',\n                    'sourceAllowedTypes',\n                    'destinationAllowedTypes',\n                    'allowedOpposingTypes'\n                  ]),\n    accountKey: {\n      get() {\n        return 'source' === this.direction ? 'source_account' : 'destination_account';\n      }\n    },\n    selectedAccount: {\n      get() {\n        return this.transactions[this.index][this.accountKey];\n      },\n      set(value) {\n        // console.log('set selectedAccount for ' + this.direction);\n        // console.log(value);\n        this.updateField({field: this.accountKey, index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAccount.vue?vue&type=template&id=2f4233e0&scoped=true&\"\nimport script from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f4233e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.' + this.direction + '_account'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.accounts,\"showOnFocus\":true,\"inputName\":_vm.direction + '[]',\"serializer\":function (item) { return item.name_with_balance; },\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.' + this.direction + '_account')},on:{\"hit\":function($event){_vm.selectedAccount = $event},\"input\":_vm.lookupAccount},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearAccount}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SwitchAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span class=\"text-muted\" v-if=\"'any' !== this.transactionType\">\n        {{ $t('firefly.' + this.transactionType) }}\n      </span>\n      <span class=\"text-muted\" v-if=\"'any' === this.transactionType\">&nbsp;</span>\n    </div>\n    <div class=\"btn-group d-flex\">\n      <button class=\"btn btn-light\" @click=\"switchAccounts\">&harr;</button>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"SwitchAccount\",\n  props: ['index'],\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n\n    switchAccounts() {\n      let source = this.transactions[this.index].source_account;\n      let dest = this.transactions[this.index].destination_account;\n\n      this.updateField({field: 'source_account', index: this.index, value: dest});\n      this.updateField({field: 'destination_account', index: this.index, value: source});\n\n      // trigger other components.\n\n    }\n  },\n  computed: {\n    ...mapGetters(['transactions', 'transactionType']),\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwitchAccount.vue?vue&type=template&id=7fc33f88&scoped=true&\"\nimport script from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fc33f88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[('any' !== this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.' + this.transactionType))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),('any' === this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group d-flex\"},[_c('button',{staticClass:\"btn btn-light\",on:{\"click\":_vm.switchAccounts}},[_vm._v(\"↔\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('firefly.amount') }}</div>\n    <div class=\"input-group\">\n      <div class=\"input-group-prepend\">\n        <div class=\"input-group-text\">{{ currencySymbol }}</div>\n      </div>\n      <input type=\"hidden\" name=\"currency_id[]\" :value=\"currencyId\"/>\n      <input\n          :title=\"$t('firefly.amount')\"\n          autocomplete=\"off\"\n          class=\"form-control\"\n          name=\"amount[]\"\n          type=\"number\"\n          v-model=\"amount\"\n          :placeholder=\"$t('firefly.amount')\"\n      >\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n//const {mapRootState, mapRootGetters, mapRootActions, mapRootMutations} = createHelpers('');\n\n\nexport default {\n  name: \"TransactionAmount\",\n  props: ['index'],\n  data() {\n    return {\n      currencySymbol: ''\n    }\n  },\n  watch: {\n    transactionType: function (value) {\n      switch (value) {\n        case 'Transfer':\n        case 'Withdrawal':\n          // take currency from source:\n          this.currencyId = this.transactions[this.index].source_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n          return;\n        case 'Deposit':\n          // take currency from destination:\n          this.currencyId = this.transactions[this.index].destination_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n          return;\n      }\n    },\n    destinationAllowedTypes: function (value) {\n      // aka source was updated. if source is asset/loan/debt/mortgage use it to set the currency:\n      if ('undefined' !== typeof this.transactions[this.index].source_account.type) {\n        if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].source_account.type) !== -1) {\n          // get currency pref from source account\n          this.currencyId = this.transactions[this.index].source_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n        }\n      }\n    },\n    sourceAllowedTypes: function (value) {\n      // aka destination was updated. if destination is asset/loan/debt/mortgage use it to set the currency:\n      // unless its already known to be a transfer\n      if ('undefined' !== typeof this.transactions[this.index].destination_account.type && 'Transfer' !== this.transactionType) {\n        if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].destination_account.type) !== -1) {\n          // get currency pref from destination account\n          this.currencyId = this.transactions[this.index].destination_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        }\n      }\n    },\n\n  },\n  created: function () {\n    this.updateCurrency();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    updateCurrency: function () {\n      if (0 === this.currencyId) {\n        // use default currency from store.\n        this.currencySymbol = this.currencyPreference.symbol;\n        this.currencyId = this.currencyPreference.id;\n      }\n    }\n  },\n  computed: {\n    currencyPreference: {\n      get() {\n        return this.$store.state.currencyPreference;\n      }\n    },\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'destinationAllowedTypes',\n                    'sourceAllowedTypes',\n                  ]),\n    amount: {\n      get() {\n        return this.transactions[this.index].amount;\n      },\n      set(value) {\n        this.updateField({field: 'amount', index: this.index, value: value});\n      }\n    },\n    currencyId: {\n      get() {\n        return this.transactions[this.index].currency_id;\n      },\n      set(value) {\n        this.updateField({field: 'currency_id', index: this.index, value: value});\n      }\n    },\n    selectedTransactionType: {\n      get() {\n        return this.transactionType;\n      },\n      set(value) {\n        // console.log('set selectedAccount for ' + this.direction);\n        // console.log(value);\n        // this.updateField({field: this.accountKey, index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAmount.vue?vue&type=template&id=a9ad4872&scoped=true&\"\nimport script from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a9ad4872\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('firefly.amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.currencySymbol))])]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"currency_id[]\"},domProps:{\"value\":_vm.currencyId}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],staticClass:\"form-control\",attrs:{\"title\":_vm.$t('firefly.amount'),\"autocomplete\":\"off\",\"name\":\"amount[]\",\"type\":\"number\",\"placeholder\":_vm.$t('firefly.amount')},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN AMOUNT -->\n  <div class=\"form-group\">\n    <input type=\"hidden\" name=\"foreign_currency_id[]\" :value=\"currencyId\"/>\n    <div class=\"text-xs\">{{ $t('form.foreign_amount') }}</div>\n    <div class=\"input-group\">\n      <input\n          :title=\"$t('form.foreign_amount')\"\n          autocomplete=\"off\"\n          class=\"form-control\"\n          :disabled=\"0===currencyId\"\n          name=\"foreign_amount[]\"\n          type=\"number\"\n          v-model=\"amount\"\n          :placeholder=\"$t('form.foreign_amount')\"\n      >\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n//const {mapRootState, mapRootGetters, mapRootActions, mapRootMutations} = createHelpers('');\n\n\nexport default {\n  name: \"TransactionForeignAmount\",\n  props: ['index'],\n  data() {\n    return {\n      currencySymbol: '',\n      allCurrencies: [],\n      selectableCurrencies: [],\n    }\n  },\n  watch: {\n    transactionType: function (value) {\n      // switch (value) {\n      //   case 'Transfer':\n      //   case 'Withdrawal':\n      //     // take currency from source:\n      //     //this.currencyId = this.transactions[this.index].source_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n      //     return;\n      //   case 'Deposit':\n      //     // take currency from destination:\n      //     this.currencyId = this.transactions[this.index].destination_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n      //     return;\n      // }\n    },\n    destinationAllowedTypes: function (value) {\n      // // aka source was updated. if source is asset/loan/debt/mortgage use it to set the currency:\n      // if ('undefined' !== typeof this.transactions[this.index].source_account.type) {\n      //   if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].source_account.type) !== -1) {\n      //     // get currency pref from source account\n      //     this.currencyId = this.transactions[this.index].source_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n      //   }\n      // }\n    },\n    sourceAllowedTypes: function (value) {\n      // // aka destination was updated. if destination is asset/loan/debt/mortgage use it to set the currency:\n      // // unless its already known to be a transfer\n      // if ('undefined' !== typeof this.transactions[this.index].destination_account.type && 'Transfer' !== this.transactionType) {\n      //   if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].destination_account.type) !== -1) {\n      //     // get currency pref from destination account\n      //     this.currencyId = this.transactions[this.index].destination_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n      //   }\n      // }\n    },\n\n  },\n  created: function () {\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n\n    // updateCurrency: function () {\n    //   if (0 === this.currencyId) {\n    //     // use default currency from store.\n    //     this.currencySymbol = this.currencyPreference.symbol;\n    //     this.currencyId = this.currencyPreference.id;\n    //   }\n    // }\n  },\n  computed: {\n    currencyPreference: {\n      get() {\n        return this.$store.state.currencyPreference;\n      }\n    },\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'destinationAllowedTypes',\n                    'sourceAllowedTypes',\n                  ]),\n    amount: {\n      get() {\n        return this.transactions[this.index].foreign_amount;\n      },\n      set(value) {\n        this.updateField({field: 'foreign_amount', index: this.index, value: value});\n      }\n    },\n    currencyId: {\n      get() {\n        return this.transactions[this.index].foreign_currency_id;\n      },\n      set(value) {\n        this.updateField({field: 'foreign_currency_id', index: this.index, value: value});\n      }\n    },\n    selectedTransactionType: {\n      get() {\n        return this.transactionType;\n      },\n      set(value) {\n        // console.log('set selectedAccount for ' + this.direction);\n        // console.log(value);\n        // this.updateField({field: this.accountKey, index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignAmount.vue?vue&type=template&id=422824c7&scoped=true&\"\nimport script from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"422824c7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"foreign_currency_id[]\"},domProps:{\"value\":_vm.currencyId}}),_vm._v(\" \"),_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('form.foreign_amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],staticClass:\"form-control\",attrs:{\"title\":_vm.$t('form.foreign_amount'),\"autocomplete\":\"off\",\"disabled\":0===_vm.currencyId,\"name\":\"foreign_amount[]\",\"type\":\"number\",\"placeholder\":_vm.$t('form.foreign_amount')},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignCurrency.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN Currency -->\n  <div class=\"form-group\" v-if=\"selectIsVisible\">\n    <div class=\"text-xs\">&nbsp;</div>\n    <div class=\"input-group\">\n      <select name=\"foreign_currency_id[]\" v-model=\"currencyId\" class=\"form-control\">\n        <option v-for=\"currency in selectableCurrencies\" :label=\"currency.name\" :value=\"currency.id\">{{ currency.name }}</option>\n      </select>\n    </div>\n  </div>\n</template>\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"TransactionForeignCurrency\",\n  props: ['index'],\n  data() {\n    return {\n      allCurrencies: [],\n      selectableCurrencies: [],\n      lockedCurrency: 0,\n      selectIsVisible: true\n    }\n  },\n  watch: {\n    transactionType: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === value) {\n        // take currency from destination:\n        this.currencyId = this.transactions[this.index].destination_account.currency_id;\n        this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        this.lockedCurrency = this.currencyId;\n      }\n      this.filterCurrencies();\n      this.checkVisibility();\n    },\n    destinationAllowedTypes: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === this.transactionType) {\n        // take currency from destination:\n        this.currencyId = this.transactions[this.index].destination_account.currency_id;\n        this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        this.lockedCurrency = this.currencyId;\n      }\n      this.filterCurrencies();\n      this.checkVisibility();\n    },\n    sourceAllowedTypes: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === this.transactionType) {\n        // take currency from destination:\n        this.currencyId = this.transactions[this.index].destination_account.currency_id;\n        this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        this.lockedCurrency = this.currencyId;\n      }\n      this.filterCurrencies();\n      this.checkVisibility();\n    },\n\n  },\n  created: function () {\n    this.getAllCurrencies();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    checkVisibility: function () {\n      // have the same currency ID, but not zero, and is a transfer\n      let sourceId = this.transactions[this.index].source_account.currency_id;\n      let destId = this.transactions[this.index].destination_account.currency_id;\n      this.selectIsVisible = true;\n      if (sourceId === destId && 0 !== sourceId && 'Transfer' === this.transactionType) {\n        this.selectIsVisible = false;\n        this.currencyId = 0;\n      }\n    },\n\n    getAllCurrencies: function () {\n      axios.get('./api/v1/autocomplete/currencies')\n          .then(response => {\n                  this.allCurrencies = response.data;\n                  this.filterCurrencies();\n                }\n          );\n\n    },\n    filterCurrencies() {\n      // if a currency is locked only that currency can (and must) be selected:\n      if (0 !== this.lockedCurrency) {\n        for (let key in this.allCurrencies) {\n          if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n            let current = this.allCurrencies[key];\n            if (current.id === this.lockedCurrency) {\n              this.selectableCurrencies = [current];\n              this.currencyId = current.id;\n            }\n          }\n        }\n        return;\n      }\n\n\n      this.selectableCurrencies = [\n        {\n          \"id\": 0,\n          \"name\": this.$t('firefly.no_currency')\n        }\n      ];\n      for (let key in this.allCurrencies) {\n        if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = this.allCurrencies[key];\n          // add to array if not \"locked\" in place:\n          if (this.transactions[this.index].currency_id !== current.id) {\n            this.selectableCurrencies.push(current);\n          }\n          // deselect impossible currency.\n          if (this.transactions[this.index].currency_id === current.id && this.currencyId === current.id) {\n            this.currencyId = 0;\n          }\n        }\n      }\n      //currency_id\n\n      // always add empty currency:\n      // this.selectableCurrencies = this.allCurrencies;\n      // this.selectableCurrencies.reverse();\n      // this.selectableCurrencies.push(\n      //   ;\n      // this.selectableCurrencies.reverse();\n\n      // remove\n\n    }\n\n    // updateCurrency: function () {\n    //   if (0 === this.currencyId) {\n    //     // use default currency from store.\n    //     this.currencySymbol = this.currencyPreference.symbol;\n    //     this.currencyId = this.currencyPreference.id;\n    //   }\n    // }\n  },\n  computed: {\n    currencyPreference: {\n      get() {\n        return this.$store.state.currencyPreference;\n      }\n    },\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'destinationAllowedTypes',\n                    'sourceAllowedTypes',\n                  ]),\n    currencyId: {\n      get() {\n        return this.transactions[this.index].foreign_currency_id;\n      },\n      set(value) {\n        this.updateField({field: 'foreign_currency_id', index: this.index, value: value});\n      }\n    },\n    normalCurrencyId: {\n      get() {\n        return this.transactions[this.index].currency_id;\n      },\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignCurrency.vue?vue&type=template&id=7008e22e&scoped=true&\"\nimport script from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7008e22e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selectIsVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currencyId),expression:\"currencyId\"}],staticClass:\"form-control\",attrs:{\"name\":\"foreign_currency_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currencyId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectableCurrencies),function(currency){return _c('option',{attrs:{\"label\":currency.name},domProps:{\"value\":currency.id}},[_vm._v(_vm._s(currency.name))])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionCustomDates.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"form-group\" v-for=\"(enabled, name) in enabledDates\">\n      <div class=\"text-xs d-none d-lg-block d-xl-block\" v-if=\"enabled\">\n        {{ $t('form.' + name) }}\n      </div>\n      <div class=\"input-group\" v-if=\"enabled\">\n        <input\n            class=\"form-control\"\n            type=\"date\"\n            :ref=\"name\"\n            :title=\"$t('form.' + name)\"\n            :value=\"getFieldValue(name)\"\n            @change=\"setFieldValue($event, name)\"\n            autocomplete=\"off\"\n            :name=\"name + '[]'\"\n            :placeholder=\"$t('form.' + name)\"\n            v-on:submit.prevent\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\nexport default {\n  name: \"TransactionCustomDates\",\n  props: ['enabledDates', 'index'],\n  data() {\n    return {\n      dates: {\n        interest_date: '',\n        book_date: '',\n        process_date: '',\n        due_date: '',\n        payment_date: '',\n        invoice_date: '',\n      }\n    }\n  },\n  created() {\n\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    getFieldValue(field) {\n      return this.dates[field];\n    },\n    setFieldValue(event, field) {\n      this.dates[field] = event.target.value;\n      this.updateField({index: this.index, field: field, value: event.target.value});\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionCustomDates.vue?vue&type=template&id=7e3c4e38&scoped=true&\"\nimport script from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e3c4e38\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.enabledDates),function(enabled,name){return _c('div',{staticClass:\"form-group\"},[(enabled)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('form.' + name))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(enabled)?_c('div',{staticClass:\"input-group\"},[_c('input',{ref:name,refInFor:true,staticClass:\"form-control\",attrs:{\"type\":\"date\",\"title\":_vm.$t('form.' + name),\"autocomplete\":\"off\",\"name\":name + '[]',\"placeholder\":_vm.$t('form.' + name)},domProps:{\"value\":_vm.getFieldValue(name)},on:{\"change\":function($event){return _vm.setFieldValue($event, name)},\"submit\":function($event){$event.preventDefault();}}})]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - Create.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"row\" v-for=\"(transaction, index) in transactions\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              <span v-if=\"0 === transactions.length\">{{ $t('firefly.create_new_transaction') }}</span>\n              <span v-if=\"transactions.length > 1\">{{ $t('firefly.single_split') }} {{ index + 1 }} / {{ transactions.length }}</span>\n            </h3>\n            <div v-if=\"transactions.length > 1\" class=\"card-tools\">\n              <button class=\"btn btn-xs btn-danger\" type=\"button\" v-on:click=\"deleteTransaction(index, $event)\"><i\n                  class=\"fa fa-trash\"></i></button>\n            </div>\n          </div>\n          <!-- /.card-header -->\n          <div class=\"card-body\">\n            <h4>{{ $t('firefly.basic_journal_information') }}</h4>\n            <div class=\"row\">\n              <div class=\"col\">\n                <p class=\"d-block d-sm-none\">XS</p>\n                <p class=\"d-none d-sm-block d-md-none\">SM</p>\n                <p class=\"d-none d-md-block d-lg-none\">MD</p>\n                <p class=\"d-none d-lg-block d-xl-none\">LG</p>\n                <p class=\"d-none d-xl-block\">XL</p>\n              </div>\n            </div>\n            <!-- description etc, 3 rows -->\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionDescription\n                    :description=\"transactions[index].description\"\n                    :index=\"index\"\n                ></TransactionDescription>\n              </div>\n            </div>\n\n\n            <!-- source and destination -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- SOURCE -->\n                <TransactionAccount\n                    :selectedAccount=\"transactions[index].source_account\"\n                    direction=\"source\"\n                    :index=\"index\"\n                />\n              </div>\n              <!-- switcharoo! -->\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <SwitchAccount\n                    :index=\"index\"\n                />\n              </div>\n\n              <!-- destination -->\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <!-- DESTINATION -->\n                <TransactionAccount\n                    :selectedAccount=\"transactions[index].destination_account\"\n                    direction=\"destination\"\n                    :index=\"index\"\n                />\n              </div>\n            </div>\n\n            <!-- amount  -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- AMOUNT -->\n                <TransactionAmount :index=\"index\"/>\n                <!--\n\n                -->\n              </div>\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <TransactionForeignCurrency :index=\"index\"/>\n              </div>\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionForeignAmount :index=\"index\"/>\n              </div>\n            </div>\n\n            <!-- dates -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionDate\n                    :date=\"transactions[index].date\"\n                    :time=\"transactions[index].time\"\n                    :index=\"index\"\n                />\n              </div>\n\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\">\n                <TransactionCustomDates :index=\"index\" :enabled-dates=\"customDateFields\"/>\n              </div>\n            </div>\n\n            <!--\n                        <p class=\"d-block d-sm-none\">XS</p>\n                        <p class=\"d-none d-sm-block d-md-none\">SM</p>\n                        <p class=\"d-none d-md-block d-lg-none\">MD</p>\n                        <p class=\"d-none d-lg-block d-xl-none\">LG</p>\n                        <p class=\"d-none d-xl-block\">XL</p>\n\n\n                        <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>\n\n                        {# top stuff #}\n                        <div class=\"row\">\n                          <div class=\"col\">\n\n                          </div>\n                        </div>\n\n\n            -->\n\n            <div class=\"row\">\n              <div class=\"col\">\n                <!-- AMOUNT -->\n                <!--\n                <div class=\"input-group\">\n                  <input\n                      title=\"Amount\"\n                      autocomplete=\"off\"\n                      autofocus\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"Amount\"\n                  >\n                </div>\n                <div class=\"input-group\">\n                  <input\n                      title=\"Foreign\"\n                      autocomplete=\"off\"\n                      autofocus\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"Foreign\"\n                  >\n                </div>\n                -->\n              </div>\n              <div class=\"col\">\n\n              </div>\n            </div>\n\n\n            <h4>{{ $t('firefly.transaction_journal_meta') }}</h4>\n\n            <!-- meta -->\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionBudget\n                    :budget_id=\"transactions[index].budget_id\"\n                    :index=\"index\"\n                />\n                <div class=\"input-group\">\n                  <input\n                      title=\"Category\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"Category\"\n                  >\n                </div>\n              </div>\n              <div class=\"col\">\n                <div class=\"input-group\">\n                  <input\n                      title=\"Bill\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"Bill\"\n                  >\n                </div>\n                <div class=\"input-group\">\n                  <input\n                      title=\"Tags\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"Tags\"\n                  >\n                </div>\n                <div class=\"input-group\">\n                  <input\n                      title=\"Piggy\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"Piggy\"\n                  >\n                </div>\n              </div>\n            </div>\n\n            <h4>{{ $t('firefly.transaction_journal_extra') }}</h4>\n\n            <div class=\"row\">\n              <div class=\"col\">\n                <div class=\"input-group\">\n                  <input\n                      title=\"internal ref\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"internal ref\"\n                  >\n                </div>\n                <div class=\"input-group\">\n                  <input\n                      title=\"Piggy\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"external url\"\n                  >\n                </div>\n                <div class=\"input-group\">\n                  <textarea class=\"form-control\" placeholder=\"Notes\"></textarea>\n                </div>\n              </div>\n              <div class=\"col\">\n                <div class=\"input-group\">\n                  <input\n                      title=\"Piggy\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"transaction links\"\n                  >\n                </div>\n                <div class=\"input-group\">\n                  <input\n                      title=\"Piggy\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      name=\"something[]\"\n                      type=\"text\"\n                      placeholder=\"piggy bank\"\n                  >\n                </div>\n              </div>\n\n            </div>\n          </div>\n          <!-- /.card-body -->\n        </div>\n      </div>\n    </div>\n\n    <!-- buttons -->\n    <!-- button -->\n    <div class=\"row\">\n      <div class=\"col\">\n        <button @click=\"addTransaction\" class=\"btn btn-primary\">{{ $t('firefly.add_another_split') }}</button>\n      </div>\n      <div class=\"col\">\n        <p class=\"float-right\">\n          <button @click=\"submitTransaction\" :disabled=\"isSubmitting\" class=\"btn btn-success\">Store transaction</button>\n          <br/>\n        </p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col float-right\">\n        <p class=\"text-right\">\n          <small class=\"text-muted\">Create another another another <input type=\"checkbox\"/></small><br/>\n          <small class=\"text-muted\">Return here <input type=\"checkbox\"/></small><br/>\n        </p>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport TransactionDescription from \"./TransactionDescription\";\nimport TransactionDate from \"./TransactionDate\";\nimport TransactionBudget from \"./TransactionBudget\";\nimport {createNamespacedHelpers} from 'vuex'\nimport TransactionAccount from \"./TransactionAccount\";\nimport SwitchAccount from \"./SwitchAccount\";\nimport TransactionAmount from \"./TransactionAmount\";\nimport TransactionForeignAmount from \"./TransactionForeignAmount\";\nimport TransactionForeignCurrency from \"./TransactionForeignCurrency\";\nimport TransactionCustomDates from \"./TransactionCustomDates\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\n\nexport default {\n  name: \"Create\",\n  components: {\n    TransactionCustomDates,\n    TransactionForeignCurrency,\n    TransactionForeignAmount, TransactionAmount, SwitchAccount, TransactionAccount, TransactionBudget, TransactionDescription, TransactionDate\n  },\n  created() {\n    this.storeAllowedOpposingTypes();\n    this.storeAccountToTransaction();\n    this.storeCustomDateFields();\n    this.addTransaction();\n  },\n  data() {\n    return {\n      groupTitle: '',\n      isSubmitting: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType', // -> this.someGetter\n                    'transactions', // -> this.someOtherGetter\n                    'customDateFields'\n                  ])\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'addTransaction',\n          'deleteTransaction',\n          'setAllowedOpposingTypes',\n          'setAccountToTransaction',\n        ],\n    ),\n    storeCustomDateFields: function () {\n      // TODO may include all custom fields in the future.\n      axios.get('./api/v1/preferences/transaction_journal_optional_fields').then(response => {\n        let fields = response.data.data.attributes.data;\n        let allDateFields = ['interest_date', 'book_date', 'process_date', 'due_date', 'payment_date', 'invoice_date'];\n        let selectedDateFields = {\n          interest_date: false,\n          book_date: false,\n          process_date: false,\n          due_date: false,\n          payment_date: false,\n          invoice_date: false,\n        };\n        for (let key in fields) {\n          if (fields.hasOwnProperty(key)) {\n            if(-1 !== allDateFields.indexOf(key)) {\n              selectedDateFields[key] = fields[key];\n            }\n          }\n        }\n        this.$store.commit('transactions/create/setCustomDateFields', selectedDateFields);\n      });\n    },\n    /**\n     *\n     */\n    storeAllowedOpposingTypes: function () {\n      this.setAllowedOpposingTypes(window.allowedOpposingTypes);\n    },\n    storeAccountToTransaction: function () {\n      this.setAccountToTransaction(window.accountToTransaction);\n    },\n    /**\n     *\n     */\n    submitTransaction: function () {\n      this.isSubmitting = true;\n      // console.log('Now in submit()');\n      const uri = './api/v1/transactions';\n      const data = this.convertData();\n\n      console.log('Would have submitted:');\n      console.log(data);\n\n      this.isSubmitting = false;\n    },\n    /**\n     *\n     */\n    convertData: function () {\n      // console.log('now in convertData');\n      let data = {\n        //'group_title': null,\n        'transactions': []\n      };\n      for (let key in this.transactions) {\n        if (this.transactions.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          data.transactions.push(this.convertSplit(key, this.transactions[key]));\n        }\n      }\n      return data;\n    },\n\n    /**\n     *\n     * @param key\n     * @param array\n     */\n    convertSplit: function (key, array) {\n      let currentSplit = {\n        // basic\n        description: array.description,\n        date: (array.date + ' ' + array.time).trim(),\n\n        // account\n        source_id: array.source_account.id ?? null,\n        source_name: array.source_account.name ?? null,\n        destination_id: array.destination_account.id ?? null,\n        destination_name: array.destination_account.name ?? null,\n\n        // amount:\n        currency_id: array.currency_id,\n        amount: array.amount,\n        foreign_currency_id: array.foreign_currency_id,\n        foreign_amount: array.foreign_amount,\n\n\n        // meta\n        budget_id: array.budget_id,\n\n      };\n\n      // return it.\n      return currentSplit;\n    }\n\n    // addTransactionToArray: function (e) {\n    //   console.log('Now in addTransactionToArray()');\n    //   this.$store.\n    //\n    //   this.transactions.push({\n    //                            description: '',\n    //                          });\n    //   if (e) {\n    //     e.preventDefault();\n    //   }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=1bda78bc&scoped=true&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bda78bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.transactions),function(transaction,index){return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[(0 === _vm.transactions.length)?_c('span',[_vm._v(_vm._s(_vm.$t('firefly.create_new_transaction')))]):_vm._e(),_vm._v(\" \"),(_vm.transactions.length > 1)?_c('span',[_vm._v(_vm._s(_vm.$t('firefly.single_split'))+\" \"+_vm._s(index + 1)+\" / \"+_vm._s(_vm.transactions.length))]):_vm._e()]),_vm._v(\" \"),(_vm.transactions.length > 1)?_c('div',{staticClass:\"card-tools\"},[_c('button',{staticClass:\"btn btn-xs btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteTransaction(index, $event)}}},[_c('i',{staticClass:\"fa fa-trash\"})])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('firefly.basic_journal_information')))]),_vm._v(\" \"),_vm._m(0,true),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionDescription',{attrs:{\"description\":_vm.transactions[index].description,\"index\":index}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAccount',{attrs:{\"selectedAccount\":_vm.transactions[index].source_account,\"direction\":\"source\",\"index\":index}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[_c('SwitchAccount',{attrs:{\"index\":index}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAccount',{attrs:{\"selectedAccount\":_vm.transactions[index].destination_account,\"direction\":\"destination\",\"index\":index}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAmount',{attrs:{\"index\":index}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[_c('TransactionForeignCurrency',{attrs:{\"index\":index}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionForeignAmount',{attrs:{\"index\":index}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionDate',{attrs:{\"date\":_vm.transactions[index].date,\"time\":_vm.transactions[index].time,\"index\":index}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\"},[_c('TransactionCustomDates',{attrs:{\"index\":index,\"enabled-dates\":_vm.customDateFields}})],1)]),_vm._v(\" \"),_vm._m(1,true),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.$t('firefly.transaction_journal_meta')))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionBudget',{attrs:{\"budget_id\":_vm.transactions[index].budget_id,\"index\":index}}),_vm._v(\" \"),_vm._m(2,true)],1),_vm._v(\" \"),_vm._m(3,true)]),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.$t('firefly.transaction_journal_extra')))]),_vm._v(\" \"),_vm._m(4,true)])])])])}),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.addTransaction}},[_vm._v(_vm._s(_vm.$t('firefly.add_another_split')))])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"float-right\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"disabled\":_vm.isSubmitting},on:{\"click\":_vm.submitTransaction}},[_vm._v(\"Store transaction\")]),_vm._v(\" \"),_c('br')])])]),_vm._v(\" \"),_vm._m(5)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"d-block d-sm-none\"},[_vm._v(\"XS\")]),_vm._v(\" \"),_c('p',{staticClass:\"d-none d-sm-block d-md-none\"},[_vm._v(\"SM\")]),_vm._v(\" \"),_c('p',{staticClass:\"d-none d-md-block d-lg-none\"},[_vm._v(\"MD\")]),_vm._v(\" \"),_c('p',{staticClass:\"d-none d-lg-block d-xl-none\"},[_vm._v(\"LG\")]),_vm._v(\" \"),_c('p',{staticClass:\"d-none d-xl-block\"},[_vm._v(\"XL\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"}),_vm._v(\" \"),_c('div',{staticClass:\"col\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"Category\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"Category\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"Bill\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"Bill\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"Tags\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"Tags\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"Piggy\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"Piggy\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"internal ref\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"internal ref\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"Piggy\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"external url\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"placeholder\":\"Notes\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"Piggy\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"transaction links\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"title\":\"Piggy\",\"autocomplete\":\"off\",\"name\":\"something[]\",\"type\":\"text\",\"placeholder\":\"piggy bank\"}})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col float-right\"},[_c('p',{staticClass:\"text-right\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Create another another another \"),_c('input',{attrs:{\"type\":\"checkbox\"}})]),_c('br'),_vm._v(\" \"),_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Return here \"),_c('input',{attrs:{\"type\":\"checkbox\"}})]),_c('br')])])])}]\n\nexport { render, staticRenderFns }","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport store from \"../../components/store\";\nimport Create from \"../../components/transactions/Create\";\nimport Vue from \"vue\";\n\nrequire('../../bootstrap');\n\nVue.config.productionTip = false;\n// i18n\nlet i18n = require('../../i18n');\n\nlet props = {};\nnew Vue({\n            i18n,\n            store,\n            render(createElement) {\n                return createElement(Create, {props: props});\n            },\n            beforeCreate() {\n                this.$store.commit('initialiseStore');\n                this.$store.dispatch('updateCurrencyPreference');\n            },\n        }).$mount('#transactions_create');\n"],"sourceRoot":""}