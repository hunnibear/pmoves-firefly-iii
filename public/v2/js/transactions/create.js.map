{"version":3,"file":"/public/js/transactions/create.js","mappings":"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","sources":["webpack:///./src/bootstrap.js","webpack:///./src/components/store/modules/transactions/create.js","webpack:///./src/components/store/modules/transactions/edit.js","webpack:///./src/components/store/modules/dashboard/index.js","webpack:///./src/components/store/modules/root.js","webpack:///./src/components/store/modules/accounts/index.js","webpack:///./src/components/store/index.js","webpack:///./src/i18n.js","webpack:///src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?9ec9","webpack:///./src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?67d8","webpack:///./src/pages/transactions/create.js","webpack:///./src/shared/transactions.js","webpack:///./src/components/transactions/TransactionTags.vue?238a","webpack:///src/components/partials/Alert.vue","webpack:///./src/components/partials/Alert.vue?acce","webpack:///./src/components/partials/Alert.vue","webpack:///./src/components/partials/Alert.vue?d88a","webpack:///./src/components/transactions/SplitForm.vue?12ea","webpack:///src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?90ad","webpack:///./src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?2646","webpack:///src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?5303","webpack:///./src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?ed78","webpack:///src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?7019","webpack:///./src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?7857","webpack:///src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?d05f","webpack:///./src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?6d69","webpack:///src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?5f04","webpack:///./src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?0e78","webpack:///src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?27fc","webpack:///./src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?0c7b","webpack:///src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?106a","webpack:///./src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?1946","webpack:///src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?5d8b","webpack:///./src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?4d54","webpack:///src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?5d98","webpack:///./src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?f25d","webpack:///src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue?2d84","webpack:///./src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue?e5e2","webpack:///src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue?f8ee","webpack:///./src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue?a9cd","webpack:///./src/components/transactions/TransactionTags.vue?b7f3","webpack:///src/components/transactions/TransactionTags.vue","webpack:///./src/components/transactions/TransactionTags.vue?2d2c","webpack:///./src/components/transactions/TransactionTags.vue?beaf","webpack:///./src/components/transactions/TransactionTags.vue","webpack:///src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue?183c","webpack:///./src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue?2a55","webpack:///src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue?a225","webpack:///./src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue?b8a8","webpack:///src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue?e521","webpack:///./src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue?e39a","webpack:///src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue?aaff","webpack:///./src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue?c0c2","webpack:///./src/components/transactions/TransactionLinks.vue?93e9","webpack:///src/components/transactions/TransactionLinks.vue","webpack:///./src/components/transactions/TransactionLinks.vue?e8c9","webpack:///./src/components/transactions/TransactionLinks.vue","webpack:///src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue?596e","webpack:///./src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue?6daa","webpack:///src/components/transactions/TransactionLocation.vue","webpack:///./src/components/transactions/TransactionLocation.vue?dc21","webpack:///./src/components/transactions/TransactionLocation.vue","webpack:///./src/components/transactions/TransactionLocation.vue?d4f4","webpack:///./src/components/transactions/SplitForm.vue?2164","webpack:///src/components/transactions/SplitForm.vue","webpack:///./src/components/transactions/SplitForm.vue","webpack:///src/components/transactions/SplitPills.vue","webpack:///./src/components/transactions/SplitPills.vue?059c","webpack:///./src/components/transactions/SplitPills.vue","webpack:///./src/components/transactions/SplitPills.vue?294c","webpack:///./src/components/transactions/TransactionGroupTitle.vue?65e1","webpack:///src/components/transactions/TransactionGroupTitle.vue","webpack:///./src/components/transactions/TransactionGroupTitle.vue?201d","webpack:///./src/components/transactions/TransactionGroupTitle.vue"],"sourcesContent":["/*\n * bootstrap.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// // imports\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n'\nimport * as uiv from 'uiv';\n\n// export jquery for others scripts to use\nwindow.$ = window.jQuery = require('jquery');\n\n// axios\nwindow.axios = require('axios');\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n// CSRF\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]');\n\nif (token) {\n    window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n} else {\n    console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');\n}\n\n// locale\nlet localeToken = document.head.querySelector('meta[name=\"locale\"]');\n\nif (localeToken) {\n    localStorage.locale = localeToken.content;\n} else {\n    localStorage.locale = 'en_US';\n}\n\n// admin stuff\nrequire('jquery-ui');\nrequire('bootstrap'); // bootstrap CSS?\n\nrequire('admin-lte/dist/js/adminlte');\nrequire('overlayscrollbars');\n\n\n// vue\nwindow.vuei18n = VueI18n;\nwindow.uiv = uiv;\nVue.use(vuei18n);\nVue.use(uiv);\nwindow.Vue = Vue;","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst lodashClonedeep = require('lodash.clonedeep');\n\nimport {getDefaultErrors, getDefaultTransaction} from '../../../../shared/transactions';\n\n// initial state\nconst state = () => ({\n        transactionType: 'any',\n        groupTitle: '',\n        transactions: [],\n        customDateFields: {\n            interest_date: false,\n            book_date: false,\n            process_date: false,\n            due_date: false,\n            payment_date: false,\n            invoice_date: false,\n        },\n        defaultTransaction: getDefaultTransaction(),\n        defaultErrors: getDefaultErrors()\n    }\n)\n\n\n// getters\nconst getters = {\n    transactions: state => {\n        return state.transactions;\n    },\n    defaultErrors: state => {\n        return state.defaultErrors;\n    },\n    groupTitle: state => {\n        return state.groupTitle;\n    },\n    transactionType: state => {\n        return state.transactionType;\n    },\n    accountToTransaction: state => {\n// See reference nr. 1\n        // possible API point!!\n        return state.accountToTransaction;\n    },\n    defaultTransaction: state => {\n        return state.defaultTransaction;\n    },\n    sourceAllowedTypes: state => {\n        return state.sourceAllowedTypes;\n    },\n    destinationAllowedTypes: state => {\n        return state.destinationAllowedTypes;\n    },\n    allowedOpposingTypes: state => {\n        return state.allowedOpposingTypes;\n    },\n    customDateFields: state => {\n        return state.customDateFields;\n    }\n    // // `getters` is localized to this module's getters\n    // // you can use rootGetters via 4th argument of getters\n    // someGetter (state, getters, rootState, rootGetters) {\n    //     getters.someOtherGetter // -> 'foo/someOtherGetter'\n    //     rootGetters.someOtherGetter // -> 'someOtherGetter'\n    //     rootGetters['bar/someOtherGetter'] // -> 'bar/someOtherGetter'\n    // },\n\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    addTransaction(state) {\n        let newTransaction = lodashClonedeep(state.defaultTransaction);\n        newTransaction.errors = lodashClonedeep(state.defaultErrors);\n        state.transactions.push(newTransaction);\n    },\n    resetErrors(state, payload) {\n        //console.log('resetErrors for index ' + payload.index);\n        state.transactions[payload.index].errors = lodashClonedeep(state.defaultErrors);\n    },\n    resetTransactions(state) {\n        // console.log('Store: Record call to resetTransactions :(');\n        state.transactions = [];\n    },\n    setGroupTitle(state, payload) {\n        state.groupTitle = payload.groupTitle;\n    },\n    setCustomDateFields(state, payload) {\n        state.customDateFields = payload;\n    },\n    deleteTransaction(state, payload) {\n        // console.log('Record call to deleteTransaction!');\n        state.transactions.splice(payload.index, 1);\n        // console.log('Deleted transaction ' + payload.index);\n        // console.log(state.transactions);\n        // if (0 === state.transactions.length) {\n            // console.log('array is empty!');\n        // }\n    },\n    setTransactionType(state, transactionType) {\n        state.transactionType = transactionType;\n    },\n    setAllowedOpposingTypes(state, allowedOpposingTypes) {\n        state.allowedOpposingTypes = allowedOpposingTypes;\n    },\n    setAccountToTransaction(state, payload) {\n        state.accountToTransaction = payload;\n    },\n    updateField(state, payload) {\n        state.transactions[payload.index][payload.field] = payload.value;\n    },\n    setTransactionError(state, payload) {\n        //console.log('Will set transactions[' + payload.index + '][errors][' + payload.field + '] to ');\n        //console.log(payload.errors);\n        state.transactions[payload.index].errors[payload.field] = payload.errors;\n    },\n    setDestinationAllowedTypes(state, payload) {\n        // console.log('Destination allowed types was changed!');\n        state.destinationAllowedTypes = payload;\n    },\n    setSourceAllowedTypes(state, payload) {\n        state.sourceAllowedTypes = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * edit.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => ({});\n\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {};\n\n// mutations\nconst mutations = {};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nimport startOfDay from \"date-fns/startOfDay\";\nimport endOfDay from 'date-fns/endOfDay'\nimport startOfWeek from 'date-fns/startOfWeek'\nimport endOfWeek from 'date-fns/endOfWeek'\nimport startOfQuarter from 'date-fns/startOfQuarter';\nimport endOfQuarter from 'date-fns/endOfQuarter';\nimport endOfMonth from \"date-fns/endOfMonth\";\nimport startOfMonth from 'date-fns/startOfMonth';\n\nconst state = () => (\n    {\n        viewRange: 'default',\n        start: null,\n        end: null,\n        defaultStart: null,\n        defaultEnd: null,\n    }\n)\n\n\n// getters\nconst getters = {\n    start: state => {\n        return state.start;\n    },\n    end: state => {\n        return state.end;\n    },\n    defaultStart: state => {\n        return state.defaultStart;\n    },\n    defaultEnd: state => {\n        return state.defaultEnd;\n    },\n    viewRange: state => {\n        return state.viewRange;\n    }\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        // console.log('initialiseStore for dashboard.');\n\n        // restore from local storage:\n        context.dispatch('restoreViewRange');\n\n        axios.get('./api/v1/preferences/viewRange')\n            .then(response => {\n                      let viewRange = response.data.data.attributes.data;\n                      let oldViewRange = context.getters.viewRange;\n                      context.commit('setViewRange', viewRange);\n                      if (viewRange !== oldViewRange) {\n                          // console.log('View range changed from \"' + oldViewRange + '\" to \"' + viewRange + '\"');\n                          context.dispatch('setDatesFromViewRange');\n                      }\n                      if (viewRange === oldViewRange) {\n                          // console.log('Restore view range dates');\n                          context.dispatch('restoreViewRangeDates');\n                      }\n                  }\n            ).catch(() => {\n            context.commit('setViewRange', '1M');\n            context.dispatch('setDatesFromViewRange');\n        });\n\n    },\n    restoreViewRangeDates: function (context) {\n        // check local storage first?\n        if (localStorage.viewRangeStart) {\n            // console.log('view range start set from local storage.');\n            context.commit('setStart', new Date(localStorage.viewRangeStart));\n        }\n        if (localStorage.viewRangeEnd) {\n            // console.log('view range end set from local storage.');\n            context.commit('setEnd', new Date(localStorage.viewRangeEnd));\n        }\n        // also set default:\n        if (localStorage.viewRangeDefaultStart) {\n            // console.log('view range default start set from local storage.');\n            // console.log(localStorage.viewRangeDefaultStart);\n            context.commit('setDefaultStart', new Date(localStorage.viewRangeDefaultStart));\n        }\n        if (localStorage.viewRangeDefaultEnd) {\n            // console.log('view range default end set from local storage.');\n            // console.log(localStorage.viewRangeDefaultEnd);\n            context.commit('setDefaultEnd', new Date(localStorage.viewRangeDefaultEnd));\n        }\n    },\n    restoreViewRange: function (context) {\n        // console.log('restoreViewRange');\n        let viewRange = localStorage.getItem('viewRange');\n        if (null !== viewRange) {\n            // console.log('restored restoreViewRange ' + viewRange );\n            context.commit('setViewRange', viewRange);\n        }\n    },\n    setDatesFromViewRange(context) {\n        let start;\n        let end;\n        let viewRange = context.getters.viewRange;\n        let today = new Date;\n        // console.log('Will recreate view range on ' + viewRange);\n        switch (viewRange) {\n            case '1D':\n                // today:\n                start = startOfDay(today);\n                end = endOfDay(today);\n                break;\n            case '1W':\n                // this week:\n                start = startOfDay(startOfWeek(today, {weekStartsOn: 1}));\n                end = endOfDay(endOfWeek(today, {weekStartsOn: 1}));\n                break;\n            case '1M':\n                // this month:\n                start = startOfDay(startOfMonth(today));\n                end = endOfDay(endOfMonth(today));\n                break;\n            case '3M':\n                // this quarter\n                start = startOfDay(startOfQuarter(today));\n                end = endOfDay(endOfQuarter(today));\n                break;\n            case '6M':\n                // this half-year\n                if (today.getMonth() <= 5) {\n                    start = new Date(today);\n                    start.setMonth(0);\n                    start.setDate(1);\n                    start = startOfDay(start);\n                    end = new Date(today);\n                    end.setMonth(5);\n                    end.setDate(30);\n                    end = endOfDay(start);\n                }\n                if (today.getMonth() > 5) {\n                    start = new Date(today);\n                    start.setMonth(6);\n                    start.setDate(1);\n                    start = startOfDay(start);\n                    end = new Date(today);\n                    end.setMonth(11);\n                    end.setDate(31);\n                    end = endOfDay(start);\n                }\n                break;\n            case '1Y':\n                // this year\n                start = new Date(today);\n                start.setMonth(0);\n                start.setDate(1);\n                start = startOfDay(start);\n\n                end = new Date(today);\n                end.setMonth(11);\n                end.setDate(31);\n                end = endOfDay(end);\n                break;\n        }\n        // console.log('Range is ' + viewRange);\n        // console.log('Start is ' + start);\n        // console.log('End is   ' + end);\n        context.commit('setStart', start);\n        context.commit('setEnd', end);\n        context.commit('setDefaultStart', start);\n        context.commit('setDefaultEnd', end);\n    }\n}\n\n// mutations\nconst mutations = {\n    setStart(state, value) {\n        state.start = value;\n        window.localStorage.setItem('viewRangeStart', value);\n    },\n    setEnd(state, value) {\n        state.end = value;\n        window.localStorage.setItem('viewRangeEnd', value);\n    },\n    setDefaultStart(state, value) {\n        state.defaultStart = value;\n        window.localStorage.setItem('viewRangeDefaultStart', value);\n    },\n    setDefaultEnd(state, value) {\n        state.defaultEnd = value;\n        window.localStorage.setItem('viewRangeDefaultEnd', value);\n    },\n    setViewRange(state, range) {\n        state.viewRange = range;\n        window.localStorage.setItem('viewRange', range);\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * root.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        listPageSize: 33,\n        timezone: '',\n        cacheKey: {\n            age: 0,\n            value: 'empty',\n        },\n    }\n)\n\n\n// getters\nconst getters = {\n    listPageSize: state => {\n        return state.listPageSize;\n    },\n    timezone: state => {\n        // console.log('Wil return ' + state.listPageSize);\n        return state.timezone;\n    },\n    cacheKey: state => {\n        return state.cacheKey.value;\n    },\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        // cache key auto refreshes every day\n        // console.log('Now in initialize store.')\n        if (localStorage.cacheKey) {\n            // console.log('Storage has cache key: ');\n            // console.log(localStorage.cacheKey);\n            let object = JSON.parse(localStorage.cacheKey);\n            if (Date.now() - object.age > 86400000) {\n                // console.log('Key is here but is old.');\n                context.commit('refreshCacheKey');\n            } else {\n                // console.log('Cache key from local storage: ' + object.value);\n                context.commit('setCacheKey', object);\n            }\n        } else {\n            // console.log('No key need new one.');\n            context.commit('refreshCacheKey');\n        }\n        if (localStorage.listPageSize) {\n            state.listPageSize = localStorage.listPageSize;\n            context.commit('setListPageSize', {length: localStorage.listPageSize});\n        }\n        if (!localStorage.listPageSize) {\n            axios.get('./api/v1/preferences/listPageSize')\n                .then(response => {\n                          // console.log('from API: listPageSize is ' + parseInt(response.data.data.attributes.data));\n                          context.commit('setListPageSize', {length: parseInt(response.data.data.attributes.data)});\n                      }\n                );\n        }\n        if (localStorage.timezone) {\n            state.timezone = localStorage.timezone;\n            context.commit('setTimezone', {timezone: localStorage.timezone});\n        }\n        if (!localStorage.timezone) {\n            axios.get('./api/v1/configuration/app.timezone')\n                .then(response => {\n                          context.commit('setTimezone', {timezone: response.data.data.value});\n                      }\n                );\n        }\n    }\n}\n\n// mutations\nconst mutations = {\n    refreshCacheKey(state) {\n        let age = Date.now();\n        let N = 8;\n        let cacheKey = Array(N+1).join((Math.random().toString(36)+'00000000000000000').slice(2, 18)).slice(0, N);\n        let object = {age: age, value: cacheKey};\n        // console.log('Store new key in string JSON');\n        // console.log(JSON.stringify(object));\n        localStorage.cacheKey = JSON.stringify(object);\n        state.cacheKey = {age: age, value: cacheKey};\n        // console.log('Refresh: cachekey is now ' + cacheKey);\n    },\n    setCacheKey(state, payload) {\n        // console.log('Stored cache key in localstorage.');\n        // console.log(payload);\n        // console.log(JSON.stringify(payload));\n        localStorage.cacheKey = JSON.stringify(payload);\n        state.cacheKey = payload;\n    },\n    setListPageSize(state, payload) {\n        // console.log('Got a payload in setListPageSize');\n        // console.log(payload);\n        let number = parseInt(payload.length);\n        if (0 !== number) {\n            state.listPageSize = number;\n            localStorage.listPageSize = number;\n        }\n    },\n    setTimezone(state, payload) {\n\n        if ('' !== payload.timezone) {\n            state.timezone = payload.timezone;\n            localStorage.timezone = payload.timezone;\n        }\n    },\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        orderMode: false,\n        activeFilter: 1\n    }\n)\n\n\n// getters\nconst getters = {\n    orderMode: state => {\n        return state.orderMode;\n    },\n    activeFilter: state => {\n        return state.activeFilter;\n    }\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    setOrderMode(state, payload) {\n        state.orderMode = payload;\n    },\n    setActiveFilter(state, payload) {\n        state.activeFilter = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport Vue from 'vue'\nimport Vuex, {createLogger} from 'vuex'\nimport transactions_create from './modules/transactions/create';\nimport transactions_edit from './modules/transactions/edit';\nimport dashboard_index from './modules/dashboard/index';\nimport root_store from './modules/root';\nimport accounts_index from './modules/accounts/index';\n\nVue.use(Vuex)\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store(\n    {\n        namespaced: true,\n        modules: {\n            root: root_store,\n            transactions: {\n                namespaced: true,\n                modules: {\n                    create: transactions_create,\n                    edit: transactions_edit\n                }\n            },\n            accounts: {\n                namespaced: true,\n                modules: {\n                    index: accounts_index\n                },\n            },\n            dashboard: {\n                namespaced: true,\n                modules: {\n                    index: dashboard_index\n                }\n            }\n        },\n        strict: debug,\n        plugins: debug ? [createLogger()] : [],\n        state: {\n            currencyPreference: {},\n            locale: 'en-US',\n            listPageSize: 50\n        },\n        mutations: {\n            setCurrencyPreference(state, payload) {\n                state.currencyPreference = payload.payload;\n            },\n            initialiseStore(state) {\n                // console.log('Now in initialiseStore()')\n                // if locale in local storage:\n                if (localStorage.locale) {\n                    state.locale = localStorage.locale;\n                    return;\n                }\n\n                // set locale from HTML:\n                let localeToken = document.head.querySelector('meta[name=\"locale\"]');\n                if (localeToken) {\n                    state.locale = localeToken.content;\n                    localStorage.locale = localeToken.content;\n                }\n            }\n        },\n        getters: {\n            currencyCode: state => {\n                return state.currencyPreference.code;\n            },\n            currencyPreference: state => {\n                return state.currencyPreference;\n            },\n            currencyId: state => {\n                return state.currencyPreference.id;\n            },\n            locale: state => {\n                return state.locale;\n            }\n            },\n        actions: {\n\n            updateCurrencyPreference(context) {\n                // console.log('Now in updateCurrencyPreference');\n                if (localStorage.currencyPreference) {\n                    context.commit('setCurrencyPreference', {payload: JSON.parse(localStorage.currencyPreference)});\n                    return;\n                }\n                axios.get('./api/v1/currencies/default')\n                    .then(response => {\n                        let currencyResponse = {\n                            id: parseInt(response.data.data.id),\n                            name: response.data.data.attributes.name,\n                            symbol: response.data.data.attributes.symbol,\n                            code: response.data.data.attributes.code,\n                            decimal_places: parseInt(response.data.data.attributes.decimal_places),\n                        };\n                        localStorage.currencyPreference = JSON.stringify(currencyResponse);\n                        //console.log('getCurrencyPreference from server')\n                        //console.log(JSON.stringify(currencyResponse));\n                        context.commit('setCurrencyPreference', {payload: currencyResponse});\n                    }).catch(err => {\n                    // console.log('Got error response.');\n                    console.error(err);\n                    context.commit('setCurrencyPreference', {\n                        payload: {\n                            id: 1,\n                            name: 'Euro',\n                            symbol: '€',\n                            code: 'EUR',\n                            decimal_places: 2\n                        }\n                    });\n                });\n\n            }\n        }\n    }\n);","/*\n * i18n.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// Create VueI18n instance with options\nmodule.exports = new vuei18n({\n    locale: document.documentElement.lang, // set locale\n    fallbackLocale: 'en',\n    messages: {\n        'bg': require('./locales/bg.json'),\n        'cs': require('./locales/cs.json'),\n        'de': require('./locales/de.json'),\n        'en': require('./locales/en.json'),\n        'en-us': require('./locales/en.json'),\n        'en-gb': require('./locales/en-gb.json'),\n        'es': require('./locales/es.json'),\n        'el': require('./locales/el.json'),\n        'fr': require('./locales/fr.json'),\n        'hu': require('./locales/hu.json'),\n        //'id': require('./locales/id.json'),\n        'it': require('./locales/it.json'),\n        'ja': require('./locales/ja.json'),\n        'nl': require('./locales/nl.json'),\n        'nb': require('./locales/nb.json'),\n        'pl': require('./locales/pl.json'),\n        'fi': require('./locales/fi.json'),\n        'pt-br': require('./locales/pt-br.json'),\n        'pt-pt': require('./locales/pt.json'),\n        'ro': require('./locales/ro.json'),\n        'ru': require('./locales/ru.json'),\n        //'zh': require('./locales/zh.json'),\n        'zh-tw': require('./locales/zh-tw.json'),\n        'zh-cn': require('./locales/zh-cn.json'),\n        'sk': require('./locales/sk.json'),\n        'sv': require('./locales/sv.json'),\n        'vi': require('./locales/vi.json'),\n    }\n});\n","<!--\n  - Create.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <alert :message=\"errorMessage\" type=\"danger\"/>\n    <alert :message=\"successMessage\" type=\"success\"/>\n    <form @submit=\"submitTransaction\" autocomplete=\"off\">\n      <SplitPills ref=\"pills\" :transactions=\"transactions\" :count=\"transactions.length\"/>\n      <div class=\"tab-content\">\n        <SplitForm\n            v-for=\"(transaction, index) in this.transactions\"\n            v-bind:key=\"index\"\n            :count=\"transactions.length\"\n            :custom-fields=\"customFields\"\n            :date=\"date\"\n            ref=\"splitForms\"\n            :destination-allowed-types=\"destinationAllowedTypes\"\n            :index=\"index\"\n            :source-allowed-types=\"sourceAllowedTypes\"\n            :submitted-transaction=\"submittedTransaction\"\n            :transaction=\"transaction\"\n            :transaction-type=\"transactionType\"\n            v-on:uploaded-attachments=\"uploadedAttachment($event)\"\n            v-on:selected-attachments=\"selectedAttachment($event)\"\n            v-on:set-marker-location=\"storeLocation($event)\"\n            v-on:set-account=\"storeAccountValue($event)\"\n            v-on:set-date=\"storeDate($event)\"\n            v-on:set-field=\"storeField($event)\"\n            v-on:remove-transaction=\"removeTransaction($event)\"\n        />\n      </div>\n\n      <div class=\"row\">\n        <!-- group title -->\n        <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n          <div v-if=\"transactions.length > 1\" class=\"card\">\n            <div class=\"card-body\">\n              <div class=\"row\">\n                <div class=\"col\">\n                  <TransactionGroupTitle v-model=\"this.groupTitle\" :errors=\"this.groupTitleErrors\" v-on:set-group-title=\"storeGroupTitle($event)\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n          <!-- buttons -->\n          <div class=\"card card-primary\">\n            <div class=\"card-body\">\n              <div class=\"row\">\n                <div class=\"col\">\n                  <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                    &nbsp;\n                  </div>\n                  <button type=\"button\" class=\"btn btn-outline-primary btn-block\" @click=\"addTransactionArray\"><span class=\"far fa-clone\"></span> {{\n                      $t('firefly.add_another_split')\n                    }}\n                  </button>\n                </div>\n                <div class=\"col\">\n                  <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                    &nbsp;\n                  </div>\n                  <button :disabled=\"!enableSubmit\" class=\"btn btn-success btn-block\" @click=\"submitTransaction\">\n                    <span v-if=\"enableSubmit\"><span class=\"far fa-save\"></span> {{ $t('firefly.store_transaction') }}</span>\n                    <span v-if=\"!enableSubmit\"><span class=\"fas fa-spinner fa-spin\"></span></span>\n                  </button>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  &nbsp;\n                </div>\n                <div class=\"col\">\n                  <div class=\"form-check\">\n                    <input id=\"createAnother\" v-model=\"createAnother\" class=\"form-check-input\" type=\"checkbox\">\n                    <label class=\"form-check-label\" for=\"createAnother\">\n                      <span class=\"small\">{{ $t('firefly.create_another') }}</span>\n                    </label>\n                  </div>\n                  <div class=\"form-check\">\n                    <input id=\"resetFormAfter\" v-model=\"resetFormAfter\" :disabled=\"!createAnother\" class=\"form-check-input\" type=\"checkbox\">\n                    <label class=\"form-check-label\" for=\"resetFormAfter\">\n                      <span class=\"small\">{{ $t('firefly.reset_after') }}</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Alert from '../partials/Alert';\nimport SplitPills from \"./SplitPills\";\nimport TransactionGroupTitle from \"./TransactionGroupTitle\";\nimport SplitForm from \"./SplitForm\";\nimport {mapGetters, mapMutations} from \"vuex\";\n\nexport default {\n  name: \"Create\",\n  components: {\n    SplitForm,\n    Alert,\n    SplitPills,\n    TransactionGroupTitle,\n  },\n  /**\n   * Grab some stuff from the API, add the first transaction.\n   */\n  created() {\n    // set transaction type:\n    let pathName = window.location.pathname;\n    let parts = pathName.split('/');\n    let type = parts[parts.length - 1];\n\n    // set a basic date-time string:\n    let date = new Date;\n    this.date = [date.getFullYear(), ('0' + (date.getMonth() + 1)).slice(-2), ('0' + date.getDate()).slice(-2)].join('-') + 'T00:00';\n\n    //console.log('Date is set to \"' + this.date + '\"');\n\n    this.setTransactionType(type[0].toUpperCase() + type.substring(1));\n    this.getExpectedSourceTypes();\n    this.getAccountToTransaction();\n    this.getCustomFields();\n    this.addTransaction();\n  },\n  data() {\n    return {\n      // error or success message\n      errorMessage: '',\n      successMessage: '',\n\n      // custom fields to show, useful for components:\n      customFields: {},\n\n      // states for the form (makes sense right)\n      enableSubmit: true,\n      createAnother: false,\n      resetFormAfter: false,\n\n      // things the process is done working on (3 phases):\n      submittedTransaction: false,\n      submittedLinks: false,\n      submittedAttachments: -1, // -1 (no attachments), 0 = uploading, 1 = uploaded\n\n      // transaction was actually submitted?\n      inError: false,\n\n      // number of uploaded attachments\n      // its an object because we count per transaction journal (which can have multiple attachments)\n      // and array doesn't work right.\n      submittedAttCount: {},\n\n      // errors in the group title:\n      groupTitleErrors: [],\n\n      // group ID + title once submitted:\n      returnedGroupId: 0,\n      returnedGroupTitle: '',\n\n      // meta data for accounts\n      accountToTransaction: {},\n      allowedOpposingTypes: {},\n      sourceAllowedTypes: ['Asset account', 'Loan', 'Debt', 'Mortgage', 'Revenue account'],\n      destinationAllowedTypes: ['Asset account', 'Loan', 'Debt', 'Mortgage', 'Expense account'],\n\n      // date not in the store because it was buggy\n      date: ''\n    }\n  },\n  computed: {\n    /**\n     * Grabbed from the store.\n     */\n    ...mapGetters('transactions/create', ['transactionType', 'transactions', 'groupTitle', 'defaultErrors']),\n    ...mapGetters('root', ['listPageSize'])\n  },\n  watch: {\n    submittedAttachments: function () {\n      this.finaliseSubmission();\n    }\n  },\n  methods: {\n    /**\n     * Store related mutators used by this component.\n     */\n    ...mapMutations('transactions/create',\n                    [\n                      'setGroupTitle',\n                      'addTransaction',\n                      'deleteTransaction',\n                      'setTransactionError',\n                      'setTransactionType',\n                      'resetErrors',\n                      'updateField',\n                      'resetTransactions',\n                    ]\n    ),\n    addTransactionArray: function (event) {\n      // console.log('Record call to addTransactionArray');\n      event.preventDefault();\n      this.addTransaction();\n    },\n    /**\n     * Removes a split from the array.\n     */\n    removeTransaction: function (payload) {\n      // console.log('Record call to removeTransaction');\n      // console.log('Triggered to remove transaction ' + payload.index);\n      window.$('#tab_split_' + (payload.index - 1)).click();\n      this.$store.commit('transactions/create/deleteTransaction', payload);\n    },\n    submitData: function (url, data) {\n      return axios.post(url, data);\n    },\n    handleSubmissionResponse: function (response) {\n      // console.log('In handleSubmissionResponse()');\n      // save some meta data:\n      this.returnedGroupId = parseInt(response.data.data.id);\n      this.returnedGroupTitle = null === response.data.data.attributes.group_title ? response.data.data.attributes.transactions[0].description : response.data.data.attributes.group_title;\n      let journals = [];\n\n      // save separate journal ID's (useful ahead in the process):\n      let result = response.data.data.attributes.transactions\n      for (let i in result) {\n        if (result.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          journals.push(parseInt(result[i].transaction_journal_id));\n        }\n      }\n\n      return Promise.resolve({journals: journals});\n    },\n    submitLinks: function (response, submission) {\n      let promises = [];\n      // for\n      for (let i in response.journals) {\n        if (response.journals.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let journalId = response.journals[i];\n          let links = submission.transactions[i].links;\n          for (let ii in links) {\n            if (links.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n              let currentLink = links[ii];\n              if (0 === currentLink.outward_id) {\n                currentLink.outward_id = journalId;\n              }\n              if (0 === currentLink.inward_id) {\n                currentLink.inward_id = journalId;\n              }\n              promises.push(axios.post('./api/v1/transaction_links', currentLink));\n            }\n          }\n        }\n      }\n      if (0 === promises.length) {\n        return Promise.resolve({response: 'from submitLinks'});\n      }\n      return Promise.all(promises);\n    },\n    submitAttachments: function (response, submission) {\n      let anyAttachments = false;\n      for (let i in response.journals) {\n        if (response.journals.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let journalId = response.journals[i];\n          let hasAttachments = submission.transactions[i].attachments;\n          // console.log('Decided that ' + journalId);\n          // console.log(hasAttachments);\n          if (hasAttachments) {\n            // console.log('upload!');\n            this.updateField({index: i, field: 'transaction_journal_id', value: journalId});\n            // set upload trigger?\n            this.updateField({index: i, field: 'uploadTrigger', value: true});\n            //this.transactions[i].uploadTrigger = true;\n            anyAttachments = true;\n          }\n        }\n      }\n\n      if (true === anyAttachments) {\n        this.submittedAttachments = 0;\n      }\n\n      return Promise.resolve({response: 'from submitAttachments'});\n    },\n    selectedAttachment: function (payload) {\n      this.updateField({index: payload.index, field: 'attachments', value: true});\n    },\n    finaliseSubmission: function () {\n      // console.log('finaliseSubmission');\n      if (0 === this.submittedAttachments) {\n        // console.log('submittedAttachments = ' + this.submittedAttachments);\n        return;\n      }\n      // console.log('In finaliseSubmission');\n      if (false === this.createAnother) {\n        window.location.href = (window.previousURL ?? '/') + '?transaction_group_id=' + this.returnedGroupId + '&message=created';\n        return;\n      }\n      //console.log('Is in error?');\n      //console.log(this.inError);\n      if (false === this.inError) {\n        // show message:\n        this.errorMessage = '';\n        this.successMessage = this.$t('firefly.transaction_stored_link', {ID: this.returnedGroupId, title: this.returnedGroupTitle});\n      }\n      // console.log('here we are');\n      // enable flags:\n      this.enableSubmit = true;\n      this.submittedTransaction = false;\n      this.submittedAttachments = -1;\n\n      // reset attachments + errors\n      if (!this.resetFormAfter) {\n        for (let i in this.transactions) {\n          if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n            if (this.transactions.hasOwnProperty(i)) {\n              // console.log('Reset attachment #' + i);\n              this.updateField({index: i, field: 'transaction_journal_id', value: 0});\n              this.updateField({index: i, field: 'errors', value: this.defaultErrors})\n            }\n          }\n        }\n      }\n      // reset the form:\n      if (this.resetFormAfter) {\n        this.resetTransactions();\n        setTimeout(this.addTransaction, 50);\n\n      }\n      return Promise.resolve({response: 'from finaliseSubmission'});\n    },\n    handleSubmissionError: function (error) {\n      //console.log('in handleSubmissionError');\n      // oh noes Firefly III has something to bitch about.\n      this.enableSubmit = true;\n\n      // but report an error because error:\n      this.inError = true;\n      this.parseErrors(error.response.data);\n    },\n    /**\n     * Actually submit the transaction to Firefly III. This is a fairly complex beast of a thing because multiple things\n     * need to happen in the right order.\n     */\n    submitTransaction: function (event) {\n      event.preventDefault();\n      // console.log('submitTransaction()');\n      // disable the submit button:\n      this.enableSubmit = false;\n\n      // assume nothing breaks\n      this.inError = false;\n\n      // remove old warnings etc.\n      this.successMessage = '';\n      this.errorMessage = '';\n\n      // convert the data so its ready to be submitted:\n      const url = './api/v1/transactions';\n      const data = this.convertData();\n\n      this.submitData(url, data)\n          .then(this.handleSubmissionResponse)\n          .then(response => {\n                  return Promise.all([this.submitLinks(response, data), this.submitAttachments(response, data)]);\n                }\n          )\n          .then(this.finaliseSubmission)\n          .catch(this.handleSubmissionError);\n\n    },\n    /**\n     * When a attachment component is done uploading it ends up here. We create an object where we count how many\n     * attachment components have reported back they're done uploading. Of course if they have nothing to upload\n     * they will be pretty fast in reporting they're done.\n     *\n     * Once the number of components matches the number of splits we know all attachments have been uploaded.\n     */\n    uploadedAttachment: function (journalId) {\n      this.submittedAttachments = 0;\n      // console.log('Triggered uploadedAttachment(' + journalId + ')');\n      let key = 'str' + journalId;\n      this.submittedAttCount[key] = 1;\n      let count = Object.keys(this.submittedAttCount).length;\n      // console.log('Count is now ' + count);\n      // console.log('Length is ' + this.transactions.length);\n      if (count === this.transactions.length) {\n        // console.log('Got them all!');\n        // mark the attachments as stored:\n        this.submittedAttachments = 1;\n      }\n    },\n    /**\n     * Responds to changed location.\n     */\n    storeLocation: function (payload) {\n      let zoomLevel = payload.hasMarker ? payload.zoomLevel : null;\n      let lat = payload.hasMarker ? payload.lat : null;\n      let lng = payload.hasMarker ? payload.lng : null;\n      this.updateField({index: payload.index, field: 'zoom_level', value: zoomLevel});\n      this.updateField({index: payload.index, field: 'latitude', value: lat});\n      this.updateField({index: payload.index, field: 'longitude', value: lng});\n    },\n    /**\n     * Responds to changed account.\n     */\n    storeAccountValue: function (payload) {\n      this.updateField({index: payload.index, field: payload.direction + '_account_id', value: payload.id});\n      this.updateField({index: payload.index, field: payload.direction + '_account_type', value: payload.type});\n      this.updateField({index: payload.index, field: payload.direction + '_account_name', value: payload.name});\n\n      this.updateField({index: payload.index, field: payload.direction + '_account_currency_id', value: payload.currency_id});\n      this.updateField({index: payload.index, field: payload.direction + '_account_currency_code', value: payload.currency_code});\n      this.updateField({index: payload.index, field: payload.direction + '_account_currency_symbol', value: payload.currency_symbol});\n\n      //this.calculateTransactionType(payload.index);\n      if ('source' === payload.direction && true === payload.user_selected) {\n        this.$refs.splitForms[payload.index].$refs.destinationAccount.giveFocus();\n      }\n      if ('destination' === payload.direction && true === payload.user_selected) {\n        this.$refs.splitForms[payload.index].$refs.amount.giveFocus();\n      }\n    },\n    storeField: function (payload) {\n      this.updateField(payload);\n      if('description' === payload.field) {\n        // jump to account\n        this.$refs.splitForms[payload.index].$refs.sourceAccount.giveFocus();\n      }\n    },\n    storeDate: function (payload) {\n      this.date = payload.date;\n    },\n    storeGroupTitle: function (value) {\n      // console.log('set group title: ' + value);\n      this.setGroupTitle({groupTitle: value});\n    },\n\n    /**\n     * Submit transaction links.\n     */\n    submitTransactionLinks(data, response) {\n      //console.log('submitTransactionLinks()');\n      let promises = [];\n      let result = response.data.data.attributes.transactions;\n      let total = 0;\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let submitted = data.transactions[i];\n          if (result.hasOwnProperty(i)) {\n            // found matching created transaction.\n            let received = result[i];\n            // grab ID from received, loop \"submitted\" transaction links\n            for (let ii in submitted.links) {\n              if (submitted.links.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                let currentLink = submitted.links[ii];\n                total++;\n                if (0 === currentLink.outward_id) {\n                  currentLink.outward_id = received.transaction_journal_id;\n                }\n                if (0 === currentLink.inward_id) {\n                  currentLink.inward_id = received.transaction_journal_id;\n                }\n                // submit transaction link:\n                promises.push(axios.post('./api/v1/transaction_links', currentLink).then(response => {\n// See reference nr. 4\n                }));\n              }\n            }\n          }\n        }\n      }\n      if (0 === total) {\n        this.submittedLinks = true;\n        return;\n      }\n      Promise.all(promises).then(function () {\n        this.submittedLinks = true;\n      });\n    },\n    parseErrors: function (errors) {\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i)) {\n          this.resetErrors({index: i});\n        }\n      }\n\n      this.successMessage = '';\n      this.errorMessage = this.$t('firefly.errors_submission');\n      if (typeof errors.errors === 'undefined') {\n        this.successMessage = '';\n        this.errorMessage = errors.message;\n      }\n\n      let payload;\n      let transactionIndex;\n      let fieldName;\n\n      // fairly basic way of exploding the error array.\n      for (const key in errors.errors) {\n        // console.log('Error index: \"' + key + '\"');\n        if (errors.errors.hasOwnProperty(key)) {\n          if (key === 'group_title') {\n            this.groupTitleErrors = errors.errors[key];\n            continue;\n          }\n          if (key !== 'group_title') {\n            // lol dumbest way to explode \"transactions.0.something\" ever.\n            transactionIndex = parseInt(key.split('.')[1]);\n\n            fieldName = key.split('.')[2];\n\n            // set error in this object thing.\n            // console.log('The errors in key \"' + key + '\" are');\n            // console.log(errors.errors[key]);\n            switch (fieldName) {\n              case 'amount':\n              case 'description':\n              case 'date':\n              case 'tags':\n                payload = {index: transactionIndex, field: fieldName, errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'budget_id':\n                payload = {index: transactionIndex, field: 'budget', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'bill_id':\n                payload = {index: transactionIndex, field: 'bill', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'piggy_bank_id':\n                payload = {index: transactionIndex, field: 'piggy_bank', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'category_name':\n                payload = {index: transactionIndex, field: 'category', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'source_name':\n              case 'source_id':\n                payload = {index: transactionIndex, field: 'source', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'destination_name':\n              case 'destination_id':\n                payload = {index: transactionIndex, field: 'destination', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'foreign_amount':\n              case 'foreign_currency':\n                payload = {index: transactionIndex, field: 'foreign_amount', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n            }\n          }\n          // unique some things\n          if (typeof this.transactions[transactionIndex] !== 'undefined') {\n            //this.transactions[transactionIndex].errors.source = Array.from(new Set(this.transactions[transactionIndex].errors.source));\n            //this.transactions[transactionIndex].errors.destination = Array.from(new Set(this.transactions[transactionIndex].errors.destination));\n          }\n\n        }\n      }\n    },\n\n    /**\n     *\n     */\n    convertData: function () {\n      //console.log('now in convertData');\n      let data = {\n        'transactions': []\n      };\n      //console.log('Group title is: \"' + this.groupTitle + '\"');\n      if (this.groupTitle.length > 0) {\n        data.group_title = this.groupTitle;\n        //console.log('1) data.group_title is now \"'+data.group_title+'\"');\n      }\n\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          data.transactions.push(this.convertSplit(i, this.transactions[i]));\n        }\n      }\n      if (data.transactions.length > 1 && '' !== data.transactions[0].description && (null === data.group_title || '' === data.group_title)) {\n        data.group_title = data.transactions[0].description;\n        //console.log('2) data.group_title is now \"'+data.group_title+'\"');\n      }\n\n      // depending on the transaction type for this thing, we need to\n      // make sure other splits match the data we submit.\n      if (data.transactions.length > 1) {\n        // console.log('This is a split!');\n        data = this.synchronizeAccounts(data);\n      }\n\n      return data;\n    },\n    synchronizeAccounts: function (data) {\n      // console.log('synchronizeAccounts: ' + this.transactionType);\n      // make sure all splits have whatever is in split 0.\n      // since its a transfer we can drop the name and use ID's only.\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          // console.log('now at ' + i);\n\n          // for transfers, overrule both the source and the destination:\n          if ('transfer' === this.transactionType.toLowerCase()) {\n            data.transactions[i].source_name = null;\n            data.transactions[i].destination_name = null;\n            if (i > 0) {\n              data.transactions[i].source_id = data.transactions[0].source_id;\n              data.transactions[i].destination_id = data.transactions[0].destination_id;\n            }\n          }\n          // for deposits, overrule the destination and ignore the rest.\n          if ('deposit' === this.transactionType.toLowerCase()) {\n            data.transactions[i].destination_name = null;\n            if (i > 0) {\n              data.transactions[i].destination_id = data.transactions[0].destination_id;\n            }\n          }\n\n          // for withdrawals, overrule the source and ignore the rest.\n          if ('withdrawal' === this.transactionType.toLowerCase()) {\n            data.transactions[i].source_name = null;\n            if (i > 0) {\n              data.transactions[i].source_id = data.transactions[0].source_id;\n            }\n          }\n        }\n      }\n      return data;\n\n    },\n\n    /**\n     *\n     * @param key\n     * @param array\n     */\n    convertSplit: function (key, array) {\n      if ('' === array.destination_account_name) {\n        array.destination_account_name = null;\n      }\n      if (0 === array.destination_account_id) {\n        array.destination_account_name = null;\n      }\n\n      if ('' === array.source_account_name) {\n        array.source_account_name = null;\n      }\n      if (0 === array.source_account_id) {\n        array.source_account_id = null;\n      }\n\n      let currentSplit = {\n        // basic\n        description: array.description,\n        date: this.date,\n        type: this.transactionType.toLowerCase(),\n\n        // account\n        source_id: array.source_account_id ?? null,\n        source_name: array.source_account_name ?? null,\n        destination_id: array.destination_account_id ?? null,\n        destination_name: array.destination_account_name ?? null,\n\n        // amount:\n        currency_id: array.currency_id,\n        amount: array.amount,\n\n        // meta data\n        budget_id: array.budget_id,\n        category_name: array.category,\n\n        // optional date fields (6x):\n        interest_date: array.interest_date,\n        book_date: array.book_date,\n        process_date: array.process_date,\n        due_date: array.due_date,\n        payment_date: array.payment_date,\n        invoice_date: array.invoice_date,\n\n        // other optional fields:\n        internal_reference: array.internal_reference,\n        external_url: array.external_url,\n        notes: array.notes,\n        external_id: array.external_id,\n\n        // location:\n        zoom_level: array.zoom_level,\n        longitude: array.longitude,\n        latitude: array.latitude,\n        tags: [],\n\n        // from thing:\n        order: 0,\n        reconciled: false,\n        attachments: array.attachments,\n      };\n\n      if (0 !== array.tags.length) {\n        for (let i in array.tags) {\n          if (array.tags.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n            // array.tags\n            let current = array.tags[i];\n            if (typeof current === 'object' && null !== current) {\n              currentSplit.tags.push(current.text);\n              // console.log('Add tag \"' + current.text + '\" from object.');\n              continue;\n            }\n            if (typeof current === 'string') {\n              currentSplit.tags.push(current);\n              // console.log('Add tag \"' + current + '\" from string.');\n              continue;\n            }\n            // console.log('Is neither.');\n          }\n        }\n      }\n      // console.log('Current split tags is now: ');\n      // console.log(currentSplit.tags);\n\n      // bills and piggy banks\n      if (0 !== array.piggy_bank_id) {\n        currentSplit.piggy_bank_id = array.piggy_bank_id;\n      }\n      if (0 !== array.bill_id) {\n        currentSplit.bill_id = array.bill_id;\n      }\n\n      // foreign amount:\n      if (0 !== array.foreign_currency_id && '' !== array.foreign_amount) {\n        currentSplit.foreign_currency_id = array.foreign_currency_id;\n      }\n      if ('' !== array.foreign_amount) {\n        currentSplit.foreign_amount = array.foreign_amount;\n      }\n\n      // do transaction type\n      // let transactionType;\n      // let firstSource;\n      // let firstDestination;\n\n      // get transaction type from first transaction\n      //transactionType = this.transactionType ? this.transactionType.toLowerCase() : 'any';\n      //console.log('Transaction type is now ' + transactionType);\n      // if the transaction type is invalid, might just be that we can deduce it from\n      // the presence of a source or destination account\n      //firstSource = this.transactions[0].source_account_type;\n      //firstDestination = this.transactions[0].destination_account_type;\n      //console.log(this.transactions[0].source_account);\n      //console.log(this.transactions[0].destination_account);\n      //console.log('Type of first source is  ' + firstSource);\n      //console.log('Type of first destination is  ' + firstDestination);\n\n      // default to source:\n      currentSplit.currency_id = array.source_account_currency_id;\n      // if ('any' === transactionType && ['asset', 'Asset account', 'Loan', 'Debt', 'Mortgage'].includes(firstSource)) {\n      //   transactionType = 'withdrawal';\n      // }\n\n      if ('Deposit' === this.transactionType) {\n        //   transactionType = 'deposit';\n        currentSplit.currency_id = array.destination_account_currency_id;\n      }\n      //currentSplit.type = transactionType;\n      //console.log('Final type is ' + transactionType);\n\n      let links = [];\n      for (let i in array.links) {\n        if (array.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = array.links[i];\n          let linkTypeParts = current.link_type_id.split('-');\n          let inwardId = 'outward' === linkTypeParts[1] ? 0 : parseInt(current.transaction_journal_id);\n          let outwardId = 'inward' === linkTypeParts[1] ? 0 : parseInt(current.transaction_journal_id);\n          let newLink = {\n            link_type_id: parseInt(linkTypeParts[0]),\n            inward_id: inwardId,\n            outward_id: outwardId,\n          };\n          links.push(newLink);\n        }\n      }\n      currentSplit.links = links;\n      if (null === currentSplit.source_id) {\n        delete currentSplit.source_id;\n      }\n      if (null === currentSplit.source_name) {\n        delete currentSplit.source_name;\n      }\n      if (null === currentSplit.destination_id) {\n        delete currentSplit.destination_id;\n      }\n      if (null === currentSplit.destination_name) {\n        delete currentSplit.destination_name;\n      }\n\n      // console.log('Current split is: ');\n      // console.log(currentSplit);\n\n      // return it.\n      return currentSplit;\n    },\n    /**\n     * Get API value.\n     */\n    getAllowedOpposingTypes: function () {\n      axios.get('./api/v1/configuration/firefly.allowed_opposing_types')\n          .then(response => {\n            // console.log('opposing types things.');\n            // console.log(response.data.data.value);\n            this.allowedOpposingTypes = response.data.data.value;\n          });\n    },\n    getExpectedSourceTypes: function () {\n      axios.get('./api/v1/configuration/firefly.expected_source_types')\n          .then(response => {\n            //console.log('getExpectedSourceTypes.');\n            this.sourceAllowedTypes = response.data.data.value.source[this.transactionType];\n            this.destinationAllowedTypes = response.data.data.value.destination[this.transactionType];\n\n            // console.log('sourceAllowedTypes');\n            // console.log(this.sourceAllowedTypes);\n\n            // console.log('Source allowed types for ' + this.transactionType + ' is: ');\n            // console.log(this.sourceAllowedTypes);\n\n            // console.log('Destination allowed types for ' + this.transactionType + ' is: ');\n            // console.log(this.destinationAllowedTypes);\n\n            //this.allowedOpposingTypes = response.data.data.value;\n          });\n    },\n    /**\n     * Get API value.\n     */\n    getAccountToTransaction: function () {\n      axios.get('./api/v1/configuration/firefly.account_to_transaction')\n          .then(response => {\n            this.accountToTransaction = response.data.data.value;\n          });\n    },\n    /**\n     * This method grabs the users preferred custom transaction fields. It's used when configuring the\n     * custom date selects that will be available. It could be something the component does by itself,\n     * thereby separating concerns. This is on my list. If it changes to a per-component thing, then\n     * it should be done via the create.js Vue store because multiple components are interested in the\n     * user's custom transaction fields.\n     */\n    getCustomFields: function () {\n      axios.get('./api/v1/preferences/transaction_journal_optional_fields').then(response => {\n        this.customFields = response.data.data.attributes.data;\n      });\n    },\n    setDestinationAllowedTypes: function (value) {\n      // console.log('Create::setDestinationAllowedTypes');\n      // console.log(value);\n      if (0 === value.length) {\n        this.destinationAllowedTypes = this.defaultDestinationAllowedTypes;\n        //console.log('empty so back to defaults');\n        return;\n      }\n      this.destinationAllowedTypes = value;\n    },\n    setSourceAllowedTypes(value) {\n      // console.log('Create::setSourceAllowedTypes');\n      // console.log(value);\n      if (0 === value.length) {\n        this.sourceAllowedTypes = this.defaultSourceAllowedTypes;\n        // console.log('empty so back to defaults');\n        return;\n      }\n      this.sourceAllowedTypes = value;\n    }\n  },\n\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=cd9e7926&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('alert',{attrs:{\"message\":_vm.errorMessage,\"type\":\"danger\"}}),_vm._v(\" \"),_c('alert',{attrs:{\"message\":_vm.successMessage,\"type\":\"success\"}}),_vm._v(\" \"),_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":_vm.submitTransaction}},[_c('SplitPills',{ref:\"pills\",attrs:{\"transactions\":_vm.transactions,\"count\":_vm.transactions.length}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},_vm._l((this.transactions),function(transaction,index){return _c('SplitForm',{key:index,ref:\"splitForms\",refInFor:true,attrs:{\"count\":_vm.transactions.length,\"custom-fields\":_vm.customFields,\"date\":_vm.date,\"destination-allowed-types\":_vm.destinationAllowedTypes,\"index\":index,\"source-allowed-types\":_vm.sourceAllowedTypes,\"submitted-transaction\":_vm.submittedTransaction,\"transaction\":transaction,\"transaction-type\":_vm.transactionType},on:{\"uploaded-attachments\":function($event){return _vm.uploadedAttachment($event)},\"selected-attachments\":function($event){return _vm.selectedAttachment($event)},\"set-marker-location\":function($event){return _vm.storeLocation($event)},\"set-account\":function($event){return _vm.storeAccountValue($event)},\"set-date\":function($event){return _vm.storeDate($event)},\"set-field\":function($event){return _vm.storeField($event)},\"remove-transaction\":function($event){return _vm.removeTransaction($event)}}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(_vm.transactions.length > 1)?_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionGroupTitle',{attrs:{\"errors\":this.groupTitleErrors},on:{\"set-group-title\":function($event){return _vm.storeGroupTitle($event)}},model:{value:(this.groupTitle),callback:function ($$v) {_vm.$set(this, \"groupTitle\", $$v)},expression:\"this.groupTitle\"}})],1)])])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('div',{staticClass:\"card card-primary\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                   \\n                \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-primary btn-block\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addTransactionArray}},[_c('span',{staticClass:\"far fa-clone\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.add_another_split'))+\"\\n                \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                   \\n                \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-success btn-block\",attrs:{\"disabled\":!_vm.enableSubmit},on:{\"click\":_vm.submitTransaction}},[(_vm.enableSubmit)?_c('span',[_c('span',{staticClass:\"far fa-save\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.store_transaction')))]):_vm._e(),_vm._v(\" \"),(!_vm.enableSubmit)?_c('span',[_c('span',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"\\n                 \\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.createAnother),expression:\"createAnother\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"createAnother\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.createAnother)?_vm._i(_vm.createAnother,null)>-1:(_vm.createAnother)},on:{\"change\":function($event){var $$a=_vm.createAnother,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.createAnother=$$a.concat([$$v]))}else{$$i>-1&&(_vm.createAnother=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.createAnother=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"createAnother\"}},[_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.$t('firefly.create_another')))])])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resetFormAfter),expression:\"resetFormAfter\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"resetFormAfter\",\"disabled\":!_vm.createAnother,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.resetFormAfter)?_vm._i(_vm.resetFormAfter,null)>-1:(_vm.resetFormAfter)},on:{\"change\":function($event){var $$a=_vm.resetFormAfter,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.resetFormAfter=$$a.concat([$$v]))}else{$$i>-1&&(_vm.resetFormAfter=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.resetFormAfter=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"resetFormAfter\"}},[_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.$t('firefly.reset_after')))])])])])])])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport store from \"../../components/store\";\nimport Create from \"../../components/transactions/Create\";\nimport Vue from \"vue\";\n\nrequire('../../bootstrap');\n\nVue.config.productionTip = false;\n// i18n\nlet i18n = require('../../i18n');\n\n// See reference nr. 3\n// See reference nr. 4\n// See reference nr. 5\n// See reference nr. 6\n// See reference nr. 7\n\nlet props = {};\nconst app = new Vue({\n            i18n,\n            store,\n            render(createElement) {\n                return createElement(Create, {props: props});\n            },\n            beforeCreate() {\n                this.$store.dispatch('root/initialiseStore');\n                this.$store.commit('initialiseStore');\n                this.$store.dispatch('updateCurrencyPreference');\n            },\n        }).$mount('#transactions_create');\n","/*\n * transactions.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport function getDefaultErrors() {\n    return {\n        description: [],\n        amount: [],\n        source: [],\n        destination: [],\n        currency: [],\n        foreign_currency: [],\n        foreign_amount: [],\n        date: [],\n        custom_dates: [],\n        budget: [],\n        category: [],\n        bill: [],\n        tags: [],\n        piggy_bank: [],\n        internal_reference: [],\n        external_url: [],\n        notes: [],\n        location: []\n    };\n}\n\nexport function getDefaultTransaction() {\n    return {\n        // basic\n        description: '',\n        transaction_journal_id: 0,\n        // accounts:\n        source_account_id: null,\n        source_account_name: null,\n        source_account_type: null,\n\n        source_account_currency_id: null,\n        source_account_currency_code: null,\n        source_account_currency_symbol: null,\n\n        destination_account_id: null,\n        destination_account_name: null,\n        destination_account_type: null,\n\n        destination_account_currency_id: null,\n        destination_account_currency_code: null,\n        destination_account_currency_symbol: null,\n        attachments: false,\n        selectedAttachments: false,\n        uploadTrigger: false,\n        clearTrigger: false,\n\n        source_account: {\n            id: 0,\n            name: \"\",\n            name_with_balance: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n        destination_account: {\n            id: 0,\n            name: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n\n        // amount:\n        amount: '',\n        currency_id: 0,\n        foreign_amount: '',\n        foreign_currency_id: 0,\n\n        // meta data\n        category: null,\n        budget_id: 0,\n        bill_id: 0,\n        piggy_bank_id: 0,\n        tags: [],\n\n        // optional date fields (6x):\n        interest_date: null,\n        book_date: null,\n        process_date: null,\n        due_date: null,\n        payment_date: null,\n        invoice_date: null,\n\n        // optional other fields:\n        internal_reference: null,\n        external_url: null,\n        external_id: null,\n        notes: null,\n\n        // transaction links:\n        links: [],\n        // location:\n        zoom_level: null,\n        longitude: null,\n        latitude: null,\n\n        // error handling\n        errors: {},\n    }\n}\n\nexport function toW3CString(date) {\n    // https://gist.github.com/tristanlins/6585391\n    let year = date.getFullYear();\n    let month = date.getMonth();\n    month++;\n    if (month < 10) {\n        month = '0' + month;\n    }\n    let day = date.getDate();\n    if (day < 10) {\n        day = '0' + day;\n    }\n    let hours = date.getHours();\n    if (hours < 10) {\n        hours = '0' + hours;\n    }\n    let minutes = date.getMinutes();\n    if (minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    let seconds = date.getSeconds();\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n    let offset = -date.getTimezoneOffset();\n    let offsetHours = Math.abs(Math.floor(offset / 60));\n    let offsetMinutes = Math.abs(offset) - offsetHours * 60;\n    if (offsetHours < 10) {\n        offsetHours = '0' + offsetHours;\n    }\n    if (offsetMinutes < 10) {\n        offsetMinutes = '0' + offsetMinutes;\n    }\n    let offsetSign = '+';\n    if (offset < 0) {\n        offsetSign = '-';\n    }\n    return year + '-' + month + '-' + day +\n           'T' + hours + ':' + minutes + ':' + seconds +\n           offsetSign + offsetHours + ':' + offsetMinutes;\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".vue-tags-input{display:block;max-width:100%!important}.ti-input,.vue-tags-input{border-radius:.25rem;width:100%}.ti-input{max-width:100%}.ti-new-tag-input{font-size:1rem}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/transactions/TransactionTags.vue\"],\"names\":[],\"mappings\":\"AAuHA,gBAGA,aAAA,CADA,wBAGA,CAEA,0BAHA,oBAAA,CAHA,UAUA,CAJA,UAEA,cAEA,CAEA,kBACA,cACA\",\"sourcesContent\":[\"<!--\\n  - TransactionTags.vue\\n  - Copyright (c) 2021 james@firefly-iii.org\\n  -\\n  - This file is part of Firefly III (https://github.com/firefly-iii).\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n  <div class=\\\"form-group\\\">\\n    <div class=\\\"text-xs d-none d-lg-block d-xl-block\\\">\\n      {{ $t('firefly.tags') }}\\n    </div>\\n    <div class=\\\"input-group\\\">\\n      <vue-tags-input\\n          v-model=\\\"currentTag\\\"\\n          :add-only-from-autocomplete=\\\"false\\\"\\n          :autocomplete-items=\\\"autocompleteItems\\\"\\n          :tags=\\\"tags\\\"\\n          ref=\\\"input\\\"\\n          :title=\\\"$t('firefly.tags')\\\"\\n          v-bind:placeholder=\\\"$t('firefly.tags')\\\"\\n          @tags-changed=\\\"newTags => this.tags = newTags\\\"\\n      />\\n    </div>\\n    <span v-if=\\\"errors.length > 0\\\">\\n      <span v-for=\\\"error in errors\\\" class=\\\"text-danger small\\\">{{ error }}<br/></span>\\n    </span>\\n  </div>\\n</template>\\n\\n<script>\\nimport VueTagsInput from \\\"@johmun/vue-tags-input\\\";\\nimport axios from \\\"axios\\\";\\n\\nexport default {\\n  name: \\\"TransactionTags\\\",\\n  components: {\\n    VueTagsInput\\n  },\\n  props: ['value', 'index', 'errors'],\\n  data() {\\n    return {\\n      autocompleteItems: [],\\n      debounce: null,\\n      tags: [],\\n      currentTag: '',\\n      updateTags: true, // the idea is that this is always true, except when the tags-function sets the value.\\n      tagList: this.value,\\n    };\\n  },\\n  created() {\\n    let tags = [];\\n    for (let i in this.value) {\\n      if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\\\d*$/.test(i) && i <= 4294967294) {\\n        tags.push({text: this.value[i]});\\n      }\\n    }\\n    this.updateTags = false;\\n    this.tags = tags;\\n  },\\n  watch: {\\n    'currentTag': 'initItems',\\n    value: function (value) {\\n      this.tagList = value;\\n    },\\n    tagList: function (value) {\\n      // console.log('watch tagList');\\n        this.$emit('set-field', {field: 'tags', index: this.index, value: value});\\n      this.updateTags = false;\\n      this.tags = value;\\n    },\\n    tags: function (value) {\\n      if (this.updateTags) {\\n        let shortList = [];\\n        for (let key in value) {\\n          if (value.hasOwnProperty(key)) {\\n            shortList.push({text: value[key].text});\\n          }\\n        }\\n        this.tagList = shortList;\\n      }\\n      this.updateTags = true;\\n    }\\n  },\\n  methods: {\\n    initItems() {\\n      if (this.currentTag.length < 2) {\\n        return;\\n      }\\n      const url = document.getElementsByTagName('base')[0].href + `api/v1/autocomplete/tags?query=${this.currentTag}`;\\n\\n      clearTimeout(this.debounce);\\n      this.debounce = setTimeout(() => {\\n        axios.get(url).then(response => {\\n          this.autocompleteItems = response.data.map(item => {\\n            return {text: item.tag};\\n          });\\n        }).catch(() => console.warn('Oh. Something went wrong loading tags.'));\\n      }, 300);\\n    },\\n  },\\n\\n\\n}\\n</script>\\n<style>\\n.vue-tags-input {\\n  width: 100%;\\n  max-width: 100% !important;\\n  display: block;\\n  border-radius: 0.25rem;\\n}\\n\\n.ti-input {\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  width: 100%;\\n}\\n\\n.ti-new-tag-input {\\n  font-size: 1rem;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<!--\n  - Alert.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n<template>\n  <div v-if=\"message.length > 0\" :class=\"'alert alert-' + type + ' alert-dismissible'\">\n    <button aria-hidden=\"true\" class=\"close\" data-dismiss=\"alert\" type=\"button\">×</button>\n    <h5>\n      <span v-if=\"'danger' === type\" class=\"icon fas fa-ban\"></span>\n      <span v-if=\"'success' === type\" class=\"icon fas fa-thumbs-up\"></span>\n      <span v-if=\"'danger' === type\">{{ $t(\"firefly.flash_error\") }}</span>\n      <span v-if=\"'success' === type\">{{ $t(\"firefly.flash_success\") }}</span>\n    </h5>\n    <span v-html=\"message\"></span>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Alert\",\n  props: ['message', 'type']\n}\n</script>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Alert.vue?vue&type=template&id=45eef68c&\"\nimport script from \"./Alert.vue?vue&type=script&lang=js&\"\nexport * from \"./Alert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.message.length > 0)?_c('div',{class:'alert alert-' + _vm.type + ' alert-dismissible'},[_c('button',{staticClass:\"close\",attrs:{\"aria-hidden\":\"true\",\"data-dismiss\":\"alert\",\"type\":\"button\"}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h5',[('danger' === _vm.type)?_c('span',{staticClass:\"icon fas fa-ban\"}):_vm._e(),_vm._v(\" \"),('success' === _vm.type)?_c('span',{staticClass:\"icon fas fa-thumbs-up\"}):_vm._e(),_vm._v(\" \"),('danger' === _vm.type)?_c('span',[_vm._v(_vm._s(_vm.$t(\"firefly.flash_error\")))]):_vm._e(),_vm._v(\" \"),('success' === _vm.type)?_c('span',[_vm._v(_vm._s(_vm.$t(\"firefly.flash_success\")))]):_vm._e()]),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message)}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:'tab-pane' + (0 === _vm.index ? ' active' : ''),attrs:{\"id\":'split_' + _vm.index}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.basic_journal_information'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()]),_vm._v(\" \"),(_vm.count>1)?_c('div',{staticClass:\"card-tools\"},[_c('button',{staticClass:\"btn btn-danger btn-xs\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.removeTransaction}},[_c('span',{staticClass:\"fas fa-trash-alt\"})])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionDescription',_vm._g({attrs:{\"errors\":_vm.transaction.errors.description,\"index\":_vm.index},model:{value:(_vm.transaction.description),callback:function ($$v) {_vm.$set(_vm.transaction, \"description\", $$v)},expression:\"transaction.description\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAccount',_vm._g({ref:\"sourceAccount\",attrs:{\"destination-allowed-types\":_vm.destinationAllowedTypes,\"errors\":_vm.transaction.errors.source,\"index\":_vm.index,\"source-allowed-types\":_vm.sourceAllowedTypes,\"transaction-type\":_vm.transactionType,\"direction\":\"source\"},on:{\"selected-account\":function($event){return _vm.triggerNextAccount($event)}},model:{value:(_vm.sourceAccount),callback:function ($$v) {_vm.sourceAccount=$$v},expression:\"sourceAccount\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[(0 === _vm.index && _vm.allowSwitch)?_c('SwitchAccount',_vm._g({attrs:{\"index\":_vm.index,\"transaction-type\":_vm.transactionType}},_vm.$listeners)):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAccount',_vm._g({ref:\"destinationAccount\",attrs:{\"destination-allowed-types\":_vm.destinationAllowedTypes,\"errors\":_vm.transaction.errors.destination,\"index\":_vm.index,\"transaction-type\":_vm.transactionType,\"source-allowed-types\":_vm.sourceAllowedTypes,\"direction\":\"destination\"},model:{value:(_vm.destinationAccount),callback:function ($$v) {_vm.destinationAccount=$$v},expression:\"destinationAccount\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAmount',_vm._g({ref:\"amount\",attrs:{\"amount\":_vm.transaction.amount,\"destination-currency-symbol\":this.transaction.destination_account_currency_symbol,\"errors\":_vm.transaction.errors.amount,\"index\":_vm.index,\"source-currency-symbol\":this.transaction.source_account_currency_symbol,\"transaction-type\":this.transactionType}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[_c('TransactionForeignCurrency',_vm._g({attrs:{\"destination-currency-id\":this.transaction.destination_account_currency_id,\"index\":_vm.index,\"selected-currency-id\":this.transaction.foreign_currency_id,\"source-currency-id\":this.transaction.source_account_currency_id,\"transaction-type\":this.transactionType},model:{value:(_vm.transaction.foreign_currency_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"foreign_currency_id\", $$v)},expression:\"transaction.foreign_currency_id\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionForeignAmount',_vm._g({attrs:{\"destination-currency-id\":this.transaction.destination_account_currency_id,\"errors\":_vm.transaction.errors.foreign_amount,\"index\":_vm.index,\"selected-currency-id\":this.transaction.foreign_currency_id,\"source-currency-id\":this.transaction.source_account_currency_id,\"transaction-type\":this.transactionType},model:{value:(_vm.transaction.foreign_amount),callback:function ($$v) {_vm.$set(_vm.transaction, \"foreign_amount\", $$v)},expression:\"transaction.foreign_amount\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionDate',_vm._g({attrs:{\"date\":_vm.splitDate,\"errors\":_vm.transaction.errors.date,\"index\":_vm.index}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\"},[_c('TransactionCustomDates',_vm._g({attrs:{\"book-date\":_vm.transaction.book_date,\"custom-fields\":_vm.customFields,\"due-date\":_vm.transaction.due_date,\"errors\":_vm.transaction.errors.custom_dates,\"index\":_vm.index,\"interest-date\":_vm.transaction.interest_date,\"invoice-date\":_vm.transaction.invoice_date,\"payment-date\":_vm.transaction.payment_date,\"process-date\":_vm.transaction.process_date},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}}},_vm.$listeners))],1)])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.transaction_journal_meta'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBudget',_vm._g({attrs:{\"errors\":_vm.transaction.errors.budget,\"index\":_vm.index},model:{value:(_vm.transaction.budget_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"budget_id\", $$v)},expression:\"transaction.budget_id\"}},_vm.$listeners)):_vm._e(),_vm._v(\" \"),_c('TransactionCategory',_vm._g({attrs:{\"errors\":_vm.transaction.errors.category,\"index\":_vm.index},model:{value:(_vm.transaction.category),callback:function ($$v) {_vm.$set(_vm.transaction, \"category\", $$v)},expression:\"transaction.category\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBill',_vm._g({attrs:{\"errors\":_vm.transaction.errors.bill,\"index\":_vm.index},model:{value:(_vm.transaction.bill_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"bill_id\", $$v)},expression:\"transaction.bill_id\"}},_vm.$listeners)):_vm._e(),_vm._v(\" \"),_c('TransactionTags',_vm._g({ref:\"tags\",attrs:{\"errors\":_vm.transaction.errors.tags,\"index\":_vm.index},model:{value:(_vm.transaction.tags),callback:function ($$v) {_vm.$set(_vm.transaction, \"tags\", $$v)},expression:\"transaction.tags\"}},_vm.$listeners)),_vm._v(\" \"),(!('Withdrawal' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionPiggyBank',_vm._g({attrs:{\"errors\":_vm.transaction.errors.piggy_bank,\"index\":_vm.index},model:{value:(_vm.transaction.piggy_bank_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"piggy_bank_id\", $$v)},expression:\"transaction.piggy_bank_id\"}},_vm.$listeners)):_vm._e()],1)])])])])]),_vm._v(\" \"),(_vm.hasMetaFields)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.transaction_journal_extra'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionInternalReference',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.internal_reference,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.internal_reference),callback:function ($$v) {_vm.$set(_vm.transaction, \"internal_reference\", $$v)},expression:\"transaction.internal_reference\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionExternalUrl',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.external_url,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.external_url),callback:function ($$v) {_vm.$set(_vm.transaction, \"external_url\", $$v)},expression:\"transaction.external_url\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionNotes',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.notes,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.notes),callback:function ($$v) {_vm.$set(_vm.transaction, \"notes\", $$v)},expression:\"transaction.notes\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAttachments',_vm._g({ref:\"attachments\",attrs:{\"custom-fields\":_vm.customFields,\"index\":_vm.index,\"transaction_journal_id\":_vm.transaction.transaction_journal_id,\"upload-trigger\":_vm.transaction.uploadTrigger,\"clear-trigger\":_vm.transaction.clearTrigger},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.attachments),callback:function ($$v) {_vm.$set(_vm.transaction, \"attachments\", $$v)},expression:\"transaction.attachments\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionLocation',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.location,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.location),callback:function ($$v) {_vm.$set(_vm.transaction, \"location\", $$v)},expression:\"transaction.location\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionLinks',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.links),callback:function ($$v) {_vm.$set(_vm.transaction, \"links\", $$v)},expression:\"transaction.links\"}},_vm.$listeners))],1)])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionDescription.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <vue-typeahead-bootstrap\n        v-model=\"description\"\n        :data=\"descriptions\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.description')\"\n        :serializer=\"item => item.description\"\n        :showOnFocus=true\n        autofocus\n        tabindex=\"1\"\n        ref=\"autoComplete\"\n        inputName=\"description[]\"\n        @input=\"lookupDescription\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearDescription\"><span class=\"far fa-trash-alt\"></span></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionDescription\",\n  data() {\n    return {\n      descriptions: [],\n      initialSet: [],\n      description: this.value,\n    }\n  },\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n\n          if(0===this.index) {\n            this.$refs.autoComplete.$refs.input.tabIndex = 1;\n          }\n\n        });\n  },\n\n  methods: {\n    clearDescription: function () {\n      this.description = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.description = value;\n    },\n    description: function (value) {\n      this.$emit('set-field', {field: 'description', index: this.index, value: value});\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDescription.vue?vue&type=template&id=4c963a73&\"\nimport script from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('vue-typeahead-bootstrap',{ref:\"autoComplete\",attrs:{\"data\":_vm.descriptions,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.description'),\"serializer\":function (item) { return item.description; },\"showOnFocus\":true,\"autofocus\":\"\",\"tabindex\":\"1\",\"inputName\":\"description[]\"},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('span',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionDate.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\" v-if=\"0===index\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.date_and_time') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          ref=\"date\"\n          v-model=\"dateStr\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"dateStr\"\n          :title=\"$t('firefly.date')\"\n          autocomplete=\"off\"\n          name=\"date[]\"\n          type=\"date\"\n      >\n      <input\n          ref=\"time\"\n          v-model=\"timeStr\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"timeStr\"\n          :title=\"$t('firefly.time')\"\n          autocomplete=\"off\"\n          name=\"time[]\"\n          type=\"time\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n    <span class=\"text-muted small\">{{ localTimeZone }}:{{ systemTimeZone }}</span>\n  </div>\n</template>\n\n<script>\n\nimport {mapGetters} from \"vuex\";\n\nexport default {\n  props: ['index', 'errors', 'date'],\n  name: \"TransactionDate\",\n  created() {\n    this.localTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    this.systemTimeZone = this.timezone;\n    // console.log('TransactionDate: ' + this.date);\n    // split date and time:\n    let parts = this.date.split('T');\n    this.dateStr = parts[0];\n    this.timeStr = parts[1];\n  },\n  mounted: function () {\n    if (0 === this.index) {\n      this.$nextTick(function () {\n        this.$refs.date.tabIndex = 6;\n        this.$refs.time.tabIndex = 7;\n      });\n    }\n  },\n  data() {\n    return {\n      localDate: this.date,\n      localTimeZone: '',\n      systemTimeZone: '',\n      timeStr: '',\n      dateStr: '',\n    }\n  },\n  watch: {\n    dateStr: function (value) {\n      this.$emit('set-date', {date: value + 'T' + this.timeStr});\n    },\n    timeStr: function (value) {\n      this.$emit('set-date', {date: this.dateStr + 'T' + value});\n    }\n  },\n  methods: {},\n  computed: {\n    ...mapGetters('root', ['timezone']),\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDate.vue?vue&type=template&id=d89e37f4&\"\nimport script from \"./TransactionDate.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (0===_vm.index)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.date_and_time'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dateStr),expression:\"dateStr\"}],ref:\"date\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.dateStr,\"title\":_vm.$t('firefly.date'),\"autocomplete\":\"off\",\"name\":\"date[]\",\"type\":\"date\"},domProps:{\"value\":(_vm.dateStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.dateStr=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timeStr),expression:\"timeStr\"}],ref:\"time\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.timeStr,\"title\":_vm.$t('firefly.time'),\"autocomplete\":\"off\",\"name\":\"time[]\",\"type\":\"time\"},domProps:{\"value\":(_vm.timeStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.timeStr=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"text-muted small\"},[_vm._v(_vm._s(_vm.localTimeZone)+\":\"+_vm._s(_vm.systemTimeZone))])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionBudget.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.budget') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"budget\"\n          v-model=\"budget\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.budget')\"\n          autocomplete=\"off\"\n          name=\"budget_id[]\"\n      >\n        <option v-for=\"budget in this.budgetList\" :label=\"budget.name\" :value=\"budget.id\">{{ budget.name }}</option>\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionBudget\",\n  data() {\n    return {\n      budgetList: [],\n      budget: this.value,\n      emitEvent: true\n    }\n  },\n  mounted: function () {\n    this.$nextTick(function () {\n      this.$refs.budget.tabIndex = 8;\n    })\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.budgetList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_budget'),\n          }\n      );\n      this.getBudgets();\n    },\n    getBudgets() {\n      axios.get('./api/v1/budgets')\n          .then(response => {\n                  this.parseBudgets(response.data);\n                }\n          );\n    },\n    parseBudgets(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          if(!current.attributes.active) {\n            continue;\n          }\n          this.budgetList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.budget = value;\n    },\n    budget: function (value) {\n      this.$emit('set-field', {field: 'budget_id', index: this.index, value: value});\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionBudget.vue?vue&type=template&id=f2db3054&\"\nimport script from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.budget'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget),expression:\"budget\"}],ref:\"budget\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.budget'),\"autocomplete\":\"off\",\"name\":\"budget_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.budget=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.budgetList),function(budget){return _c('option',{attrs:{\"label\":budget.name},domProps:{\"value\":budget.id}},[_vm._v(_vm._s(budget.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div v-if=\"visible\" class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span v-if=\"0 === this.index\">{{ $t('firefly.' + this.direction + '_account') }}</span>\n      <span v-if=\"this.index > 0\" class=\"text-warning\">{{ $t('firefly.first_split_overrules_' + this.direction) }}</span>\n    </div>\n    <div v-if=\"!visible\" class=\"text-xs d-none d-lg-block d-xl-block\">\n      &nbsp;\n    </div>\n    <vue-typeahead-bootstrap\n        v-if=\"visible\"\n        v-model=\"accountName\"\n        :data=\"accounts\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :inputName=\"direction + '[]'\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.' + direction + '_account')\"\n        :serializer=\"item => item.name_with_balance\"\n        :showOnFocus=true\n        ref=\"inputThing\"\n        aria-autocomplete=\"none\"\n        autocomplete=\"off\"\n        @hit=\"userSelectedAccount\"\n        @input=\"lookupAccount\"\n    >\n\n      <template slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <div :title=\"data.type\" class=\"d-flex\">\n          <span v-html=\"htmlText\"></span><br>\n        </div>\n      </template>\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearAccount\"><span class=\"far fa-trash-alt\"></span></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <div v-if=\"!visible\" class=\"form-control-static\">\n      <span class=\"small text-muted\"><em>{{ $t('firefly.first_split_decides') }}</em></span>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n      </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from 'lodash';\n\nexport default {\n  name: \"TransactionAccount\",\n  components: {VueTypeaheadBootstrap},\n  props: {\n    index: {\n      type: Number,\n    },\n    direction: {\n      type: String,\n    },\n    value: {\n      type: Object,\n      default: () => ({})\n    },\n    errors: {\n      type: Array,\n      default: () => ([])\n    },\n    sourceAllowedTypes: {\n      type: Array,\n      default: () => ([])\n    },\n    destinationAllowedTypes: {\n      type: Array,\n      default: () => ([])\n    },\n    transactionType: {\n      type: String,\n      default: 'any'\n    },\n  },\n  data() {\n    return {\n      query: '',\n      accounts: [],\n      accountTypes: [],\n      initialSet: [],\n      selectedAccount: {},\n      accountName: '',\n      selectedAccountTrigger: false,\n    }\n  },\n  created() {\n    this.accountName = this.value.name ?? '';\n    // console.log('TransactionAccount::created() direction=' + this.direction + ', type=' + this.transactionType + ' , name=\"' + this.accountName + '\"');\n    this.selectedAccountTrigger = true;\n  },\n  mounted: function () {\n    this.$nextTick(function () {\n      if (0 === this.index) {\n        this.$refs.inputThing.$refs.input.tabIndex = 2;\n      }\n    })\n  },\n  methods: {\n    getACURL: function (types, query) {\n      return './api/v1/autocomplete/accounts?types=' + types.join(',') + '&query=' + query;\n    },\n    giveFocus: function () {\n      //console.log('I want focus! now OK: ' + this.direction + ' l: ' + this.accounts.length);\n      //console.log(this.$refs.inputThing.$refs.input.value);\n      this.$refs.inputThing.$refs.input.focus();\n      //console.log(this.$refs.inputThing.isFocused);\n    },\n    userSelectedAccount: function (event) {\n      // console.log('userSelectedAccount!');\n      // console.log('To prevent invalid propogation, set selectedAccountTrigger = true');\n      this.selectedAccountTrigger = true;\n      this.selectedAccount = event;\n    },\n    systemReturnedAccount: function (event) {\n      //console.log('systemReturnedAccount!');\n      //console.log('To prevent invalid propogation, set selectedAccountTrigger = false');\n      this.selectedAccountTrigger = false;\n      this.selectedAccount = event;\n    },\n    clearAccount: function () {\n      //// console.log('TransactionAccount::clearAccount()');\n      this.accounts = this.initialSet;\n      //this.account = {name: '', type: 'no_type', id: null, currency_id: null, currency_code: null, currency_symbol: null};\n      this.accountName = '';\n    },\n    lookupAccount: debounce(function () {\n      //// console.log('TransactionAccount::lookupAccount()');\n      //// console.log('In lookupAccount()');\n      if (0 === this.accountTypes.length) {\n        // set the types from the default types for this direction:\n        this.accountTypes = 'source' === this.direction ? this.sourceAllowedTypes : this.destinationAllowedTypes;\n      }\n      // // console.log(this.direction + ': Will search for types:');\n      // // console.log(this.accountTypes);\n\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.accountTypes, this.accountName))\n          .then(response => {\n            //// console.log('Got a response!');\n            this.accounts = response.data;\n            //// console.log(response.data);\n          })\n    }, 300),\n\n    createInitialSet: function () {\n      //// console.log('TransactionAccount::createInitialSet()');\n      let types = this.sourceAllowedTypes;\n      if ('destination' === this.direction) {\n        types = this.destinationAllowedTypes;\n      }\n      // // console.log('createInitialSet() direction=' + this.direction + ' resets to these types:');\n      // // console.log(types);\n\n      axios.get(this.getACURL(types, ''))\n          .then(response => {\n            this.accounts = response.data;\n            this.initialSet = response.data;\n          });\n    }\n  },\n  watch: {\n    sourceAllowedTypes: function (value) {\n      //// console.log('TransactionAccount::sourceAllowedTypes()');\n      // // console.log(this.direction + ' account noticed change in sourceAllowedTypes');\n      // // console.log(value);\n      this.createInitialSet();\n    },\n    destinationAllowedTypes: function (value) {\n      //// console.log('TransactionAccount::destinationAllowedTypes()');\n      // // console.log(this.direction + ' account noticed change in destinationAllowedTypes');\n      // // console.log(value);\n      this.createInitialSet();\n    },\n    /**\n     * Triggered when the user selects an account from the auto-complete.\n     *\n     * @param value\n     */\n    selectedAccount: function (value) {\n      //console.log('TransactionAccount::watch selectedAccount()');\n      // console.log(value);\n      if (true === this.selectedAccountTrigger) {\n        // console.log('$emit alles!');\n        this.$emit('set-account',\n                   {\n                     index: this.index,\n                     direction: this.direction,\n                     id: value.id,\n                     type: value.type,\n                     name: value.name,\n                     currency_id: value.currency_id,\n                     currency_code: value.currency_code,\n                     currency_symbol: value.currency_symbol,\n                     user_selected: true,\n                   }\n                   // jump to next field somehow.\n\n        );\n        //console.log('watch::selectedAccount() will now set accountName because selectedAccountTrigger = true');\n        this.accountName = value.name;\n\n      }\n      if (false === this.selectedAccountTrigger) {\n        //console.log('watch::selectedAccount() will NOT set accountName because selectedAccountTrigger = false');\n      }\n      if (false === this.selectedAccountTrigger && this.accountName !== value.name && null !== value.name) {\n        //console.log('watch::selectedAccount() will set accountName. selectedAccountTrigger = false but name is different (\"' + this.accountName + '\" > \"' + value.name + '\")');\n        this.selectedAccountTrigger = true;\n        this.accountName = value.name;\n      }\n\n    },\n    accountName: function (value) {\n      // console.log('now at watch accountName(\"' + value + '\")');\n      // console.log(this.selectedAccountTrigger);\n      if (true === this.selectedAccountTrigger) {\n        // console.log('Do nothing because selectedAccountTrigger = true');\n      }\n      if (false === this.selectedAccountTrigger) {\n        // console.log('$emit name from watch::accountName() because selectedAccountTrigger = false');\n        this.$emit('set-account',\n                   {\n                     index: this.index,\n                     direction: this.direction,\n                     id: null,\n                     type: null,\n                     name: value,\n                     currency_id: null,\n                     currency_code: null,\n                     currency_symbol: null,\n                     user_selected: false\n                   }\n        );\n        // this.account = {name: value, type: null, id: null, currency_id: null, currency_code: null, currency_symbol: null};\n      }\n      // console.log('set selectedAccountTrigger to be FALSE');\n      this.selectedAccountTrigger = false;\n    },\n    value: function (value) {\n      //console.log('TransactionAccount(' + this.index + ')::watch value(' + JSON.stringify(value) + ')');\n      this.systemReturnedAccount(value);\n\n      // // console.log('Index ' + this.index + ' nwAct: ', value);\n      // // console.log(this.direction + ' account overruled by external forces.');\n      // // console.log(value);\n      //this.account = value;\n      //this.selectedAccountTrigger = true;\n      // this.accountName = value.name ?? '';\n      // if(null !== value.id) {\n      // return;\n      // }\n      // this.selectedAccountTrigger = true;\n      //\n      // // console.log('Set selectedAccountTrigger = true');\n      // this.selectedAccount = value;\n    }\n  },\n  computed: {\n    accountKey: {\n      get() {\n        return 'source' === this.direction ? 'source_account' : 'destination_account';\n      }\n    },\n    visible: {\n      get() {\n        // index  0 is always visible:\n        if (0 === this.index) {\n          return true;\n        }\n        // // console.log('Direction of account ' + this.index + ' is ' + this.direction + '(' + this.transactionType + ')');\n        // // console.log(this.transactionType);\n        if ('source' === this.direction) {\n          return 'any' === this.transactionType || 'Deposit' === this.transactionType || typeof this.transactionType === 'undefined';\n        }\n        if ('destination' === this.direction) {\n          return 'any' === this.transactionType || 'Withdrawal' === this.transactionType || typeof this.transactionType === 'undefined';\n        }\n        return false;\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAccount.vue?vue&type=template&id=cfadde00&\"\nimport script from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[(_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[(0 === this.index)?_c('span',[_vm._v(_vm._s(_vm.$t('firefly.' + this.direction + '_account')))]):_vm._e(),_vm._v(\" \"),(this.index > 0)?_c('span',{staticClass:\"text-warning\"},[_vm._v(_vm._s(_vm.$t('firefly.first_split_overrules_' + this.direction)))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n     \\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.visible)?_c('vue-typeahead-bootstrap',{ref:\"inputThing\",attrs:{\"data\":_vm.accounts,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"inputName\":_vm.direction + '[]',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.' + _vm.direction + '_account'),\"serializer\":function (item) { return item.name_with_balance; },\"showOnFocus\":true,\"aria-autocomplete\":\"none\",\"autocomplete\":\"off\"},on:{\"hit\":_vm.userSelectedAccount,\"input\":_vm.lookupAccount},scopedSlots:_vm._u([{key:\"suggestion\",fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn [_c('div',{staticClass:\"d-flex\",attrs:{\"title\":data.type}},[_c('span',{domProps:{\"innerHTML\":_vm._s(htmlText)}}),_c('br')])]}}],null,false,1423807661),model:{value:(_vm.accountName),callback:function ($$v) {_vm.accountName=$$v},expression:\"accountName\"}},[_vm._v(\" \"),_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearAccount}},[_c('span',{staticClass:\"far fa-trash-alt\"})])])])],2):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"form-control-static\"},[_c('span',{staticClass:\"small text-muted\"},[_c('em',[_vm._v(_vm._s(_vm.$t('firefly.first_split_decides')))])])]):_vm._e(),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SwitchAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span v-if=\"'any' !== this.transactionType\" class=\"text-muted\">\n        {{ $t('firefly.' + this.transactionType) }}\n      </span>\n      <span v-if=\"'any' === this.transactionType\" class=\"text-muted\">&nbsp;</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SwitchAccount\",\n  props: ['index', 'transactionType'],\n  methods: {\n    // switchAccounts() {\n    //   this.$emit('switch-accounts', this.index);\n    // }\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwitchAccount.vue?vue&type=template&id=7ccf55e2&\"\nimport script from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[('any' !== this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.' + this.transactionType))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),('any' === this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('firefly.amount') }}</div>\n    <div class=\"input-group\">\n      <div v-if=\"currencySymbol\" class=\"input-group-prepend\">\n        <div class=\"input-group-text\">{{ currencySymbol }}</div>\n      </div>\n      <input\n          v-model=\"transactionAmount\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.amount')\"\n          :title=\"$t('firefly.amount')\"\n          autocomplete=\"off\"\n          name=\"amount[]\"\n          type=\"number\"\n          ref=\"input\"\n          step=\"any\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"TransactionAmount\",\n  props: {\n    index: {\n      type: Number,\n      default: 0,\n      required: true\n    },\n    errors: {},\n    amount: {},\n    transactionType: {},\n    sourceCurrencySymbol: {},\n    destinationCurrencySymbol: {},\n    fractionDigits: {\n      default: 2,\n      required: false\n    },\n  },\n  created() {\n    if ('' !== this.amount) {\n      this.emitEvent = false;\n      this.transactionAmount = this.formatNumber(this.amount);\n    }\n  },\n  mounted: function () {\n    this.$nextTick(function () {\n      if (0 === this.index) {\n        this.$refs.input.tabIndex = 3;\n      }\n    })\n  },\n  methods: {\n    formatNumber(str) {\n      return parseFloat(str).toFixed(this.fractionDigits);\n    },\n    giveFocus: function () {\n      this.$refs.input.focus();\n    },\n  },\n  data() {\n    return {\n      transactionAmount: this.amount,\n      currencySymbol: null,\n      srcCurrencySymbol: this.sourceCurrencySymbol,\n      dstCurrencySymbol: this.destinationCurrencySymbol,\n      emitEvent: true\n    }\n  },\n  watch: {\n    transactionAmount: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'amount', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    },\n    amount: function (value) {\n      this.transactionAmount = value;\n    },\n    sourceCurrencySymbol: function (value) {\n      this.srcCurrencySymbol = value;\n    },\n    destinationCurrencySymbol: function (value) {\n      this.dstCurrencySymbol = value;\n    },\n    transactionType: function (value) {\n      switch (value) {\n        case 'Transfer':\n        case 'Withdrawal':\n          this.currencySymbol = this.srcCurrencySymbol;\n          break;\n        case 'Deposit':\n          this.currencySymbol = this.dstCurrencySymbol;\n      }\n    },\n  },\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAmount.vue?vue&type=template&id=5babb420&\"\nimport script from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('firefly.amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[(_vm.currencySymbol)?_c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.currencySymbol))])]):_vm._e(),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transactionAmount),expression:\"transactionAmount\"}],ref:\"input\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.amount'),\"title\":_vm.$t('firefly.amount'),\"autocomplete\":\"off\",\"name\":\"amount[]\",\"type\":\"number\",\"step\":\"any\"},domProps:{\"value\":(_vm.transactionAmount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.transactionAmount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN AMOUNT -->\n  <div v-if=\"isVisible\" class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('form.foreign_amount') }}</div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"amount\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('form.foreign_amount')\"\n          :title=\"$t('form.foreign_amount')\"\n          autocomplete=\"off\"\n          name=\"foreign_amount[]\"\n          type=\"number\"\n          ref=\"input\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionForeignAmount\",\n  props: {\n    index: {},\n    errors: {},\n    value: {},\n    transactionType: {},\n    sourceCurrencyId: {},\n    destinationCurrencyId: {},\n    fractionDigits: {\n      type: Number,\n      default: 2\n    }\n  },\n  data() {\n    return {\n      amount: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    if ('' !== this.amount) {\n      this.emitEvent = false;\n      this.amount = this.formatNumber(this.amount);\n    }\n  },\n  mounted: function () {\n    this.$nextTick(function () {\n      this.$refs.input.tabIndex = 5;\n    })\n  },\n  methods: {\n    formatNumber(str) {\n      return parseFloat(str).toFixed(this.fractionDigits);\n    }\n  },\n  watch: {\n    amount: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'foreign_amount', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    },\n    value: function (value) {\n      this.amount = value;\n\n\n    }\n  },\n  computed: {\n    isVisible: {\n      get() {\n        return !('transfer' === this.transactionType.toLowerCase() && parseInt(this.sourceCurrencyId) === parseInt(this.destinationCurrencyId));\n      }\n    },\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignAmount.vue?vue&type=template&id=50a2ab96&\"\nimport script from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('form.foreign_amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],ref:\"input\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('form.foreign_amount'),\"title\":_vm.$t('form.foreign_amount'),\"autocomplete\":\"off\",\"name\":\"foreign_amount[]\",\"type\":\"number\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignCurrency.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN Currency -->\n  <div v-if=\"isVisible\" class=\"form-group\">\n    <div class=\"text-xs\">&nbsp;</div>\n    <div class=\"input-group\">\n      <select v-model=\"selectedCurrency\" class=\"form-control\" ref=\"input\" name=\"foreign_currency_id[]\">\n        <option v-for=\"currency in selectableCurrencies\" :label=\"currency.name\" :value=\"currency.id\">{{ currency.name }}</option>\n      </select>\n    </div>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: \"TransactionForeignCurrency\",\n  props: [\n    'index',\n    'transactionType',\n    'sourceCurrencyId',\n    'destinationCurrencyId',\n    'selectedCurrencyId',\n    'value'\n  ],\n  data() {\n    return {\n      selectedCurrency: this.value,\n      allCurrencies: [],\n      selectableCurrencies: [],\n      dstCurrencyId: this.destinationCurrencyId,\n      srcCurrencyId: this.sourceCurrencyId,\n      lockedCurrency: 0,\n      emitEvent: true\n    }\n  },\n  watch: {\n    value: function (value) {\n      this.selectedCurrency = value;\n    },\n    sourceCurrencyId: function (value) {\n      // console.log('Watch sourceCurrencyId');\n      this.srcCurrencyId = value;\n      this.lockCurrency();\n    },\n    destinationCurrencyId: function (value) {\n      // console.log('Watch destinationCurrencyId');\n      this.dstCurrencyId = value;\n      this.lockCurrency();\n    },\n    selectedCurrency: function (value) {\n      this.$emit('set-field', {field: 'foreign_currency_id', index: this.index, value: value});\n    },\n    transactionType: function (value) {\n      this.lockCurrency();\n    },\n  },\n  created: function () {\n    // console.log('Created TransactionForeignCurrency');\n    this.getAllCurrencies();\n  },\n  mounted: function () {\n    this.$nextTick(function () {\n      this.$refs.input.tabIndex = 4;\n    })\n  },\n  methods: {\n    lockCurrency: function () {\n      // console.log('Lock currency (' + this.transactionType + ')');\n      this.lockedCurrency = 0;\n      if ('transfer' === this.transactionType.toLowerCase()) {\n        // console.log('IS a transfer!');\n        this.lockedCurrency = parseInt(this.dstCurrencyId);\n        this.selectedCurrency = parseInt(this.dstCurrencyId);\n      }\n      this.filterCurrencies();\n    },\n    getAllCurrencies: function () {\n      axios.get('./api/v1/autocomplete/currencies')\n          .then(response => {\n                  this.allCurrencies = response.data;\n                  this.filterCurrencies();\n                }\n          );\n\n    },\n    filterCurrencies() {\n      // console.log('filterCurrencies');\n      // console.log(this.lockedCurrency);\n      // if a currency is locked only that currency can (and must) be selected:\n      if (0 !== this.lockedCurrency) {\n        // console.log('Here we are');\n        for (let key in this.allCurrencies) {\n          if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n            let current = this.allCurrencies[key];\n            if (parseInt(current.id) === this.lockedCurrency) {\n              this.selectableCurrencies = [current];\n              this.selectedCurrency = current.id;\n            }\n          }\n        }\n        // if source + dest ID are the same, skip the whole field.\n\n        return;\n      }\n\n      this.selectableCurrencies = [\n        {\n          \"id\": 0,\n          \"name\": this.$t('firefly.no_currency')\n        }\n      ];\n      for (let key in this.allCurrencies) {\n        if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = this.allCurrencies[key];\n          this.selectableCurrencies.push(current);\n        }\n      }\n    }\n  },\n  computed: {\n    isVisible: function () {\n      return !('transfer' === this.transactionType.toLowerCase() && parseInt(this.srcCurrencyId) === parseInt(this.dstCurrencyId));\n    }\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignCurrency.vue?vue&type=template&id=22203b76&\"\nimport script from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCurrency),expression:\"selectedCurrency\"}],ref:\"input\",staticClass:\"form-control\",attrs:{\"name\":\"foreign_currency_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedCurrency=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectableCurrencies),function(currency){return _c('option',{attrs:{\"label\":currency.name},domProps:{\"value\":currency.id}},[_vm._v(_vm._s(currency.name))])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionCustomDates.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div v-for=\"(enabled, name) in availableFields\" class=\"form-group\">\n      <div v-if=\"enabled && isDateField(name)\" class=\"text-xs d-none d-lg-block d-xl-block\">\n        {{ $t('form.' + name) }}\n      </div>\n      <div v-if=\"enabled && isDateField(name)\" class=\"input-group\">\n        <input\n            :ref=\"name\"\n            :name=\"name + '[]'\"\n            :placeholder=\"$t('form.' + name)\"\n            :title=\"$t('form.' + name)\"\n            :value=\"getFieldValue(name)\"\n            autocomplete=\"off\"\n            class=\"form-control\"\n            type=\"date\"\n            @change=\"setFieldValue($event, name)\"\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionCustomDates\",\n  props: [\n    'index',\n    'errors',\n    'customFields',\n    'interestDate',\n    'bookDate',\n    'processDate',\n    'dueDate',\n    'paymentDate',\n    'invoiceDate'\n  ],\n  data() {\n    return {\n      dateFields: ['interest_date', 'book_date', 'process_date', 'due_date', 'payment_date', 'invoice_date'],\n      availableFields: this.customFields,\n      dates: {\n        interest_date: this.interestDate,\n        book_date: this.bookDate,\n        process_date: this.processDate,\n        due_date: this.dueDate,\n        payment_date: this.paymentDate,\n        invoice_date: this.invoiceDate,\n      }\n      ,\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    interestDate: function (value) {\n      this.dates.interest_date = value;\n    },\n    bookDate: function (value) {\n      this.dates.book_date = value;\n    },\n    processDate: function (value) {\n      this.dates.process_date = value;\n    },\n    dueDate: function (value) {\n      this.dates.due_date = value;\n    },\n    paymentDate: function (value) {\n      this.dates.payment_date = value;\n    },\n    invoiceDate: function (value) {\n      this.dates.invoice_date = value;\n    },\n  },\n  methods: {\n    isDateField: function (name) {\n      return this.dateFields.includes(name)\n    },\n    getFieldValue(field) {\n      return this.dates[field] ?? '';\n    },\n    setFieldValue(event, field) {\n      this.$emit('set-field', {field: field, index: this.index, value: event.target.value});\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionCustomDates.vue?vue&type=template&id=728c6420&\"\nimport script from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.availableFields),function(enabled,name){return _c('div',{staticClass:\"form-group\"},[(enabled && _vm.isDateField(name))?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('form.' + name))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(enabled && _vm.isDateField(name))?_c('div',{staticClass:\"input-group\"},[_c('input',{ref:name,refInFor:true,staticClass:\"form-control\",attrs:{\"name\":name + '[]',\"placeholder\":_vm.$t('form.' + name),\"title\":_vm.$t('form.' + name),\"autocomplete\":\"off\",\"type\":\"date\"},domProps:{\"value\":_vm.getFieldValue(name)},on:{\"change\":function($event){return _vm.setFieldValue($event, name)}}})]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionCategory.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.category') }}\n    </div>\n\n    <vue-typeahead-bootstrap\n        v-model=\"category\"\n        :data=\"categories\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.category')\"\n        :serializer=\"item => item.name\"\n        :showOnFocus=true\n        inputName=\"category[]\"\n        @hit=\"selectedCategory = $event\"\n        @input=\"lookupCategory\"\n        ref=\"input\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearCategory\"><span class=\"far fa-trash-alt\"></span></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['value', 'index', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionCategory\",\n  data() {\n    return {\n      categories: [],\n      initialSet: [],\n      category: this.value\n    }\n  },\n  mounted: function () {\n    this.$nextTick(function () {\n      this.$refs.input.$refs.input.tabIndex = 10;\n    })\n  },\n  created() {\n    //console.log('Created category(' + this.index + ') \"' + this.value + '\"');\n    // initial list of accounts:\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.categories = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    clearCategory: function () {\n      this.category = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      // console.log('getACURL(\"' + query + '\")');\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/categories?query=' + query;\n    },\n    lookupCategory: debounce(function () {\n      // update autocomplete URL:\n      //console.log('Do a search for \"'+this.category+'\"');\n      axios.get(this.getACURL(this.category))\n          .then(response => {\n            this.categories = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.category = value ?? '';\n    },\n    category: function (value) {\n      this.$emit('set-field', {field: 'category', index: this.index, value: value});\n    }\n  },\n  computed: {\n    selectedCategory: {\n      get() {\n        return this.categories[this.index].name;\n      },\n      set(value) {\n        this.category = value.name;\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionCategory.vue?vue&type=template&id=24afca28&\"\nimport script from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.category'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{ref:\"input\",attrs:{\"data\":_vm.categories,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.category'),\"serializer\":function (item) { return item.name; },\"showOnFocus\":true,\"inputName\":\"category[]\"},on:{\"hit\":function($event){_vm.selectedCategory = $event},\"input\":_vm.lookupCategory},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearCategory}},[_c('span',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionBill.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.bill') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"bill\"\n          v-model=\"bill\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.bill')\"\n          autocomplete=\"off\"\n          name=\"bill_id[]\"\n      >\n        <option v-for=\"bill in this.billList\" :label=\"bill.name\" :value=\"bill.id\">{{ bill.name }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['value', 'index', 'errors'],\n  name: \"TransactionBill\",\n  data() {\n    return {\n      billList: [],\n      bill: this.value,\n    }\n  },\n  mounted: function () {\n    this.$nextTick(function () {\n      this.$refs.bill.tabIndex = 9;\n    })\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.billList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_bill'),\n          }\n      );\n      this.getBills();\n    },\n    getBills() {\n      axios.get('./api/v1/bills')\n          .then(response => {\n                  this.parseBills(response.data);\n                }\n          );\n    },\n    parseBills(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          this.billList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.bill = value;\n    },\n    bill: function (value) {\n        this.$emit('set-field', {field: 'bill_id', index: this.index, value: value});\n    }\n  },\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionBill.vue?vue&type=template&id=20d6efb8&\"\nimport script from \"./TransactionBill.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBill.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.bill'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bill),expression:\"bill\"}],ref:\"bill\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.bill'),\"autocomplete\":\"off\",\"name\":\"bill_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.bill=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.billList),function(bill){return _c('option',{attrs:{\"label\":bill.name},domProps:{\"value\":bill.id}},[_vm._v(_vm._s(bill.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.tags'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('vue-tags-input',{ref:\"input\",attrs:{\"add-only-from-autocomplete\":false,\"autocomplete-items\":_vm.autocompleteItems,\"tags\":_vm.tags,\"title\":_vm.$t('firefly.tags'),\"placeholder\":_vm.$t('firefly.tags')},on:{\"tags-changed\":function (newTags) { return this$1.tags = newTags; }},model:{value:(_vm.currentTag),callback:function ($$v) {_vm.currentTag=$$v},expression:\"currentTag\"}})],1),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionTags.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.tags') }}\n    </div>\n    <div class=\"input-group\">\n      <vue-tags-input\n          v-model=\"currentTag\"\n          :add-only-from-autocomplete=\"false\"\n          :autocomplete-items=\"autocompleteItems\"\n          :tags=\"tags\"\n          ref=\"input\"\n          :title=\"$t('firefly.tags')\"\n          v-bind:placeholder=\"$t('firefly.tags')\"\n          @tags-changed=\"newTags => this.tags = newTags\"\n      />\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nimport VueTagsInput from \"@johmun/vue-tags-input\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"TransactionTags\",\n  components: {\n    VueTagsInput\n  },\n  props: ['value', 'index', 'errors'],\n  data() {\n    return {\n      autocompleteItems: [],\n      debounce: null,\n      tags: [],\n      currentTag: '',\n      updateTags: true, // the idea is that this is always true, except when the tags-function sets the value.\n      tagList: this.value,\n    };\n  },\n  created() {\n    let tags = [];\n    for (let i in this.value) {\n      if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n        tags.push({text: this.value[i]});\n      }\n    }\n    this.updateTags = false;\n    this.tags = tags;\n  },\n  watch: {\n    'currentTag': 'initItems',\n    value: function (value) {\n      this.tagList = value;\n    },\n    tagList: function (value) {\n      // console.log('watch tagList');\n        this.$emit('set-field', {field: 'tags', index: this.index, value: value});\n      this.updateTags = false;\n      this.tags = value;\n    },\n    tags: function (value) {\n      if (this.updateTags) {\n        let shortList = [];\n        for (let key in value) {\n          if (value.hasOwnProperty(key)) {\n            shortList.push({text: value[key].text});\n          }\n        }\n        this.tagList = shortList;\n      }\n      this.updateTags = true;\n    }\n  },\n  methods: {\n    initItems() {\n      if (this.currentTag.length < 2) {\n        return;\n      }\n      const url = document.getElementsByTagName('base')[0].href + `api/v1/autocomplete/tags?query=${this.currentTag}`;\n\n      clearTimeout(this.debounce);\n      this.debounce = setTimeout(() => {\n        axios.get(url).then(response => {\n          this.autocompleteItems = response.data.map(item => {\n            return {text: item.tag};\n          });\n        }).catch(() => console.warn('Oh. Something went wrong loading tags.'));\n      }, 300);\n    },\n  },\n\n\n}\n</script>\n<style>\n.vue-tags-input {\n  width: 100%;\n  max-width: 100% !important;\n  display: block;\n  border-radius: 0.25rem;\n}\n\n.ti-input {\n  border-radius: 0.25rem;\n  max-width: 100%;\n  width: 100%;\n}\n\n.ti-new-tag-input {\n  font-size: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./TransactionTags.vue?vue&type=template&id=504d21a7&\"\nimport script from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransactionTags.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - TransactionPiggyBank.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.piggy_bank') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"piggy_bank_id\"\n          v-model=\"piggy_bank_id\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.piggy_bank')\"\n          autocomplete=\"off\"\n          name=\"piggy_bank_id[]\"\n      >\n        <option v-for=\"piggy in this.piggyList\" :label=\"piggy.name_with_balance\" :value=\"piggy.id\">{{ piggy.name_with_balance }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionPiggyBank\",\n  data() {\n    return {\n      piggyList: [],\n      piggy_bank_id: this.value,\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.piggyList.push(\n          {\n            id: 0,\n            name_with_balance: this.$t('firefly.no_piggy_bank'),\n          }\n      );\n      this.getPiggies();\n    },\n    getPiggies() {\n      axios.get('./api/v1/autocomplete/piggy-banks-with-balance')\n          .then(response => {\n                  this.parsePiggies(response.data);\n                }\n          );\n    },\n    parsePiggies(data) {\n      for (let key in data) {\n        if (data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data[key];\n          this.piggyList.push(\n              {\n                id: parseInt(current.id),\n                name_with_balance: current.name_with_balance\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.piggy_bank_id = value;\n    },\n    piggy_bank_id: function (value) {\n      this.$emit('set-field', {field: 'piggy_bank_id', index: this.index, value: value});\n      this.emitEvent = true;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionPiggyBank.vue?vue&type=template&id=18aafbc0&\"\nimport script from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.piggy_bank'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.piggy_bank_id),expression:\"piggy_bank_id\"}],ref:\"piggy_bank_id\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.piggy_bank'),\"autocomplete\":\"off\",\"name\":\"piggy_bank_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.piggy_bank_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.piggyList),function(piggy){return _c('option',{attrs:{\"label\":piggy.name_with_balance},domProps:{\"value\":piggy.id}},[_vm._v(_vm._s(piggy.name_with_balance))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.internal_reference') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"reference\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.internal_reference')\"\n          name=\"internal_reference[]\"\n          type=\"text\"\n      />\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\"><span class=\"far fa-trash-alt\"></span></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionInternalReference\",\n  data() {\n    return {\n      reference: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('internal_reference' in this.availableFields) {\n        return this.availableFields.internal_reference;\n      }\n      return false;\n    }\n  },\n  methods: {},\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    value: function (value) {\n      this.emitEvent = false;\n      this.reference = value;\n    },\n    reference: function (value) {\n      this.$emit('set-field', {field: 'internal_reference', index: this.index, value: value});\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionInternalReference.vue?vue&type=template&id=94f353c2&\"\nimport script from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.internal_reference'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reference),expression:\"reference\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.internal_reference'),\"name\":\"internal_reference[]\",\"type\":\"text\"},domProps:{\"value\":(_vm.reference)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reference=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('span',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.external_url') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"url\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.external_url')\"\n          name=\"external_url[]\"\n          type=\"url\"\n      />\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\"><span class=\"far fa-trash-alt\"></span></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionExternalUrl\",\n  data() {\n    return {\n      url: this.value,\n      availableFields: this.customFields,\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('external_uri' in this.availableFields) {\n        return this.availableFields.external_uri;\n      }\n      return false;\n    }\n  },\n  methods: {},\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    value: function (value) {\n      this.url = value;\n    },\n    url: function (value) {\n      this.$emit('set-field', {field: 'external_url', index: this.index, value: value});\n    }\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionExternalUrl.vue?vue&type=template&id=7a5ee5e8&\"\nimport script from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.external_url'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.external_url'),\"name\":\"external_url[]\",\"type\":\"url\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('span',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionNotes.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.notes') }}\n    </div>\n    <div class=\"input-group\">\n      <textarea\n          v-model=\"notes\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.notes')\"\n      ></textarea>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionNotes\",\n  data() {\n    return {\n      notes: this.value,\n      availableFields: this.customFields,\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('notes' in this.availableFields) {\n        return this.availableFields.notes;\n      }\n      return false;\n    }\n  },\n  watch: {\n    value: function (value) {\n      this.notes = value;\n    },\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    notes: function (value) {\n      this.$emit('set-field', {field: 'notes', index: this.index, value: value});\n    }\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionNotes.vue?vue&type=template&id=606fd0df&\"\nimport script from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.notes'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.notes),expression:\"notes\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.notes')},domProps:{\"value\":(_vm.notes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.notes=$event.target.value}}})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.journal_links'))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.links.length === 0)?_c('p',[_c('button',{staticClass:\"btn btn-default btn-xs\",attrs:{\"type\":\"button\",\"data-target\":\"#linkModal\",\"data-toggle\":\"modal\"},on:{\"click\":_vm.resetModal}},[_c('span',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add transaction link\")])]):_vm._e(),_vm._v(\" \"),(_vm.links.length > 0)?_c('ul',{staticClass:\"list-group\"},_vm._l((_vm.links),function(transaction,index){return _c('li',{key:index,staticClass:\"list-group-item\"},[_c('em',[_vm._v(_vm._s(_vm.getTextForLinkType(transaction.link_type_id)))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"./transaction/show/\" + transaction.transaction_group_id}},[_vm._v(_vm._s(transaction.description))]),_vm._v(\" \"),(transaction.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn-group btn-group-xs float-right\"},[_c('button',{staticClass:\"btn btn-xs btn-danger\",attrs:{\"type\":\"button\",\"tabindex\":\"-1\"},on:{\"click\":function($event){return _vm.removeLink(index)}}},[_c('span',{staticClass:\"far fa-trash-alt\"})])])])}),0):_vm._e(),_vm._v(\" \"),(_vm.links.length > 0)?_c('div',{staticClass:\"form-text\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-target\":\"#linkModal\",\"data-toggle\":\"modal\"},on:{\"click\":_vm.resetModal}},[_c('span',{staticClass:\"fas fa-plus\"})])]):_vm._e()])])]),_vm._v(\" \"),_c('div',{ref:\"linkModal\",staticClass:\"modal\",attrs:{\"id\":\"linkModal\",\"tabindex\":\"-1\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container-fluid\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.search.apply(null, arguments)}}},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"form-control\",attrs:{\"id\":\"query\",\"autocomplete\":\"off\",\"maxlength\":\"255\",\"name\":\"search\",\"placeholder\":\"Search query\",\"type\":\"text\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_vm._m(2)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.searching)?_c('span',[_c('span',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('h4',[_vm._v(_vm._s(_vm.$t('firefly.search_results')))]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('table',{staticClass:\"table table-sm\"},[_c('caption',{staticStyle:{\"display\":\"none\"}},[_vm._v(_vm._s(_vm.$t('firefly.search_results')))]),_vm._v(\" \"),_c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"33%\"},attrs:{\"scope\":\"col\",\"colspan\":\"2\"}},[_vm._v(_vm._s(_vm.$t('firefly.include')))]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm.$t('firefly.transaction')))])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.searchResults),function(result){return _c('tr',[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.selected),expression:\"result.selected\"}],staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(result.selected)?_vm._i(result.selected,null)>-1:(result.selected)},on:{\"change\":[function($event){var $$a=result.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(result, \"selected\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(result, \"selected\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(result, \"selected\", $$c)}},function($event){return _vm.selectTransaction($event)}]}})]),_vm._v(\" \"),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.link_type_id),expression:\"result.link_type_id\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(result, \"link_type_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.selectLinkType($event)}]}},_vm._l((_vm.linkTypes),function(linkType){return _c('option',{attrs:{\"label\":linkType.type},domProps:{\"value\":linkType.id + '-' + linkType.direction}},[_vm._v(_vm._s(linkType.type)+\"\\n                        \")])}),0)]),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"href\":'./transactions/show/' + result.transaction_group_id}},[_vm._v(_vm._s(result.description))]),_vm._v(\" \"),(result.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('em',[_c('a',{attrs:{\"href\":'./accounts/show/' + result.source_id}},[_vm._v(_vm._s(result.source_name))]),_vm._v(\"\\n                        →\\n                        \"),_c('a',{attrs:{\"href\":'./accounts/show/' + result.destination_id}},[_vm._v(_vm._s(result.destination_name))])])])])}),0)]):_vm._e()])])])]),_vm._v(\" \"),_vm._m(3)])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Transaction thing dialog.\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"aria-label\":\"Close\",\"data-dismiss\":\"modal\",\"type\":\"button\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('p',[_vm._v(\"\\n                  Use this form to search for transactions you wish to link to this one. When in doubt, use \"),_c('code',[_vm._v(\"id:*\")]),_vm._v(\" where the ID is the number from\\n                  the URL.\\n                \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"submit\"}},[_c('span',{staticClass:\"fas fa-search\"}),_vm._v(\" Search\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"data-dismiss\":\"modal\",\"type\":\"button\"}},[_vm._v(\"Close\")])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionLinks.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\">\n    <div class=\"form-group\">\n      <div class=\"text-xs d-none d-lg-block d-xl-block\">\n        {{ $t('firefly.journal_links') }}\n      </div>\n      <div class=\"row\">\n        <div class=\"col\">\n          <p v-if=\"links.length === 0\">\n            <button type=\"button\" class=\"btn btn-default btn-xs\" data-target=\"#linkModal\" @click=\"resetModal\" data-toggle=\"modal\"><span class=\"fas fa-plus\"></span> Add transaction link</button>\n          </p>\n          <ul v-if=\"links.length > 0\" class=\"list-group\">\n            <li v-for=\"(transaction, index) in links\" class=\"list-group-item\" v-bind:key=\"index\">\n              <em>{{ getTextForLinkType(transaction.link_type_id) }}</em>\n              <a :href='\"./transaction/show/\" + transaction.transaction_group_id'>{{ transaction.description }}</a>\n\n              <span v-if=\"transaction.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount) * -1)\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <div class=\"btn-group btn-group-xs float-right\">\n                <button type=\"button\" class=\"btn btn-xs btn-danger\" @click=\"removeLink(index)\" tabindex=\"-1\"><span class=\"far fa-trash-alt\"></span></button>\n              </div>\n            </li>\n          </ul>\n          <div v-if=\"links.length > 0\" class=\"form-text\">\n            <button type=\"button\" class=\"btn btn-default\" @click=\"resetModal\" data-target=\"#linkModal\" data-toggle=\"modal\"><span class=\"fas fa-plus\"></span></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- modal -->\n    <div id=\"linkModal\" class=\"modal\" tabindex=\"-1\" ref=\"linkModal\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Transaction thing dialog.</h5>\n            <button aria-label=\"Close\" class=\"close\" data-dismiss=\"modal\" type=\"button\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"container-fluid\">\n              <div class=\"row\">\n                <div class=\"col\">\n                  <p>\n                    Use this form to search for transactions you wish to link to this one. When in doubt, use <code>id:*</code> where the ID is the number from\n                    the URL.\n                  </p>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <form v-on:submit.prevent=\"search\" autocomplete=\"off\">\n                    <div class=\"input-group\">\n                      <input id=\"query\" v-model=\"query\" autocomplete=\"off\" class=\"form-control\" maxlength=\"255\" name=\"search\"\n                             placeholder=\"Search query\" type=\"text\">\n                      <div class=\"input-group-append\">\n                        <button class=\"btn btn-default\" type=\"submit\"><span class=\"fas fa-search\"></span> Search</button>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <span v-if=\"searching\"><span class=\"fas fa-spinner fa-spin\"></span></span>\n                  <h4 v-if=\"searchResults.length > 0\">{{ $t('firefly.search_results') }}</h4>\n                  <table v-if=\"searchResults.length > 0\" class=\"table table-sm\">\n                    <caption style=\"display:none;\">{{ $t('firefly.search_results') }}</caption>\n                    <thead>\n                    <tr>\n                      <th scope=\"col\" colspan=\"2\" style=\"width:33%\">{{ $t('firefly.include') }}</th>\n                      <th scope=\"col\">{{ $t('firefly.transaction') }}</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr v-for=\"result in searchResults\">\n                      <td>\n                        <input v-model=\"result.selected\" class=\"form-control\"\n                               type=\"checkbox\"\n                               @change=\"selectTransaction($event)\"\n                        />\n                      </td>\n                      <td>\n                        <select\n                            v-model=\"result.link_type_id\"\n                            class=\"form-control\"\n                            @change=\"selectLinkType($event)\"\n                        >\n                          <option v-for=\"linkType in linkTypes\" :label=\"linkType.type\" :value=\"linkType.id + '-' + linkType.direction\">{{\n                              linkType.type\n                            }}\n                          </option>\n                        </select>\n                      </td>\n                      <td>\n                        <a :href=\"'./transactions/show/' + result.transaction_group_id\">{{ result.description }}</a>\n                        <span v-if=\"result.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount) * -1)\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <br/>\n                        <em>\n                          <a :href=\"'./accounts/show/' + result.source_id\">{{ result.source_name }}</a>\n                          &rarr;\n                          <a :href=\"'./accounts/show/' + result.destination_id\">{{ result.destination_name }}</a>\n                        </em>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-secondary\" data-dismiss=\"modal\" type=\"button\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst lodashClonedeep = require('lodash.clonedeep');\n// See reference nr. 3\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionLinks\",\n  data() {\n    return {\n      searchResults: [],\n      include: [],\n      locale: 'en-US',\n      linkTypes: [],\n      query: '',\n      searching: false,\n      links: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.emitEvent = false;\n    this.links = lodashClonedeep(this.value);\n    this.getLinkTypes();\n\n  },\n  computed: {\n    showField: function () {\n      if ('links' in this.availableFields) {\n        return this.availableFields.links;\n      }\n      return false;\n    }\n  },\n  watch: {\n    value: function (value) {\n      if (null !== value) {\n        this.emitEvent = false;\n        this.links = lodashClonedeep(value);\n      }\n    },\n    links: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {index: this.index, field: 'links', value: lodashClonedeep(value)});\n      }\n      this.emitEvent = true;\n    },\n    customFields: function (value) {\n      this.availableFields = value;\n    }\n  },\n  methods: {\n    removeLink: function (index) {\n      this.links.splice(index, 1);\n    },\n    getTextForLinkType: function (linkTypeId) {\n      let parts = linkTypeId.split('-');\n      for (let i in this.linkTypes) {\n        if (this.linkTypes.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.linkTypes[i];\n          if (parts[0] === current.id && parts[1] === current.direction) {\n            return current.type;\n          }\n        }\n      }\n      return 'text for #' + linkTypeId;\n    },\n    selectTransaction: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          if (current.selected) {\n            this.addToSelected(current);\n          }\n          if (!current.selected) {\n            // remove from\n            this.removeFromSelected(current);\n          }\n        }\n      }\n    },\n    selectLinkType: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          this.updateSelected(current.transaction_journal_id, current.link_type_id);\n        }\n      }\n    },\n    updateSelected(journalId, linkTypeId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (parseInt(current.transaction_journal_id) === journalId) {\n            this.links[i].link_type_id = linkTypeId;\n          }\n        }\n      }\n    },\n    addToSelected(journal) {\n      let result = this.links.find(({transaction_journal_id}) => transaction_journal_id === journal.transaction_journal_id);\n      if (typeof result === 'undefined') {\n        this.links.push(journal);\n      }\n    },\n    removeFromSelected(journal) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journal.transaction_journal_id) {\n            this.links.splice(parseInt(i), 1);\n          }\n        }\n      }\n    },\n    getLinkTypes: function () {\n      let url = './api/v1/link_types';\n      axios.get(url)\n          .then(response => {\n                  this.parseLinkTypes(response.data);\n                }\n          );\n    },\n    resetModal: function() {\n      this.search();\n    },\n    parseLinkTypes: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = data.data[i];\n          let linkTypeInward = {\n            id: current.id,\n            type: current.attributes.inward,\n            direction: 'inward'\n          };\n          let linkTypeOutward = {\n            id: current.id,\n            type: current.attributes.outward,\n            direction: 'outward'\n          };\n          if (linkTypeInward.type === linkTypeOutward.type) {\n            linkTypeInward.type = linkTypeInward.type + ' (←)';\n            linkTypeOutward.type = linkTypeOutward.type + ' (→)';\n          }\n          this.linkTypes.push(linkTypeInward);\n          this.linkTypes.push(linkTypeOutward);\n        }\n      }\n    },\n    search: function () {\n      if('' === this.query) {\n        this.searchResults = [];\n        return;\n      }\n      this.searching = true;\n      this.searchResults = [];\n      let url = './api/v1/search/transactions?limit=10&query=' + this.query;\n      axios.get(url)\n          .then(response => {\n                  this.parseSearch(response.data);\n                }\n          );\n    },\n    parseSearch: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          for (let ii in data.data[i].attributes.transactions) {\n            if (data.data[i].attributes.transactions.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n              let current = data.data[i].attributes.transactions[ii];\n              current.transaction_group_id = parseInt(data.data[i].id);\n              current.selected = this.isJournalSelected(current.transaction_journal_id);\n              current.link_type_id = this.getJournalLinkType(current.transaction_journal_id);\n              current.link_type_text = '';\n              this.searchResults.push(current);\n            }\n          }\n        }\n      }\n      this.searching = false;\n    },\n    getJournalLinkType: function (journalId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journalId) {\n            return current.link_type_id;\n          }\n        }\n      }\n      return '1-inward';\n    },\n    isJournalSelected: function (journalId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journalId) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionLinks.vue?vue&type=template&id=7826e6c4&\"\nimport script from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - TransactionAttachments.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.attachments') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          ref=\"att\"\n          class=\"form-control\"\n          multiple\n          @change=\"selectedFile\"\n          name=\"attachments[]\"\n          type=\"file\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionAttachments\",\n  props: ['transaction_journal_id', 'customFields', 'index', 'uploadTrigger', 'clearTrigger'],\n  data() {\n    return {\n      availableFields: this.customFields,\n      uploads: 0,\n      created: 0,\n      uploaded: 0,\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    uploadTrigger: function () {\n      // console.log('uploadTrigger(' + this.transaction_journal_id + ',' + this.index + ')');\n      this.doUpload();\n    },\n    clearTrigger: function () {\n      // console.log('clearTrigger(' + this.transaction_journal_id + ',' + this.index + ')');\n      this.$refs.att.value = null;\n    },\n    transaction_journal_id: function (value) {\n      // console.log('watch transaction_journal_id: ' + value + ' (index ' + this.index + ')');\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('attachments' in this.availableFields) {\n        return this.availableFields.attachments;\n      }\n      return false;\n    }\n  },\n  methods: {\n    selectedFile: function () {\n      this.$emit('selected-attachments', {index: this.index, id: this.transaction_journal_id});\n    },\n    createAttachment: function (name) {\n      // console.log('Now in createAttachment()');\n      const uri = './api/v1/attachments';\n      const data = {\n        filename: name,\n        attachable_type: 'TransactionJournal',\n        attachable_id: this.transaction_journal_id,\n      };\n      // create new attachment:\n      return axios.post(uri, data);\n    },\n    uploadAttachment: function (attachmentId, data) {\n      this.created++;\n      // console.log('Now in uploadAttachment()');\n      const uploadUri = './api/v1/attachments/' + attachmentId + '/upload';\n      return axios.post(uploadUri, data)\n    },\n    countAttachment: function () {\n      this.uploaded++;\n      // console.log('Uploaded ' + this.uploaded + ' / ' + this.uploads);\n      if (this.uploaded >= this.uploads) {\n        // console.log('All files uploaded. Emit event for ' + this.transaction_journal_id + '(' + this.index + ')');\n        this.$emit('uploaded-attachments', this.transaction_journal_id);\n      }\n    },\n    doUpload: function () {\n      let files = this.$refs.att.files;\n      this.uploads = files.length;\n      // loop all files and create attachments.\n      for (let i in files) {\n        if (files.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          // console.log('Now at file ' + (parseInt(i) + 1) + ' / ' + files.length);\n          // read file into file reader:\n          let current = files[i];\n          let fileReader = new FileReader();\n          let theParent = this; // dont ask me why i need to do this.\n          fileReader.onloadend = evt => {\n            if (evt.target.readyState === FileReader.DONE) {\n              // console.log('I am done reading file ' + (parseInt(i) + 1));\n              this.createAttachment(current.name).then(response => {\n                // console.log('Created attachment. Now upload (1)');\n                return theParent.uploadAttachment(response.data.data.id, new Blob([evt.target.result]));\n              }).then(theParent.countAttachment);\n            }\n          }\n          fileReader.readAsArrayBuffer(current);\n        }\n      }\n      if (0 === files.length) {\n        //console.log('No files to upload. Emit event!');\n        this.$emit('uploaded-attachments', this.transaction_journal_id);\n      }\n      // Promise.all(promises).then(response => {\n      //   console.log('All files uploaded. Emit event!');\n      //   this.$emit('uploaded-attachments', this.transaction_journal_id);\n      // });\n    }\n  }\n\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAttachments.vue?vue&type=template&id=0364e752&\"\nimport script from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.attachments'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{ref:\"att\",staticClass:\"form-control\",attrs:{\"multiple\":\"\",\"name\":\"attachments[]\",\"type\":\"file\"},on:{\"change\":_vm.selectedFile}})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionLocation.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.location') }}\n    </div>\n    <div style=\"width:100%;height:300px;\">\n      <l-map\n          ref=\"myMap\"\n          :center=\"center\"\n          :zoom=\"zoom\" style=\"width:100%;height:300px;\"\n          @ready=\"prepMap()\"\n          @update:zoom=\"zoomUpdated\"\n          @update:center=\"centerUpdated\"\n          @update:bounds=\"boundsUpdated\"\n      >\n        <l-tile-layer :url=\"url\"></l-tile-layer>\n        <l-marker :lat-lng=\"marker\" :visible=\"hasMarker\"></l-marker>\n      </l-map>\n      <span>\n        <button class=\"btn btn-default btn-xs\" @click=\"clearLocation\">{{ $t('firefly.clear_location') }}</button>\n      </span>\n    </div>\n    <p>&nbsp;</p>\n  </div>\n</template>\n\n<script>\n\n// If you need to reference 'L', such as in 'L.icon', then be sure to\n// explicitly import 'leaflet' into your component\n// import L from 'leaflet';\nimport {LMap, LMarker, LTileLayer} from 'vue2-leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n                              iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n                              iconUrl: require('leaflet/dist/images/marker-icon.png'),\n                              shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n                            });\n\nexport default {\n  name: \"TransactionLocation\",\n  props: {\n    index: {},\n    value: {\n      type: Object,\n      required: false\n    },\n    errors: {},\n    customFields: {},\n  },\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  created() {\n    if (null === this.value || typeof this.value === 'undefined') {\n      axios.get('./api/v1/configuration/firefly.default_location').then(response => {\n        this.zoom = parseInt(response.data.data.value.zoom_level);\n        this.center =\n            [\n              parseFloat(response.data.data.value.latitude),\n              parseFloat(response.data.data.value.longitude),\n            ]\n        ;\n      });\n      return;\n    }\n    if (null !== this.value.zoom_level && null !== this.value.latitude && null !== this.value.longitude) {\n      this.zoom = this.value.zoom_level;\n      this.center = [\n        parseFloat(this.value.latitude),\n        parseFloat(this.value.longitude),\n      ];\n      this.hasMarker = true;\n    }\n  },\n  data() {\n    return {\n      availableFields: this.customFields,\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      zoom: 3,\n      center: [0, 0],\n      bounds: null,\n      map: null,\n      hasMarker: false,\n      marker: [0, 0],\n    }\n  },\n  methods: {\n    prepMap: function () {\n      this.map = this.$refs.myMap.mapObject;\n      this.map.on('contextmenu', this.setObjectLocation);\n      this.map.on('zoomend', this.saveZoomLevel);\n    },\n    setObjectLocation: function (event) {\n      this.marker = [event.latlng.lat, event.latlng.lng];\n      this.hasMarker = true;\n      this.emitEvent();\n    },\n    saveZoomLevel: function () {\n      this.emitEvent();\n    },\n    clearLocation: function () {\n      this.hasMarker = false;\n      this.emitEvent();\n    },\n    emitEvent() {\n      this.$emit('set-marker-location', {\n                   index: this.index,\n                   zoomLevel: this.zoom,\n                   lat: this.marker[0],\n                   lng: this.marker[1],\n                   hasMarker: this.hasMarker\n                 }\n      );\n    },\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated(bounds) {\n      this.bounds = bounds;\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('location' in this.availableFields) {\n        return this.availableFields.location;\n      }\n      return false;\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLocation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLocation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionLocation.vue?vue&type=template&id=26d78234&\"\nimport script from \"./TransactionLocation.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionLocation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.location'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"300px\"}},[_c('l-map',{ref:\"myMap\",staticStyle:{\"width\":\"100%\",\"height\":\"300px\"},attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom},on:{\"ready\":function($event){return _vm.prepMap()},\"update:zoom\":_vm.zoomUpdated,\"update:center\":_vm.centerUpdated,\"update:bounds\":_vm.boundsUpdated}},[_c('l-tile-layer',{attrs:{\"url\":_vm.url}}),_vm._v(\" \"),_c('l-marker',{attrs:{\"lat-lng\":_vm.marker,\"visible\":_vm.hasMarker}})],1),_vm._v(\" \"),_c('span',[_c('button',{staticClass:\"btn btn-default btn-xs\",on:{\"click\":_vm.clearLocation}},[_vm._v(_vm._s(_vm.$t('firefly.clear_location')))])])],1),_vm._v(\" \"),_c('p',[_vm._v(\" \")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitForm.vue?vue&type=script&lang=js&\"","<!--\n  - SplitForm.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div :id=\"'split_' + index\" :class=\"'tab-pane' + (0 === index ? ' active' : '')\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.basic_journal_information') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n            <div v-if=\"count>1\" class=\"card-tools\">\n              <button type=\"button\" class=\"btn btn-danger btn-xs\" @click=\"removeTransaction\"><span class=\"fas fa-trash-alt\"></span></button>\n            </div>\n          </div>\n\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionDescription\n                    v-model=\"transaction.description\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.description\"\n                    :index=\"index\"\n                ></TransactionDescription>\n              </div>\n            </div>\n            <!-- source and destination -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- SOURCE -->\n                <TransactionAccount\n                    v-model=\"sourceAccount\"\n                    v-on=\"$listeners\"\n                    :destination-allowed-types=\"destinationAllowedTypes\"\n                    :errors=\"transaction.errors.source\"\n                    :index=\"index\"\n                    :source-allowed-types=\"sourceAllowedTypes\"\n                    :transaction-type=\"transactionType\"\n                    direction=\"source\"\n                    ref=\"sourceAccount\"\n                    v-on:selected-account=\"triggerNextAccount($event)\"\n                />\n              </div>\n              <!-- switcharoo! -->\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <SwitchAccount\n                    v-if=\"0 === index && allowSwitch\"\n                    v-on=\"$listeners\"\n                    :index=\"index\"\n                    :transaction-type=\"transactionType\"\n                />\n              </div>\n\n              <!-- destination -->\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <!-- DESTINATION -->\n                <TransactionAccount\n                    v-model=\"destinationAccount\"\n                    v-on=\"$listeners\"\n                    :destination-allowed-types=\"destinationAllowedTypes\"\n                    :errors=\"transaction.errors.destination\"\n                    :index=\"index\"\n                    ref=\"destinationAccount\"\n                    :transaction-type=\"transactionType\"\n                    :source-allowed-types=\"sourceAllowedTypes\"\n                    direction=\"destination\"\n                />\n              </div>\n            </div>\n\n\n            <!-- amount  -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- AMOUNT -->\n                <TransactionAmount\n                    v-on=\"$listeners\"\n                    ref=\"amount\"\n                    :amount=\"transaction.amount\"\n                    :destination-currency-symbol=\"this.transaction.destination_account_currency_symbol\"\n                    :errors=\"transaction.errors.amount\"\n                    :index=\"index\"\n                    :source-currency-symbol=\"this.transaction.source_account_currency_symbol\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <TransactionForeignCurrency\n                    v-model=\"transaction.foreign_currency_id\"\n                    v-on=\"$listeners\"\n                    :destination-currency-id=\"this.transaction.destination_account_currency_id\"\n                    :index=\"index\"\n                    :selected-currency-id=\"this.transaction.foreign_currency_id\"\n                    :source-currency-id=\"this.transaction.source_account_currency_id\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <!--\n                The reason that TransactionAmount gets the symbols and\n                TransactionForeignAmount gets the ID's of the currencies is\n                because ultimately TransactionAmount doesn't decide which\n                currency id is submitted to Firefly III.\n                -->\n                <TransactionForeignAmount\n                    v-model=\"transaction.foreign_amount\"\n                    v-on=\"$listeners\"\n                    :destination-currency-id=\"this.transaction.destination_account_currency_id\"\n                    :errors=\"transaction.errors.foreign_amount\"\n                    :index=\"index\"\n                    :selected-currency-id=\"this.transaction.foreign_currency_id\"\n                    :source-currency-id=\"this.transaction.source_account_currency_id\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n            </div>\n\n            <!-- dates -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionDate\n                    v-on=\"$listeners\"\n                    :date=\"splitDate\"\n                    :errors=\"transaction.errors.date\"\n                    :index=\"index\"\n                />\n              </div>\n\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\">\n                <TransactionCustomDates\n                    v-on=\"$listeners\"\n                    :book-date=\"transaction.book_date\"\n                    :custom-fields.sync=\"customFields\"\n                    :due-date=\"transaction.due_date\"\n                    :errors=\"transaction.errors.custom_dates\"\n                    :index=\"index\"\n                    :interest-date=\"transaction.interest_date\"\n                    :invoice-date=\"transaction.invoice_date\"\n                    :payment-date=\"transaction.payment_date\"\n                    :process-date=\"transaction.process_date\"\n                />\n              </div>\n            </div>\n\n            <!-- end of body -->\n          </div>\n        </div>\n      </div>\n    </div> <!-- end of basic card -->\n\n    <!-- card for meta -->\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.transaction_journal_meta') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <!-- meta -->\n            <div class=\"row\">\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionBudget\n                    v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.budget_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.budget\"\n                    :index=\"index\"\n                />\n                <TransactionCategory\n                    v-model=\"transaction.category\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.category\"\n                    :index=\"index\"\n                />\n              </div>\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionBill\n                    v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.bill_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.bill\"\n                    :index=\"index\"\n                />\n                <TransactionTags\n                    v-model=\"transaction.tags\"\n                    v-on=\"$listeners\"\n                    ref=\"tags\"\n                    :errors=\"transaction.errors.tags\"\n                    :index=\"index\"\n                />\n                <TransactionPiggyBank\n                    v-if=\"!('Withdrawal' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.piggy_bank_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.piggy_bank\"\n                    :index=\"index\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end card for meta -->\n    <!-- card for extra -->\n    <div v-if=\"hasMetaFields\" class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.transaction_journal_extra') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <div class=\"row\">\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                <TransactionInternalReference\n                    v-model=\"transaction.internal_reference\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.internal_reference\"\n                    :index=\"index\"\n                />\n\n                <TransactionExternalUrl\n                    v-model=\"transaction.external_url\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.external_url\"\n                    :index=\"index\"\n                />\n                <TransactionNotes\n                    v-model=\"transaction.notes\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.notes\"\n                    :index=\"index\"\n                />\n              </div>\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                <TransactionAttachments\n                    ref=\"attachments\"\n                    v-model=\"transaction.attachments\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :index=\"index\"\n                    :transaction_journal_id=\"transaction.transaction_journal_id\"\n                    :upload-trigger=\"transaction.uploadTrigger\"\n                    :clear-trigger=\"transaction.clearTrigger\"\n                />\n                <TransactionLocation\n                    v-model=\"transaction.location\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.location\"\n                    :index=\"index\"\n                />\n\n                <TransactionLinks\n                    v-model=\"transaction.links\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :index=\"index\"\n                />\n              </div>\n\n            </div>\n            <!-- end of body -->\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end card for extra -->\n    <!-- end of card -->\n  </div>\n</template>\n\n<script>\n\nimport TransactionDescription from \"./TransactionDescription\";\nimport TransactionDate from \"./TransactionDate\";\nimport TransactionBudget from \"./TransactionBudget\";\nimport TransactionAccount from \"./TransactionAccount\";\nimport SwitchAccount from \"./SwitchAccount\";\nimport TransactionAmount from \"./TransactionAmount\";\nimport TransactionForeignAmount from \"./TransactionForeignAmount\";\nimport TransactionForeignCurrency from \"./TransactionForeignCurrency\";\nimport TransactionCustomDates from \"./TransactionCustomDates\";\nimport TransactionCategory from \"./TransactionCategory\";\nimport TransactionBill from \"./TransactionBill\";\nimport TransactionTags from \"./TransactionTags\";\nimport TransactionPiggyBank from \"./TransactionPiggyBank\";\nimport TransactionInternalReference from \"./TransactionInternalReference\";\nimport TransactionExternalUrl from \"./TransactionExternalUrl\";\nimport TransactionNotes from \"./TransactionNotes\";\nimport TransactionLinks from \"./TransactionLinks\";\nimport TransactionAttachments from \"./TransactionAttachments\";\nimport SplitPills from \"./SplitPills\";\nimport TransactionLocation from \"./TransactionLocation\";\n\nexport default {\n  name: \"SplitForm\",\n  props: {\n    transaction: {\n      type: Object,\n      required: true\n    },\n    count: {\n      type: Number,\n      required: true\n    },\n    customFields: {\n      type: Object,\n      required: false\n    },\n    index: {\n      type: Number,\n      required: true\n    },\n    date: {\n      type: String,\n      required: true\n    },\n    transactionType: {\n      type: String,\n      required: true\n    },\n    sourceAllowedTypes: {\n      type: Array,\n      required: false,\n      default: function () {\n        return [];\n      }\n    }, // allowed source account types.\n    destinationAllowedTypes: {\n      type: Array,\n      required: false,\n      default: function () {\n        return [];\n      }\n    },\n    // allow switch?\n    allowSwitch: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n\n  },\n  created() {\n    // console.log('SplitForm(' + this.index + ')');\n  },\n  methods: {\n    removeTransaction: function () {\n      // console.log('Will remove transaction ' + this.index);\n\n      this.$emit('remove-transaction', {index: this.index});\n    },\n    triggerNextAccount: function(e) {\n      //alert(e);\n      if('source' === e) {\n        // console.log('Jump to destination!');\n        this.$refs.destinationAccount.giveFocus();\n      }\n    }\n  },\n  computed: {\n    splitDate: function () {\n      return this.date;\n    },\n    sourceAccount: function () {\n      //console.log('computed::sourceAccount(' + this.index + ')');\n      return {\n        id: this.transaction.source_account_id,\n        name: this.transaction.source_account_name,\n        type: this.transaction.source_account_type,\n      };\n      //console.log(JSON.stringify(value));\n      //return value;\n    },\n    destinationAccount: function () {\n      //console.log('computed::destinationAccount(' + this.index + ')');\n      return {\n        id: this.transaction.destination_account_id,\n        name: this.transaction.destination_account_name,\n        type: this.transaction.destination_account_type,\n      };\n      //console.log(JSON.stringify(value));\n      //return value;\n    },\n    hasMetaFields: function () {\n      let requiredFields = [\n        'internal_reference',\n        'notes',\n        'attachments',\n        'external_uri',\n        'location',\n        'links',\n      ];\n      for (let field in this.customFields) {\n        if (this.customFields.hasOwnProperty(field)) {\n          if (requiredFields.includes(field)) {\n            if (true === this.customFields[field]) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  },\n  components: {\n    TransactionLocation,\n    SplitPills,\n    TransactionAttachments,\n    TransactionNotes,\n    TransactionExternalUrl,\n    TransactionInternalReference,\n    TransactionPiggyBank,\n    TransactionTags,\n    TransactionLinks,\n    TransactionBill,\n    TransactionCategory,\n    TransactionCustomDates,\n    TransactionForeignCurrency,\n    TransactionForeignAmount,\n    TransactionAmount,\n    SwitchAccount,\n    TransactionAccount,\n    TransactionBudget,\n    TransactionDescription,\n    TransactionDate\n  },\n}\n</script>\n","import { render, staticRenderFns } from \"./SplitForm.vue?vue&type=template&id=0973cf9e&\"\nimport script from \"./SplitForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SplitForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SplitPills.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <span>Length: {{ this.transactions.length }}</span>\n\n    <div v-if=\"transactions.length > 1\" class=\"row\">\n      <div class=\"col\">\n        <!-- tabs -->\n        <ul class=\"nav nav-pills ml-auto p-2\" id=\"transactionTabs\">\n          <li v-for=\"(transaction, index) in this.transactions\" class=\"nav-item\"><a :class=\"'nav-link' + (0 === index ? ' active' : '')\"\n                                                                                    :href=\"'#split_' + index\"\n                                                                                    :id=\"'tab_split_' + index\"\n                                                                                    data-toggle=\"pill\">\n            <span v-if=\"'' !== transaction.description\">{{ transaction.description }}</span>\n            <span v-if=\"'' === transaction.description\">Split {{ index + 1 }}</span>\n          </a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SplitPills\",\n  props: {\n    transactions: {\n      type: Array,\n      required: true,\n      default: function () {\n        return [];\n      }\n    },\n    count: {\n      type: Number,\n      required: true\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitPills.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitPills.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SplitPills.vue?vue&type=template&id=561d82c4&\"\nimport script from \"./SplitPills.vue?vue&type=script&lang=js&\"\nexport * from \"./SplitPills.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"Length: \"+_vm._s(this.transactions.length))]),_vm._v(\" \"),(_vm.transactions.length > 1)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('ul',{staticClass:\"nav nav-pills ml-auto p-2\",attrs:{\"id\":\"transactionTabs\"}},_vm._l((this.transactions),function(transaction,index){return _c('li',{staticClass:\"nav-item\"},[_c('a',{class:'nav-link' + (0 === index ? ' active' : ''),attrs:{\"href\":'#split_' + index,\"id\":'tab_split_' + index,\"data-toggle\":\"pill\"}},[('' !== transaction.description)?_c('span',[_vm._v(_vm._s(transaction.description))]):_vm._e(),_vm._v(\" \"),('' === transaction.description)?_c('span',[_vm._v(\"Split \"+_vm._s(index + 1))]):_vm._e()])])}),0)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.split_transaction_title'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.descriptions,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.split_transaction_title'),\"serializer\":function (item) { return item.description; },\"showOnFocus\":true,\"inputName\":\"group_title\"},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('span',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionGroupTitle.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.split_transaction_title') }}\n    </div>\n    <vue-typeahead-bootstrap\n        v-model=\"title\"\n        :data=\"descriptions\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.split_transaction_title')\"\n        :serializer=\"item => item.description\"\n        :showOnFocus=true\n        inputName=\"group_title\"\n        @input=\"lookupDescription\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearDescription\"><span class=\"far fa-trash-alt\"></span></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n\n  </div>\n</template>\n\n<script>\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['value', 'errors'],\n  name: \"TransactionGroupTitle\",\n  components: {VueTypeaheadBootstrap},\n  data() {\n    return {\n      descriptions: [],\n      initialSet: [],\n      title: this.value,\n      emitEvent: true\n    }\n  },\n\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n  watch: {\n    value: function (value) {\n      this.title = value;\n    },\n    title: function (value) {\n      this.$emit('set-group-title', value);\n    }\n  },\n  methods: {\n    clearDescription: function () {\n      this.title = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.title))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionGroupTitle.vue?vue&type=template&id=4bdb785a&\"\nimport script from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["window","$","jQuery","require","axios","defaults","headers","common","token","document","head","querySelector","content","console","error","localeToken","localStorage","locale","vuei18n","VueI18n","uiv","Vue","lodashClonedeep","mutations","addTransaction","state","newTransaction","defaultTransaction","errors","defaultErrors","transactions","push","resetErrors","payload","index","resetTransactions","setGroupTitle","groupTitle","setCustomDateFields","customDateFields","deleteTransaction","splice","setTransactionType","transactionType","setAllowedOpposingTypes","allowedOpposingTypes","setAccountToTransaction","accountToTransaction","updateField","field","value","setTransactionError","setDestinationAllowedTypes","destinationAllowedTypes","setSourceAllowedTypes","sourceAllowedTypes","namespaced","interest_date","book_date","process_date","due_date","payment_date","invoice_date","getDefaultTransaction","getDefaultErrors","getters","actions","setStart","start","setItem","setEnd","end","setDefaultStart","defaultStart","setDefaultEnd","defaultEnd","setViewRange","range","viewRange","initialiseStore","context","dispatch","get","then","response","data","attributes","oldViewRange","commit","restoreViewRangeDates","viewRangeStart","Date","viewRangeEnd","viewRangeDefaultStart","viewRangeDefaultEnd","restoreViewRange","getItem","setDatesFromViewRange","today","startOfDay","endOfDay","startOfWeek","weekStartsOn","endOfWeek","startOfMonth","endOfMonth","startOfQuarter","endOfQuarter","getMonth","setMonth","setDate","listPageSize","timezone","cacheKey","age","object","JSON","parse","now","length","parseInt","refreshCacheKey","Array","N","join","Math","random","toString","slice","stringify","setCacheKey","setListPageSize","number","setTimezone","orderMode","activeFilter","setOrderMode","setActiveFilter","Vuex","modules","root","root_store","create","transactions_create","edit","transactions_edit","accounts","accounts_index","dashboard","dashboard_index","strict","process","plugins","currencyPreference","setCurrencyPreference","currencyCode","code","currencyId","id","updateCurrencyPreference","currencyResponse","name","symbol","decimal_places","err","module","exports","documentElement","lang","fallbackLocale","messages","components","SplitForm","Alert","SplitPills","TransactionGroupTitle","created","this","date","getFullYear","getDate","type","toUpperCase","substring","getExpectedSourceTypes","getAccountToTransaction","getCustomFields","errorMessage","successMessage","customFields","enableSubmit","createAnother","resetFormAfter","submittedTransaction","submittedLinks","submittedAttachments","inError","submittedAttCount","groupTitleErrors","returnedGroupId","returnedGroupTitle","computed","watch","finaliseSubmission","methods","addTransactionArray","event","preventDefault","removeTransaction","click","$store","submitData","post","url","handleSubmissionResponse","group_title","description","result","hasOwnProperty","i","test","journals","transaction_journal_id","Promise","resolve","submitLinks","links","ii","currentLink","outward_id","journalId","inward_id","promises","all","submitAttachments","anyAttachments","selectedAttachment","$t","setTimeout","location","href","handleSubmissionError","parseErrors","submitTransaction","uploadedAttachment","key","storeLocation","storeAccountValue","direction","user_selected","$refs","splitForms","destinationAccount","giveFocus","amount","storeField","sourceAccount","storeDate","storeGroupTitle","submitTransactionLinks","submitted","total","received","message","transactionIndex","split","fieldName","convertData","convertSplit","synchronizeAccounts","toLowerCase","source_name","destination_name","source_id","destination_id","array","destination_account_name","destination_account_id","source_account_name","source_account_id","currency_id","budget_id","category_name","category","internal_reference","external_url","notes","external_id","zoom_level","longitude","latitude","tags","order","reconciled","attachments","currentSplit","current","text","piggy_bank_id","bill_id","foreign_currency_id","foreign_amount","source_account_currency_id","destination_account_currency_id","link_type_id","linkTypeParts","inwardId","outwardId","newLink","getAllowedOpposingTypes","defaultDestinationAllowedTypes","defaultSourceAllowedTypes","_vm","_h","$createElement","_c","_self","attrs","_v","on","ref","staticClass","_l","transaction","refInFor","$event","model","callback","$$v","$set","expression","_e","_s","directives","rawName","domProps","isArray","_i","$$a","$$el","target","$$c","checked","$$i","concat","i18n","props","store","render","createElement","Create","beforeCreate","$mount","source","destination","currency","foreign_currency","custom_dates","budget","bill","piggy_bank","source_account_type","source_account_currency_code","source_account_currency_symbol","destination_account_type","destination_account_currency_code","destination_account_currency_symbol","selectedAttachments","uploadTrigger","clearTrigger","source_account","name_with_balance","currency_name","currency_code","currency_decimal_places","destination_account","___CSS_LOADER_EXPORT___","class","descriptions","initialSet","getACURL","clearDescription","getElementsByTagName","query","lookupDescription","$emit","item","slot","localTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","systemTimeZone","dateStr","parts","timeStr","mounted","$nextTick","tabIndex","time","localDate","composing","budgetList","emitEvent","collectData","getBudgets","parseBudgets","$$selectedVal","prototype","filter","call","options","o","selected","map","_value","multiple","Number","String","Object","default","accountTypes","selectedAccount","accountName","selectedAccountTrigger","inputThing","input","types","focus","userSelectedAccount","systemReturnedAccount","clearAccount","lookupAccount","createInitialSet","accountKey","visible","scopedSlots","_u","fn","htmlText","required","sourceCurrencySymbol","destinationCurrencySymbol","fractionDigits","transactionAmount","formatNumber","parseFloat","str","toFixed","currencySymbol","srcCurrencySymbol","dstCurrencySymbol","sourceCurrencyId","destinationCurrencyId","isVisible","selectedCurrency","allCurrencies","selectableCurrencies","dstCurrencyId","srcCurrencyId","lockedCurrency","lockCurrency","getAllCurrencies","filterCurrencies","dateFields","availableFields","dates","interestDate","bookDate","processDate","dueDate","paymentDate","invoiceDate","isDateField","includes","getFieldValue","setFieldValue","enabled","categories","clearCategory","lookupCategory","selectedCategory","set","billList","getBills","parseBills","VueTagsInput","autocompleteItems","debounce","currentTag","updateTags","tagList","shortList","initItems","clearTimeout","this$1","newTags","piggyList","getPiggies","parsePiggies","piggy","reference","showField","_m","external_uri","searchResults","include","linkTypes","searching","getLinkTypes","removeLink","getTextForLinkType","linkTypeId","selectTransaction","addToSelected","removeFromSelected","selectLinkType","updateSelected","journal","resetModal","search","parseLinkTypes","inward","outward","linkTypeInward","linkTypeOutward","parseSearch","transaction_group_id","isJournalSelected","getJournalLinkType","link_type_text","NumberFormat","style","format","apply","arguments","staticStyle","linkType","uploads","uploaded","doUpload","att","selectedFile","createAttachment","filename","attachable_type","attachable_id","uploadAttachment","uploadUri","countAttachment","files","LMap","LTileLayer","LMarker","zoom","center","hasMarker","bounds","marker","prepMap","myMap","mapObject","setObjectLocation","saveZoomLevel","latlng","lat","lng","clearLocation","zoomUpdated","centerUpdated","boundsUpdated","count","allowSwitch","Boolean","triggerNextAccount","splitDate","hasMetaFields","requiredFields","TransactionLocation","TransactionAttachments","TransactionNotes","TransactionExternalUrl","TransactionInternalReference","TransactionPiggyBank","TransactionTags","TransactionLinks","TransactionBill","TransactionCategory","TransactionCustomDates","TransactionForeignCurrency","TransactionForeignAmount","TransactionAmount","SwitchAccount","TransactionAccount","TransactionBudget","TransactionDescription","TransactionDate","_g","$listeners","title"],"sourceRoot":""}