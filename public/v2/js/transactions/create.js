(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{230:function(t,s,a){t.exports=a(236)},236:function(t,s,a){"use strict";a.r(s);var i=a(11),e=a(5);function n(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);s&&(i=i.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?n(Object(a),!0).forEach((function(s){c(t,s,a[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))}))}return t}function c(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}var o=Object(e.b)("transactions/create"),l=(o.mapState,o.mapGetters),d=(o.mapActions,{props:["value","index"],name:"TransactionDescription",methods:r(r({},(0,o.mapMutations)(["updateField"])),{},{clearDescription:function(){this.description=""}}),computed:r(r({},l(["transactionType","transactions"])),{},{description:{get:function(){return this.transactions[this.index].description},set:function(t){console.log("I am set "+t+" "+this.index),this.updateField({field:"description",index:this.index,value:t})}}})}),p=a(1),u=Object(p.a)(d,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],ref:"description",staticClass:"form-control",attrs:{title:t.$t("firefly.description"),autocomplete:"off",autofocus:"",name:"description[]",type:"text",placeholder:t.$t("firefly.description")},domProps:{value:t.description},on:{submit:function(t){t.preventDefault()},input:function(s){s.target.composing||(t.description=s.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.clearDescription}},[a("i",{staticClass:"far fa-trash-alt"})])])])])])}),[],!1,null,"4cc1974a",null).exports;function v(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);s&&(i=i.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?v(Object(a),!0).forEach((function(s){h(t,s,a[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))}))}return t}function h(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}var b=Object(e.b)("transactions/create"),_=(b.mapState,b.mapGetters),m=(b.mapActions,b.mapMutations),C={name:"Create",components:{TransactionDescription:u},created:function(){this.addTransaction()},data:function(){return{groupTitle:"",isSubmitting:!1}},computed:f({},_(["transactionType","transactions"])),methods:f(f({},m(["addTransaction","deleteTransaction"])),{},{submitTransaction:function(){this.isSubmitting=!0,console.log("Now in submit()");var t=this.convertData();console.log("Would have submitted:"),console.log(t),this.isSubmitting=!1},convertData:function(){console.log("now in convertData");var t={transactions:[]};for(var s in this.transactions)this.transactions.hasOwnProperty(s)&&/^0$|^[1-9]\d*$/.test(s)&&s<=4294967294&&t.transactions.push(this.convertSplit(s,this.transactions[s]));return t},convertSplit:function(t,s){return{description:s.description}}})},g=Object(p.a)(C,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[t._l(t.transactions,(function(s,i){return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v("\n            "+t._s(t.$t("firefly.new_transaction"))+"\n            "),t.transactions.length>1?a("span",[t._v("("+t._s(t.$t("firefly.single_split"))+" "+t._s(i+1)+" / "+t._s(t.transactions.length)+")")]):t._e()]),t._v(" "),t.transactions.length>1?a("div",{staticClass:"box-tools pull-right"},[a("button",{staticClass:"btn btn-xs btn-danger",attrs:{type:"button"},on:{click:function(s){return t.deleteTransaction(i,s)}}},[a("i",{staticClass:"fa fa-trash"})])]):t._e()]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"accordion"}},[a("div",{staticClass:"card card-primary"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-title"},[a("a",{attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseBasic"+i,"aria-expanded":"true"}},[t._v("\n                    "+t._s(t.$t("firefly.basic_journal_information"))+"\n                  ")])])]),t._v(" "),a("div",{staticClass:"panel-collapse in collapse show",attrs:{id:"collapseBasic"+i}},[a("div",{staticClass:"card-body"},[t._m(0,!0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("TransactionDescription",{attrs:{description:t.transactions[i].description,index:i}})],1)]),t._v(" "),t._m(1,!0)])])]),t._v(" "),a("div",{staticClass:"card card-secondary"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-title"},[a("a",{staticClass:"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseMeta"+i,"aria-expanded":"false"}},[t._v("\n                    "+t._s(t.$t("firefly.transaction_journal_meta"))+"\n                  ")])])]),t._v(" "),a("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseMeta"+i}},[t._m(2,!0)])]),t._v(" "),a("div",{staticClass:"card card-secondary"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-title"},[a("a",{staticClass:"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseExtra"+i,"aria-expanded":"false"}},[t._v("\n                    "+t._s(t.$t("firefly.transaction_journal_extra"))+"\n                  ")])])]),t._v(" "),a("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseExtra"+i}},[t._m(3,!0)])])])])])])])})),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",on:{click:t.addTransaction}},[t._v(t._s(t.$t("firefly.add_another_split")))])]),t._v(" "),a("div",{staticClass:"col"},[a("p",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-success",attrs:{disabled:t.isSubmitting},on:{click:t.submitTransaction}},[t._v("Store transaction")]),t._v(" "),a("br")])])]),t._v(" "),t._m(4)],2)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("p",[this._v("\n                        Source\n                      ")])]),this._v(" "),s("div",{staticClass:"col"},[s("p",[this._v("\n                        Amount\n                        "),s("br"),this._v("\n                        foreign amount\n                      ")])]),this._v(" "),s("div",{staticClass:"col"},[s("p",[this._v("\n                        Destination\n                      ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[this._v("\n                      Date and time.\n                    ")]),this._v(" "),s("div",{staticClass:"col"},[this._v("\n                      Other date\n                    ")]),this._v(" "),s("div",{staticClass:"col"},[this._v("\n                      Other date\n                    ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[this._v("\n                      Budget"),s("br"),this._v("\n                      Cat"),s("br")]),this._v(" "),s("div",{staticClass:"col"},[this._v("\n                      Bill"),s("br"),this._v("\n                      Tags"),s("br"),this._v("\n                      Piggy"),s("br")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[this._v("\n                      Internal ref"),s("br"),this._v("\n                      External URL"),s("br"),this._v("\n                      Notes\n                    ")]),this._v(" "),s("div",{staticClass:"col"},[this._v("\n                      Transaction links"),s("br"),this._v("\n                      Attachments\n                    ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col float-right"},[s("p",{staticClass:"text-right"},[s("small",{staticClass:"text-muted"},[this._v("Create another another another "),s("input",{attrs:{type:"checkbox"}})]),s("br"),this._v(" "),s("small",{staticClass:"text-muted"},[this._v("Return here "),s("input",{attrs:{type:"checkbox"}})]),s("br")])])])}],!1,null,"96f8dd00",null).exports;a(8);var y=a(10),O={};new Vue({i18n:y,store:i.a,render:function(t){return t(g,{props:O})}}).$mount("#transactions_create")}},[[230,0,1]]]);
//# sourceMappingURL=create.js.map