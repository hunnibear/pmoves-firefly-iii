(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{232:function(t,e,s){s(403),t.exports=s(408)},235:function(t,e,s){"use strict";s(51)},236:function(t,e,s){(t.exports=s(33)(!1)).push([t.i,".dropdown-item[data-v-03e62f58],.dropdown-item[data-v-03e62f58]:hover{color:#212529}",""])},265:function(t,e,s){var a={"./af":60,"./af.js":60,"./ar":61,"./ar-dz":62,"./ar-dz.js":62,"./ar-kw":63,"./ar-kw.js":63,"./ar-ly":64,"./ar-ly.js":64,"./ar-ma":65,"./ar-ma.js":65,"./ar-sa":66,"./ar-sa.js":66,"./ar-tn":67,"./ar-tn.js":67,"./ar.js":61,"./az":68,"./az.js":68,"./be":69,"./be.js":69,"./bg":70,"./bg.js":70,"./bm":71,"./bm.js":71,"./bn":72,"./bn-bd":73,"./bn-bd.js":73,"./bn.js":72,"./bo":74,"./bo.js":74,"./br":75,"./br.js":75,"./bs":76,"./bs.js":76,"./ca":77,"./ca.js":77,"./cs":78,"./cs.js":78,"./cv":79,"./cv.js":79,"./cy":80,"./cy.js":80,"./da":81,"./da.js":81,"./de":82,"./de-at":83,"./de-at.js":83,"./de-ch":84,"./de-ch.js":84,"./de.js":82,"./dv":85,"./dv.js":85,"./el":86,"./el.js":86,"./en-au":87,"./en-au.js":87,"./en-ca":88,"./en-ca.js":88,"./en-gb":89,"./en-gb.js":89,"./en-ie":90,"./en-ie.js":90,"./en-il":91,"./en-il.js":91,"./en-in":92,"./en-in.js":92,"./en-nz":93,"./en-nz.js":93,"./en-sg":94,"./en-sg.js":94,"./eo":95,"./eo.js":95,"./es":96,"./es-do":97,"./es-do.js":97,"./es-mx":98,"./es-mx.js":98,"./es-us":99,"./es-us.js":99,"./es.js":96,"./et":100,"./et.js":100,"./eu":101,"./eu.js":101,"./fa":102,"./fa.js":102,"./fi":103,"./fi.js":103,"./fil":104,"./fil.js":104,"./fo":105,"./fo.js":105,"./fr":106,"./fr-ca":107,"./fr-ca.js":107,"./fr-ch":108,"./fr-ch.js":108,"./fr.js":106,"./fy":109,"./fy.js":109,"./ga":110,"./ga.js":110,"./gd":111,"./gd.js":111,"./gl":112,"./gl.js":112,"./gom-deva":113,"./gom-deva.js":113,"./gom-latn":114,"./gom-latn.js":114,"./gu":115,"./gu.js":115,"./he":116,"./he.js":116,"./hi":117,"./hi.js":117,"./hr":118,"./hr.js":118,"./hu":119,"./hu.js":119,"./hy-am":120,"./hy-am.js":120,"./id":121,"./id.js":121,"./is":122,"./is.js":122,"./it":123,"./it-ch":124,"./it-ch.js":124,"./it.js":123,"./ja":125,"./ja.js":125,"./jv":126,"./jv.js":126,"./ka":127,"./ka.js":127,"./kk":128,"./kk.js":128,"./km":129,"./km.js":129,"./kn":130,"./kn.js":130,"./ko":131,"./ko.js":131,"./ku":132,"./ku.js":132,"./ky":133,"./ky.js":133,"./lb":134,"./lb.js":134,"./lo":135,"./lo.js":135,"./lt":136,"./lt.js":136,"./lv":137,"./lv.js":137,"./me":138,"./me.js":138,"./mi":139,"./mi.js":139,"./mk":140,"./mk.js":140,"./ml":141,"./ml.js":141,"./mn":142,"./mn.js":142,"./mr":143,"./mr.js":143,"./ms":144,"./ms-my":145,"./ms-my.js":145,"./ms.js":144,"./mt":146,"./mt.js":146,"./my":147,"./my.js":147,"./nb":148,"./nb.js":148,"./ne":149,"./ne.js":149,"./nl":150,"./nl-be":151,"./nl-be.js":151,"./nl.js":150,"./nn":152,"./nn.js":152,"./oc-lnc":153,"./oc-lnc.js":153,"./pa-in":154,"./pa-in.js":154,"./pl":155,"./pl.js":155,"./pt":156,"./pt-br":157,"./pt-br.js":157,"./pt.js":156,"./ro":158,"./ro.js":158,"./ru":159,"./ru.js":159,"./sd":160,"./sd.js":160,"./se":161,"./se.js":161,"./si":162,"./si.js":162,"./sk":163,"./sk.js":163,"./sl":164,"./sl.js":164,"./sq":165,"./sq.js":165,"./sr":166,"./sr-cyrl":167,"./sr-cyrl.js":167,"./sr.js":166,"./ss":168,"./ss.js":168,"./sv":169,"./sv.js":169,"./sw":170,"./sw.js":170,"./ta":171,"./ta.js":171,"./te":172,"./te.js":172,"./tet":173,"./tet.js":173,"./tg":174,"./tg.js":174,"./th":175,"./th.js":175,"./tk":176,"./tk.js":176,"./tl-ph":177,"./tl-ph.js":177,"./tlh":178,"./tlh.js":178,"./tr":179,"./tr.js":179,"./tzl":180,"./tzl.js":180,"./tzm":181,"./tzm-latn":182,"./tzm-latn.js":182,"./tzm.js":181,"./ug-cn":183,"./ug-cn.js":183,"./uk":184,"./uk.js":184,"./ur":185,"./ur.js":185,"./uz":186,"./uz-latn":187,"./uz-latn.js":187,"./uz.js":186,"./vi":188,"./vi.js":188,"./x-pseudo":189,"./x-pseudo.js":189,"./yo":190,"./yo.js":190,"./zh-cn":191,"./zh-cn.js":191,"./zh-hk":192,"./zh-hk.js":192,"./zh-mo":193,"./zh-mo.js":193,"./zh-tw":194,"./zh-tw.js":194};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id=265},403:function(t,e,s){"use strict";s.r(e);var a={name:"Dashboard",created:function(){},computed:{},methods:{}},r=s(1),n=Object(r.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("top-boxes"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("main-account")],1)]),t._v(" "),s("main-account-list"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("main-budget-list")],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("main-category-list")],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[s("main-debit-list")],1),t._v(" "),s("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[s("main-credit-list")],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[s("main-piggy-list")],1),t._v(" "),s("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[s("main-bills-list")],1)])],1)}),[],!1,null,null,null).exports,i={name:"TopBoxes",props:{},data:function(){return{summary:[],balances:[],billsPaid:[],billsUnpaid:[],leftToSpend:[],netWorth:[]}},computed:{prefCurrencyBalances:function(){return this.filterOnCurrency(this.balances)},notPrefCurrencyBalances:function(){return this.filterOnNotCurrency(this.balances)},prefBillsUnpaid:function(){return this.filterOnCurrency(this.billsUnpaid)},notPrefBillsUnpaid:function(){return this.filterOnNotCurrency(this.billsUnpaid)},prefLeftToSpend:function(){return this.filterOnCurrency(this.leftToSpend)},notPrefLeftToSpend:function(){return this.filterOnNotCurrency(this.leftToSpend)},prefNetWorth:function(){return this.filterOnCurrency(this.netWorth)},notPrefNetWorth:function(){return this.filterOnNotCurrency(this.netWorth)},currencyCode:function(){return this.$store.getters.currencyCode},currencyId:function(){return this.$store.getters.currencyId}},created:function(){this.prepareComponent()},methods:{filterOnCurrency:function(t){var e=[];for(var s in t)t.hasOwnProperty(s)&&t[s].currency_id===this.currencyId&&e.push(t[s]);return 0===e.length&&t.hasOwnProperty(0)&&e.push(t[0]),e},filterOnNotCurrency:function(t){var e=[];for(var s in t)t.hasOwnProperty(s)&&t[s].currency_id!==this.currencyId&&e.push(t[s]);return e},prepareComponent:function(){var t=this;axios.get("./api/v1/summary/basic?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(e){t.summary=e.data,t.buildComponent()}))},buildComponent:function(){this.getBalanceEntries(),this.getBillsEntries(),this.getLeftToSpend(),this.getNetWorth()},hasCurrency:function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].currency_id===this.currencyId)return!0;return!1},getBalanceEntries:function(){this.balances=this.getKeyedEntries("balance-in-")},getNetWorth:function(){this.netWorth=this.getKeyedEntries("net-worth-in-")},getLeftToSpend:function(){this.leftToSpend=this.getKeyedEntries("left-to-spend-in-")},getBillsEntries:function(){this.billsPaid=this.getKeyedEntries("bills-paid-in-"),this.billsUnpaid=this.getKeyedEntries("bills-unpaid-in-")},getKeyedEntries:function(t){var e=[];for(var s in this.summary)this.summary.hasOwnProperty(s)&&t===s.substr(0,t.length)&&e.push(this.summary[s]);return e}}},c=Object(r.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"info-box"},[t._m(0),t._v(" "),s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("firefly.balance")))]),t._v(" "),t._l(t.prefCurrencyBalances,(function(e){return s("span",{staticClass:"info-box-number",attrs:{title:e.sub_title}},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(1),t._v(" "),s("span",{staticClass:"progress-description"},[t._l(t.notPrefCurrencyBalances,(function(e,a){return s("span",{attrs:{title:e.sub_title}},[t._v("\n                        "+t._s(e.value_parsed)),a+1!==t.notPrefCurrencyBalances.length?s("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefCurrencyBalances.length?s("span",[t._v(" ")]):t._e()],2)],2)])]),t._v(" "),s("div",{staticClass:"col"},[s("div",{staticClass:"info-box"},[t._m(2),t._v(" "),s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("firefly.bills_to_pay")))]),t._v(" "),t._l(t.prefBillsUnpaid,(function(e){return s("span",{staticClass:"info-box-number"},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(3),t._v(" "),s("span",{staticClass:"progress-description"},[t._l(t.notPrefBillsUnpaid,(function(e,a){return s("span",[t._v("\n                              "+t._s(e.value_parsed)),a+1!==t.notPrefBillsUnpaid.length?s("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefBillsUnpaid.length?s("span",[t._v(" ")]):t._e()],2)],2)])]),t._v(" "),s("div",{staticClass:"col"},[s("div",{staticClass:"info-box"},[t._m(4),t._v(" "),s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("firefly.left_to_spend")))]),t._v(" "),t._l(t.prefLeftToSpend,(function(e){return s("span",{staticClass:"info-box-number",attrs:{title:e.sub_title}},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(5),t._v(" "),s("span",{staticClass:"progress-description"},[t._l(t.notPrefLeftToSpend,(function(e,a){return s("span",[t._v("\n                              "+t._s(e.value_parsed)),a+1!==t.notPrefLeftToSpend.length?s("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefLeftToSpend.length?s("span",[t._v(" ")]):t._e()],2)],2)])]),t._v(" "),s("div",{staticClass:"col"},[s("div",{staticClass:"info-box"},[t._m(6),t._v(" "),s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-text"},[s("span",[t._v(t._s(t.$t("firefly.net_worth")))])]),t._v(" "),t._l(t.prefNetWorth,(function(e){return s("span",{staticClass:"info-box-number",attrs:{title:e.sub_title}},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(7),t._v(" "),s("span",{staticClass:"progress-description"},[t._l(t.notPrefNetWorth,(function(e,a){return s("span",[t._v("\n                              "+t._s(e.value_parsed)),a+1!==t.notPrefNetWorth.length?s("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefNetWorth.length?s("span",[t._v(" ")]):t._e()],2)],2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"far fa-bookmark text-info"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-info"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"far fa-calendar-alt text-teal"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-teal"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"fas fa-money-bill text-success"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-success"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"fas fa-money-bill text-success"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-success"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])}],!1,null,null,null).exports,o={name:"DataConverter",data:function(){return{dataSet:null,newDataSet:null,locale:localStorage.local}},methods:{convertChart:function(t){return this.dataSet=t,this.newDataSet={count:0,labels:[],datasets:[]},this.getLabels(),this.getDataSets(),this.newDataSet.count=this.newDataSet.datasets.length,this.newDataSet},colorizeBarData:function(t){this.dataSet=t,this.newDataSet={count:0,labels:[],datasets:[]};for(var e=[[53,124,165],[0,141,76],[219,139,11],[202,25,90],[85,82,153],[66,133,244],[219,68,55],[244,180,0],[15,157,88],[171,71,188],[0,172,193],[255,112,67],[158,157,36],[92,107,192],[240,98,146],[0,121,107],[194,24,91]],s=[],a=0;a<e.length;a++)s.push("rgba("+e[a][0]+", "+e[a][1]+", "+e[a][2]+", 0.5)");for(var r in this.newDataSet.labels=this.dataSet.labels,this.newDataSet.count=this.dataSet.count,this.dataSet.datasets)if(this.dataSet.datasets.hasOwnProperty(r)){var n=this.dataSet.datasets[r];n.fill=!1,n.backgroundColor=n.borderColor=s[r],this.newDataSet.datasets.push(n)}return this.newDataSet},colorizeLineData:function(t){this.dataSet=t,this.newDataSet={count:0,labels:[],datasets:[]};for(var e=[[53,124,165],[0,141,76],[219,139,11],[202,25,90],[85,82,153],[66,133,244],[219,68,55],[244,180,0],[15,157,88],[171,71,188],[0,172,193],[255,112,67],[158,157,36],[92,107,192],[240,98,146],[0,121,107],[194,24,91]],s=[],a=0;a<e.length;a++)s.push("rgba("+e[a][0]+", "+e[a][1]+", "+e[a][2]+", 0.5)");for(var r in this.newDataSet.labels=this.dataSet.labels,this.newDataSet.count=this.dataSet.count,this.dataSet.datasets)if(this.dataSet.datasets.hasOwnProperty(r)){var n=this.dataSet.datasets[r];n.fill=!1,n.backgroundColor=n.borderColor=s[r],this.newDataSet.datasets.push(n)}return this.newDataSet},convertLabelsToDate:function(t){for(var e in t.labels)if(t.labels.hasOwnProperty(e)){var s=Date.parse(t.labels[e]);t.labels[e]=new Intl.DateTimeFormat(this.locale).format(s)}return t},getLabels:function(){var t=this.dataSet[0];if(void 0!==t)for(var e in t.entries)t.entries.hasOwnProperty(e)&&this.newDataSet.labels.push(e)},getDataSets:function(){for(var t in this.dataSet)if(this.dataSet.hasOwnProperty(t)){var e={},s=this.dataSet[t];if(void 0!==s){for(var a in e.label=s.label,e.type=s.type,e.currency_symbol=s.currency_symbol,e.currency_code=s.currency_code,e.yAxisID=s.yAxisID,e.data=[],s.entries)s.entries.hasOwnProperty(a)&&e.data.push(s.entries[a]);this.newDataSet.datasets.push(e)}}}}},l=Object(r.a)(o,void 0,void 0,!1,null,null,null).exports,u={name:"DefaultLineOptions",data:function(){return{}},methods:{formatLabel:function(t,e){var s=[],a=(t=String(t)).split(" "),r="";return a.forEach((function(t,n){if(r.length>0){var i=r+" "+t;if(!(i.length>e))return n===a.length-1?void s.push(i):void(r=i);s.push(r),r=""}n!==a.length-1&&t.length<e?r=t:s.push(t)})),s},getDefaultOptions:function(){var t=this;return{legend:{display:!1},animation:{duration:0},responsive:!0,maintainAspectRatio:!1,elements:{line:{cubicInterpolationMode:"monotone"}},scales:{xAxes:[{gridLines:{display:!1},ticks:{callback:function(e,s,a){var r=new Date(e),n=new Intl.DateTimeFormat(localStorage.locale,{year:"numeric",month:"long",day:"numeric"}).format(r);return t.formatLabel(n,20)}}}],yAxes:[{display:!0,ticks:{callback:function(t){var e=this.chart.data.datasets[0].currency_code?this.chart.data.datasets[0].currency_code:"EUR";return new Intl.NumberFormat(localStorage.locale,{style:"currency",currency:e}).format(t)},beginAtZero:!0}}]},tooltips:{mode:"index",callbacks:{label:function(t,e){var s=e.datasets[t.datasetIndex].currency_code?e.datasets[t.datasetIndex].currency_code:"EUR",a=new Intl.NumberFormat(localStorage.locale,{style:"currency",currency:s}).format(t.yLabel);return e.datasets[t.datasetIndex].label+": "+a}}}}}}},d=Object(r.a)(u,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,"55cd0635",null).exports,_={name:"MainAccount",created:function(){axios.get("./api/v1/chart/account/overview?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(t){var e=l.methods.convertChart(t.data);e=l.methods.colorizeLineData(e);var s=$("#mainAccountsChart").get(0).getContext("2d");new Chart(s,{type:"line",data:e,options:d.methods.getDefaultOptions()})}))}},p=Object(r.a)(_,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.yourAccounts")))])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./accounts/asset"}},[s("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_asset_accounts")))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-body"},[e("div",[e("canvas",{staticStyle:{"min-height":"400px",height:"400px","max-height":"400px","max-width":"100%"},attrs:{id:"mainAccountsChart"}})])])}],!1,null,null,null).exports,f={name:"MainAccountList",data:function(){return{accounts:[]}},created:function(){var t=this;axios.get("./api/v1/preferences/frontpageAccounts").then((function(e){t.loadAccounts(e)}))},methods:{loadAccounts:function(t){var e=t.data.data.attributes.data;for(var s in e)e.hasOwnProperty(s)&&/^0$|^[1-9]\d*$/.test(s)&&s<=4294967294&&(this.accounts.push({id:e[s],title:"",uri:"",transactions:[]}),this.loadSingleAccount(s,e[s]))},loadSingleAccount:function(t,e){var s=this;axios.get("./api/v1/accounts/"+e).then((function(a){s.accounts[t].title=a.data.data.attributes.name,s.accounts[t].uri="./accounts/show/"+a.data.data.id,s.loadTransactions(t,e)}))},loadTransactions:function(t,e){var s=this;axios.get("./api/v1/accounts/"+e+"/transactions?page=1&limit=10").then((function(e){s.accounts[t].transactions=e.data.data}))}}},m=Object(r.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},t._l(t.accounts,(function(e){return s("div",{class:{"col-lg-12":1===t.accounts.length,"col-lg-6":2===t.accounts.length,"col-lg-4":t.accounts.length>2}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[s("a",{attrs:{href:e.uri}},[t._v(t._s(e.title))])])]),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[1===t.accounts.length?s("transaction-list-large",{attrs:{transactions:e.transactions,account_id:e.id}}):t._e(),t._v(" "),2===t.accounts.length?s("transaction-list-medium",{attrs:{transactions:e.transactions,account_id:e.id}}):t._e(),t._v(" "),t.accounts.length>2?s("transaction-list-small",{attrs:{transactions:e.transactions,account_id:e.id}}):t._e()],1)])])})),0)}),[],!1,null,"2f3a38b8",null).exports,b={name:"MainBillsList",computed:{locale:function(){return this.$store.getters.locale}},created:function(){var t=this;axios.get("./api/v1/bills?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(e){t.loadBills(e.data.data)}))},components:{},methods:{loadBills:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var s=t[e],a=s.attributes.active;s.attributes.pay_dates.length>0&&a&&this.bills.push(s)}}},data:function(){return{bills:[]}}},v=Object(r.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.bills")))])]),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[s("table",{staticClass:"table table-striped"},[s("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.bills")))]),t._v(" "),s("thead",[s("tr",[s("th",{staticStyle:{width:"35%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.name")))]),t._v(" "),s("th",{staticStyle:{width:"25%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.next_expected_match")))])])]),t._v(" "),s("tbody",t._l(this.bills,(function(e){return s("tr",[s("td",[s("a",{attrs:{href:"./bills/show"+e.id,title:e.attributes.name}},[t._v(t._s(e.attributes.name))]),t._v("\n          ~"+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.attributes.currency_code}).format((parseFloat(e.attributes.amount_min)+parseFloat(e.attributes.amount_max))/2))+"\n          "),s("br")]),t._v(" "),s("td",t._l(e.attributes.pay_dates,(function(e){return s("span",[t._v("\n                        "+t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(new Date(e)))+"\n                          "),s("br")])})),0)])})),0)])]),t._v(" "),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./bills"}},[s("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_bills")))])])])}),[],!1,null,null,null).exports,h={name:"BudgetLimitRow",mounted:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},data:function(){return{locale:"en-US"}},props:{budgetLimit:{type:Object,default:function(){return{}}},budget:{type:Object,default:function(){return{}}}}},g=Object(r.a)(h,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticStyle:{width:"25%"}},[s("a",{attrs:{href:"./budgets/show/"+t.budgetLimit.budget_id}},[t._v(t._s(t.budgetLimit.budget_name))])]),t._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("div",{staticClass:"progress progress active"},[s("div",{staticClass:"progress-bar bg-success progress-bar-striped",style:"width: "+t.budgetLimit.pctGreen+"%;",attrs:{role:"progressbar","aria-valuenow":t.budgetLimit.pctGreen,"aria-valuemin":"0","aria-valuemax":"100"}},[t.budgetLimit.pctGreen>35?s("span",[t._v("\n                      Spent\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.spent))+"\n                      of\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.amount))+"\n                    ")]):t._e()]),t._v(" "),s("div",{staticClass:"progress-bar bg-warning progress-bar-striped",style:"width: "+t.budgetLimit.pctOrange+"%;",attrs:{role:"progressbar","aria-valuenow":t.budgetLimit.pctOrange,"aria-valuemin":"0","aria-valuemax":"100"}},[t.budgetLimit.pctRed<=50&&t.budgetLimit.pctOrange>35?s("span",[t._v("\n                      Spent\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.spent))+"\n                      of\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.amount))+"\n                    ")]):t._e()]),t._v(" "),s("div",{staticClass:"progress-bar bg-danger progress-bar-striped",style:"width: "+t.budgetLimit.pctRed+"%;",attrs:{role:"progressbar","aria-valuenow":t.budgetLimit.pctRed,"aria-valuemin":"0","aria-valuemax":"100"}},[t.budgetLimit.pctOrange<=50&&t.budgetLimit.pctRed>35?s("span",[t._v("\n                      Spent\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.spent))+"\n                      of\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.amount))+"\n                    ")]):t._e()])]),t._v(" "),s("small",{staticClass:"d-none d-lg-block"},[t._v("\n      "+t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.budgetLimit.start))+"\n      →\n      "+t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.budgetLimit.end))+"\n    ")])]),t._v(" "),s("td",{staticClass:"align-middle d-none d-lg-table-cell",staticStyle:{width:"10%"}},[parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)>0?s("span",{staticClass:"text-success"},[t._v("\n                  "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)))+"\n                ")]):t._e(),t._v(" "),0===parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)?s("span",{staticClass:"text-muted"},[t._v("\n                  "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(0))+"\n                ")]):t._e(),t._v(" "),parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)<0?s("span",{staticClass:"text-danger"},[t._v("\n                  "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)))+"\n                ")]):t._e()])])}),[],!1,null,"20d55ede",null).exports,y={name:"BudgetRow",mounted:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},data:function(){return{locale:"en-US"}},props:{budget:{type:Object,default:{}}}},C={name:"BudgetListGroup",components:{BudgetLimitRow:g,BudgetRow:Object(r.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticStyle:{width:"25%"}},[s("a",{attrs:{href:"./budgets/show/"+t.budget.id}},[t._v(t._s(t.budget.name))])]),t._v(" "),s("td",{staticClass:"align-middle text-right"},[s("span",{staticClass:"text-danger"},[t._v("\n      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budget.currency_code}).format(parseFloat(t.budget.spent)))+"\n    ")])])])}),[],!1,null,"3e0b277e",null).exports},props:{title:String,budgetLimits:Array,budgets:Array}},w={name:"MainBudgetList",components:{BudgetListGroup:Object(r.a)(C,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.title))])]),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[s("table",{staticClass:"table table-sm"},[s("tbody",[t._l(t.budgetLimits,(function(t,e){return s("BudgetLimitRow",{key:e,attrs:{budgetLimit:t}})})),t._v(" "),t._l(t.budgets,(function(t,e){return s("BudgetRow",{key:e,attrs:{budget:t}})}))],2)])]),t._v(" "),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./budgets"}},[s("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_budgets")))])])])}),[],!1,null,"1480b15a",null).exports},data:function(){return{budgetList:["daily","weekly","monthly","quarterly","half_year","yearly","other"],budgetLimits:{daily:[],weekly:[],monthly:[],quarterly:[],half_year:[],yearly:[],other:[]},budgets:{},rawBudgets:[],locale:"en-US"}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.collectData()},methods:{collectData:function(){this.getBudgets()},getBudgets:function(){var t=this;axios.get("./api/v1/budgets?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(e){t.parseBudgets(e.data)}))},parseBudgets:function(t){for(var e in t.data)if(t.data.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var s=t.data[e];for(var a in s.attributes.spent)if(s.attributes.spent.hasOwnProperty(a)&&/^0$|^[1-9]\d*$/.test(a)&&a<=4294967294){var r=s.attributes.spent[a];this.rawBudgets.push({id:parseInt(s.id),name:s.attributes.name,currency_id:parseInt(r.currency_id),currency_code:r.currency_code,spent:r.sum})}}this.getBudgetLimits()},getBudgetLimits:function(){var t=this;axios.get("./api/v1/budgets/limits?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(e){t.parseBudgetLimits(e.data)}))},parseBudgetLimits:function(t){for(var e in t.included)t.included.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294&&(this.budgets[t.included[e].id]={id:t.included[e].id,name:t.included[e].attributes.name});for(var s in t.data)if(t.data.hasOwnProperty(s)&&/^0$|^[1-9]\d*$/.test(s)&&s<=4294967294){var a,r=0,n=0,i=0;this.filterBudgets(t.data[s].attributes.budget_id,t.data[s].attributes.currency_id),0!==parseFloat(t.data[s].attributes.spent)&&-1*parseFloat(t.data[s].attributes.spent)<parseFloat(t.data[s].attributes.amount)&&(r=-1*parseFloat(t.data[s].attributes.spent)/parseFloat(t.data[s].attributes.amount)*100),0!==parseFloat(t.data[s].attributes.spent)&&-1*parseFloat(t.data[s].attributes.spent)>parseFloat(t.data[s].attributes.amount)&&(i=100-(n=parseFloat(t.data[s].attributes.amount)/parseFloat(t.data[s].attributes.spent)*-1*100));var c={id:t.data[s].id,amount:t.data[s].attributes.amount,budget_id:t.data[s].attributes.budget_id,budget_name:this.budgets[t.data[s].attributes.budget_id].name,currency_id:t.data[s].attributes.currency_id,currency_code:t.data[s].attributes.currency_code,period:t.data[s].attributes.period,start:new Date(t.data[s].attributes.start),end:new Date(t.data[s].attributes.end),spent:t.data[s].attributes.spent,pctGreen:r,pctOrange:n,pctRed:i},o=null!==(a=t.data[s].attributes.period)&&void 0!==a?a:"other";this.budgetLimits[o].push(c)}},filterBudgets:function(t,e){for(var s in this.rawBudgets)this.rawBudgets.hasOwnProperty(s)&&/^0$|^[1-9]\d*$/.test(s)&&s<=4294967294&&this.rawBudgets[s].currency_id===e&&this.rawBudgets[s].id===t&&this.rawBudgets.splice(s,1)}}},x=Object(r.a)(w,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[t.budgetLimits.daily.length>0?s("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("BudgetListGroup",{attrs:{title:t.$t("firefly.daily_budgets"),budgetLimits:t.budgetLimits.daily}})],1):t._e(),t._v(" "),t.budgetLimits.weekly.length>0?s("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("BudgetListGroup",{attrs:{title:t.$t("firefly.weekly_budgets"),budgetLimits:t.budgetLimits.weekly}})],1):t._e(),t._v(" "),t.budgetLimits.monthly.length>0?s("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("BudgetListGroup",{attrs:{title:t.$t("firefly.monthly_budgets"),budgetLimits:t.budgetLimits.monthly}})],1):t._e(),t._v(" "),t.budgetLimits.quarterly.length>0?s("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("BudgetListGroup",{attrs:{title:t.$t("firefly.quarterly_budgets"),budgetLimits:t.budgetLimits.quarterly}})],1):t._e(),t._v(" "),t.budgetLimits.half_year.length>0?s("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("BudgetListGroup",{attrs:{title:t.$t("firefly.half_year_budgets"),budgetLimits:t.budgetLimits.half_year}})],1):t._e(),t._v(" "),t.budgetLimits.yearly.length>0?s("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("BudgetListGroup",{attrs:{title:t.$t("firefly.yearly_budgets"),budgetLimits:t.budgetLimits.yearly}})],1):t._e(),t._v(" "),t.budgetLimits.other.length>0||t.rawBudgets.length>0?s("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("BudgetListGroup",{attrs:{title:t.$t("firefly.other_budgets"),budgetLimits:t.budgetLimits.other,budgets:t.rawBudgets}})],1):t._e()])])}),[],!1,null,"f0d512f0",null).exports,j={name:"MainCreditList",data:function(){return{locale:"en-US",income:[],max:0}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.getExpenses()},methods:{getExpenses:function(){var t=this;axios.get("./api/v1/insight/income/date/basic?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(e){t.parseExpenses(e.data)}))},parseExpenses:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var s=t[e];0===parseInt(e)&&(this.max=t[e].difference_float,s.pct=100),0!==parseInt(e)&&(s.pct=t[e].difference_float/this.max*100),this.income.push(s)}}}},S=Object(r.a)(j,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.revenue_accounts")))])]),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[s("table",{staticClass:"table table-sm"},[s("tbody",t._l(t.income,(function(e){return s("tr",[s("td",{staticStyle:{width:"20%"}},[s("a",{attrs:{href:"./accounts/show/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),s("td",{staticClass:"align-middle"},[e.pct>0?s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.pct+"%"},attrs:{role:"progressbar","aria-valuenow":e.pct,"aria-valuemin":"0","aria-valuemax":"100"}},[e.pct>20?s("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n              ")]):t._e()]),t._v(" "),e.pct<=20?s("span",[t._v(" \n            "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n            ")]):t._e()]):t._e()])])})),0)])]),t._v(" "),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./transactions/deposit"}},[s("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_deposits")))])])])}),[],!1,null,null,null).exports,L={name:"MainDebitList",data:function(){return{locale:"en-US",expenses:[],max:0}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.getExpenses()},methods:{getExpenses:function(){var t=this;axios.get("./api/v1/insight/expense/date/basic?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(e){t.parseExpenses(e.data)}))},parseExpenses:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var s=t[e];0===parseInt(e)&&(this.max=t[e].difference_float,s.pct=100),0!==parseInt(e)&&(s.pct=t[e].difference_float/this.max*100),this.expenses.push(s)}}}},F=Object(r.a)(L,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.expense_accounts")))])]),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[s("table",{staticClass:"table table-sm"},[s("tbody",t._l(t.expenses,(function(e){return s("tr",[s("td",{staticStyle:{width:"20%"}},[s("a",{attrs:{href:"./accounts/show/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),s("td",{staticClass:"align-middle"},[e.pct>0?s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-striped bg-danger",style:{width:e.pct+"%"},attrs:{role:"progressbar","aria-valuenow":e.pct,"aria-valuemin":"0","aria-valuemax":"100"}},[e.pct>20?s("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n              ")]):t._e()]),t._v(" "),e.pct<=20?s("span",[t._v(" \n            "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n            ")]):t._e()]):t._e()])])})),0)])]),t._v(" "),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./transactions/withdrawal"}},[s("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_withdrawals")))])])])}),[],!1,null,null,null).exports,O={name:"MainPiggyList",created:function(){var t=this;axios.get("./api/v1/piggy_banks").then((function(e){t.loadPiggyBanks(e.data.data)}))},computed:{locale:function(){return this.$store.getters.locale}},methods:{loadPiggyBanks:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var s=t[e];0!==parseFloat(s.attributes.left_to_save)&&(s.attributes.pct=parseFloat(s.attributes.current_amount)/parseFloat(s.attributes.target_amount)*100,this.piggy_banks.push(s))}this.piggy_banks.sort((function(t,e){return e.attributes.pct-t.attributes.pct}))}},data:function(){return{piggy_banks:[]}}},P=Object(r.a)(O,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.piggy_banks")))])]),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[s("table",{staticClass:"table table-striped"},[s("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.piggy_banks")))]),t._v(" "),s("thead",[s("tr",[s("th",{staticStyle:{width:"35%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.piggy_bank")))]),t._v(" "),s("th",{staticStyle:{width:"40%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.percentage"))+" "),s("small",[t._v("/ "+t._s(t.$t("list.amount")))])])])]),t._v(" "),s("tbody",t._l(this.piggy_banks,(function(e){return s("tr",[s("td",[t._v(t._s(e.attributes.name)+"\n          "),e.attributes.object_group_title?s("small",{staticClass:"text-muted"},[s("br"),t._v("\n            "+t._s(e.attributes.object_group_title)+"\n          ")]):t._e()]),t._v(" "),s("td",[s("div",{staticClass:"progress-group"},[s("div",{staticClass:"progress progress-sm"},[e.attributes.pct<100?s("div",{staticClass:"progress-bar progress-bar-striped primary",style:{width:e.attributes.pct+"%"}}):t._e(),t._v(" "),100===e.attributes.pct?s("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.attributes.pct+"%"}}):t._e()])]),t._v(" "),s("span",{staticClass:"text-success"},[t._v("\n                          "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.attributes.currency_code}).format(e.attributes.current_amount))+"\n                      ")]),t._v("\n          of\n          "),s("span",{staticClass:"text-success"},[t._v(t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.attributes.currency_code}).format(e.attributes.target_amount)))])])])})),0)])]),t._v(" "),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./piggy-banks"}},[s("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_piggies")))])])])}),[],!1,null,"14a8a9a0",null).exports,k={name:"TransactionListLarge",props:{transactions:{type:Array,default:function(){return[]}},account_id:{type:Number,default:function(){return 0}}}},E=Object(r.a)(k,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-striped table-sm"},[s("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.transaction_table_description")))]),t._v(" "),s("thead",[s("tr",[s("th",{staticClass:"text-left",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.description")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.opposing_account")))]),t._v(" "),s("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.amount")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.category")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.budget")))])])]),t._v(" "),s("tbody",t._l(this.transactions,(function(e){return s("tr",[s("td",[s("a",{attrs:{href:"transactions/show/"+e.id,title:e.date}},[e.attributes.transactions.length>1?s("span",[t._v(t._s(e.attributes.group_title))]):t._e(),t._v(" "),1===e.attributes.transactions.length?s("span",[t._v(t._s(e.attributes.transactions[0].description))]):t._e()])]),t._v(" "),s("td",t._l(e.attributes.transactions,(function(e){return s("span",["withdrawal"===e.type?s("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"deposit"===e.type?s("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),"transfer"===e.type&&e.source_id===t.account_id?s("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"transfer"===e.type&&e.destination_id===t.account_id?s("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),s("br")])})),0),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},t._l(e.attributes.transactions,(function(e){return s("span",["withdrawal"===e.type?s("span",{staticClass:"text-danger"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(-1*e.amount))),s("br")]):t._e(),t._v(" "),"deposit"===e.type?s("span",{staticClass:"text-success"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(e.amount))),s("br")]):t._e(),t._v(" "),"transfer"===e.type&&e.source_id===t.account_id?s("span",{staticClass:"text-info"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(-1*e.amount))),s("br")]):t._e(),t._v(" "),"transfer"===e.type&&e.destination_id===t.account_id?s("span",{staticClass:"text-info"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(e.amount))),s("br")]):t._e()])})),0),t._v(" "),s("td",t._l(e.attributes.transactions,(function(e){return s("span",[0!==e.category_id?s("a",{attrs:{href:"categories/show/"+e.category_id}},[t._v(t._s(e.category_name))]):t._e(),s("br")])})),0),t._v(" "),s("td",t._l(e.attributes.transactions,(function(e){return s("span",[0!==e.budget_id?s("a",{attrs:{href:"budgets/show/"+e.budget_id}},[t._v(t._s(e.budget_name))]):t._e(),s("br")])})),0)])})),0)])}),[],!1,null,"3b50021b",null).exports,I={name:"TransactionListMedium",props:{transactions:{type:Array,default:function(){return[]}},account_id:{type:Number,default:function(){return 0}}}},B=Object(r.a)(I,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-striped table-sm"},[s("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.transaction_table_description")))]),t._v(" "),s("thead",[s("tr",[s("th",{staticClass:"text-left",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.description")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.opposing_account")))]),t._v(" "),s("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.amount")))])])]),t._v(" "),s("tbody",t._l(this.transactions,(function(e){return s("tr",[s("td",[s("a",{attrs:{href:"transactions/show/"+e.id,title:e.date}},[e.attributes.transactions.length>1?s("span",[t._v(t._s(e.attributes.group_title))]):t._e(),t._v(" "),1===e.attributes.transactions.length?s("span",[t._v(t._s(e.attributes.transactions[0].description))]):t._e()])]),t._v(" "),s("td",t._l(e.attributes.transactions,(function(e){return s("span",["withdrawal"===e.type?s("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"deposit"===e.type?s("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),"transfer"===e.type&&e.source_id===t.account_id?s("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"transfer"===e.type&&e.destination_id===t.account_id?s("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),s("br")])})),0),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},t._l(e.attributes.transactions,(function(e){return s("span",["withdrawal"===e.type?s("span",{staticClass:"text-danger"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(-1*e.amount))),s("br")]):t._e(),t._v(" "),"deposit"===e.type?s("span",{staticClass:"text-success"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(e.amount))),s("br")]):t._e(),t._v(" "),"transfer"===e.type&&e.source_id===t.account_id?s("span",{staticClass:"text-info"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(-1*e.amount))),s("br")]):t._e(),t._v(" "),"transfer"===e.type&&e.destination_id===t.account_id?s("span",{staticClass:"text-info"},[t._v("\n                    "+t._s(Intl.NumberFormat("en-US",{style:"currency",currency:e.currency_code}).format(e.amount))),s("br")]):t._e()])})),0)])})),0)])}),[],!1,null,"0c7078c9",null).exports,D={name:"TransactionListSmall",data:function(){return{locale:"en-US"}},mounted:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},methods:{},props:{transactions:{type:Array,default:function(){return[]}},account_id:{type:Number,default:function(){return 0}}}},N=Object(r.a)(D,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-striped table-sm"},[s("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.transaction_table_description")))]),t._v(" "),s("thead",[s("tr",[s("th",{staticClass:"text-left",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.description")))]),t._v(" "),s("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.amount")))])])]),t._v(" "),s("tbody",t._l(this.transactions,(function(e){return s("tr",[s("td",[s("a",{attrs:{href:"transactions/show/"+e.id,title:new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(new Date(e.attributes.transactions[0].date))}},[e.attributes.transactions.length>1?s("span",[t._v(t._s(e.attributes.group_title))]):t._e(),t._v(" "),1===e.attributes.transactions.length?s("span",[t._v(t._s(e.attributes.transactions[0].description))]):t._e()])]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},t._l(e.attributes.transactions,(function(e){return s("span",["withdrawal"===e.type?s("span",{staticClass:"text-danger"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),s("br")]):t._e(),t._v(" "),"deposit"===e.type?s("span",{staticClass:"text-success"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),s("br")]):t._e(),t._v(" "),"transfer"===e.type&&e.source_id===t.account_id?s("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),s("br")]):t._e(),t._v(" "),"transfer"===e.type&&e.destination_id===t.account_id?s("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),s("br")]):t._e()])})),0)])})),0)])}),[],!1,null,"5c278d1d",null).exports,U=s(225),T=s.n(U),z={name:"Calendar",created:function(){},data:function(){return{locale:"en-US",range:{start:new Date(window.sessionStart),end:new Date(window.sessionEnd)},defaultRange:{start:new Date(window.sessionStart),end:new Date(window.sessionEnd)}}}},A=(s(235),Object(r.a)(z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t._v("Start")]),t._v(" "),s("div",{staticClass:"col-8"},[t._v(t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.range.start)))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t._v("End")]),t._v(" "),s("div",{staticClass:"col-8"},[t._v(t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.range.end)))])]),t._v(" "),s("date-picker",{attrs:{mode:"date",rows:"2","is-range":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,r=e.inputEvents,n=e.isDragging,i=e.togglePopover;return[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"btn-group btn-group-sm d-flex"},[s("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(t){return i({placement:"auto-start",positionFixed:!0})}}},[s("i",{staticClass:"fas fa-calendar-alt"})]),t._v(" "),s("button",{staticClass:"btn btn-secondary"},[s("i",{staticClass:"fas fa-history"})]),t._v(" "),s("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-list"})]),t._v(" "),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("(prev period)")]),t._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("(next period)")]),t._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("(this week?)")])])]),t._v(" "),s("input",t._g({class:n?"text-gray-600":"text-gray-900",attrs:{type:"hidden"},domProps:{value:a.start}},r.start)),t._v(" "),s("input",t._g({class:n?"text-gray-600":"text-gray-900",attrs:{type:"hidden"},domProps:{value:a.end}},r.end))])])]}}]),model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)}),[],!1,null,"03e62f58",null).exports),R={name:"MainCategoryList",created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.getCategories()},data:function(){return{locale:"en-US",categories:[],sortedList:[],spent:0,earned:0}},methods:{getCategories:function(){var t=this;axios.get("./api/v1/categories?start="+window.sessionStart+"&end="+window.sessionEnd).then((function(e){t.parseCategories(e.data)}))},parseCategories:function(t){for(var e in t.data)if(t.data.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var s=t.data[e],a=null,r=parseInt(s.id);for(var n in s.attributes.spent)if(s.attributes.spent.hasOwnProperty(n)&&/^0$|^[1-9]\d*$/.test(n)&&n<=4294967294){var i,c=s.attributes.spent[n];a=c.currency_id.toString()+"-"+s.id.toString(),this.categories[a]=null!==(i=this.categories[a])&&void 0!==i?i:{id:r,name:s.attributes.name,currency_code:c.currency_code,currency_symbol:c.currency_symbol,spent:0,earned:0,spentPct:0,earnedPct:0},this.categories[a].spent=parseFloat(c.sum),this.spent=parseFloat(c.sum)<this.spent?parseFloat(c.sum):this.spent}for(var o in s.attributes.earned)if(s.attributes.earned.hasOwnProperty(o)&&/^0$|^[1-9]\d*$/.test(o)&&o<=4294967294){var l,u=s.attributes.earned[o];a=u.currency_id.toString()+"-"+s.id.toString(),this.categories[a]=null!==(l=this.categories[a])&&void 0!==l?l:{id:r,name:s.attributes.name,currency_code:u.currency_code,currency_symbol:u.currency_symbol,spent:0,earned:0,spentPct:0,earnedPct:0},this.categories[a].earned=parseFloat(u.sum),this.earned=parseFloat(u.sum)>this.earned?parseFloat(u.sum):this.earned}}this.sortCategories()},sortCategories:function(){var t=[];for(var e in this.categories)this.categories.hasOwnProperty(e)&&t.push(this.categories[e]);for(var s in t.sort((function(t,e){return t.spent+t.earned-(e.spent+e.earned)})),t)if(t.hasOwnProperty(s)){var a=t[s];a.spentPct=a.spent/this.spent*100,a.earnedPct=a.earned/this.earned*100,this.sortedList.push(a)}}}},G=Object(r.a)(R,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.categories")))])]),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[s("table",{staticClass:"table table-sm"},[s("tbody",t._l(t.sortedList,(function(e){return s("tr",[s("td",{staticStyle:{width:"20%"}},[s("a",{attrs:{href:"./categories/show/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),s("td",{staticClass:"align-middle"},[e.spentPct>0?s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-striped bg-danger",style:{width:e.spentPct+"%"},attrs:{role:"progressbar","aria-valuenow":e.spentPct,"aria-valuemin":"0","aria-valuemax":"100"}},[e.spentPct>20?s("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.spent))+"\n              ")]):t._e()]),t._v(" "),e.spentPct<=20?s("span",[t._v(" \n            "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.spent))+"\n            ")]):t._e()]):t._e(),t._v(" "),e.earnedPct>0?s("div",{staticClass:"progress justify-content-end",attrs:{title:"hello2"}},[e.earnedPct<=20?s("span",[t._v("\n              "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.earned))+"\n               ")]):t._e(),t._v(" "),s("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.earnedPct+"%"},attrs:{role:"progressbar","aria-valuenow":e.earnedPct,"aria-valuemin":"0","aria-valuemax":"100",title:"hello"}},[e.earnedPct>20?s("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.earned))+"\n              ")]):t._e()])]):t._e()])])})),0)])])])}),[],!1,null,"00bc733f",null).exports,M=s(2),W=s.n(M),q=s(3),K=s(21);s(15),s(264),W.a.component("transaction-list-large",E),W.a.component("transaction-list-medium",B),W.a.component("transaction-list-small",N),W.a.component("date-picker",T.a),W.a.component("dashboard",n),W.a.component("top-boxes",c),W.a.component("main-account",p),W.a.component("main-account-list",m),W.a.component("main-bills-list",v),W.a.component("main-budget-list",x),W.a.component("main-category-list",G),W.a.component("main-debit-list",F),W.a.component("main-credit-list",S),W.a.component("main-piggy-list",P),W.a.use(q.c);var J=s(17),V={};new W.a({i18n:J,store:K.a,el:"#dashboard",render:function(t){return t(n,{props:V})},beforeCreate:function(){this.$store.commit("initialiseStore"),this.$store.dispatch("updateCurrencyPreference")}}),new W.a({i18n:J,store:K.a,el:"#calendar",render:function(t){return t(A,{props:V})}})},408:function(t,e){},51:function(t,e,s){var a=s(236);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(34)(a,r);a.locals&&(t.exports=a.locals)}},[[232,0,1]]]);
//# sourceMappingURL=dashboard.js.map