(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{224:function(t,e,a){var s=a(279);"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(48)(s,r);s.locals&&(t.exports=s.locals)},274:function(t,e,a){a(455),t.exports=a(723)},275:function(t,e,a){var s={"./af":88,"./af.js":88,"./ar":89,"./ar-dz":90,"./ar-dz.js":90,"./ar-kw":91,"./ar-kw.js":91,"./ar-ly":92,"./ar-ly.js":92,"./ar-ma":93,"./ar-ma.js":93,"./ar-sa":94,"./ar-sa.js":94,"./ar-tn":95,"./ar-tn.js":95,"./ar.js":89,"./az":96,"./az.js":96,"./be":97,"./be.js":97,"./bg":98,"./bg.js":98,"./bm":99,"./bm.js":99,"./bn":100,"./bn-bd":101,"./bn-bd.js":101,"./bn.js":100,"./bo":102,"./bo.js":102,"./br":103,"./br.js":103,"./bs":104,"./bs.js":104,"./ca":105,"./ca.js":105,"./cs":106,"./cs.js":106,"./cv":107,"./cv.js":107,"./cy":108,"./cy.js":108,"./da":109,"./da.js":109,"./de":110,"./de-at":111,"./de-at.js":111,"./de-ch":112,"./de-ch.js":112,"./de.js":110,"./dv":113,"./dv.js":113,"./el":114,"./el.js":114,"./en-au":115,"./en-au.js":115,"./en-ca":116,"./en-ca.js":116,"./en-gb":117,"./en-gb.js":117,"./en-ie":118,"./en-ie.js":118,"./en-il":119,"./en-il.js":119,"./en-in":120,"./en-in.js":120,"./en-nz":121,"./en-nz.js":121,"./en-sg":122,"./en-sg.js":122,"./eo":123,"./eo.js":123,"./es":124,"./es-do":125,"./es-do.js":125,"./es-mx":126,"./es-mx.js":126,"./es-us":127,"./es-us.js":127,"./es.js":124,"./et":128,"./et.js":128,"./eu":129,"./eu.js":129,"./fa":130,"./fa.js":130,"./fi":131,"./fi.js":131,"./fil":132,"./fil.js":132,"./fo":133,"./fo.js":133,"./fr":134,"./fr-ca":135,"./fr-ca.js":135,"./fr-ch":136,"./fr-ch.js":136,"./fr.js":134,"./fy":137,"./fy.js":137,"./ga":138,"./ga.js":138,"./gd":139,"./gd.js":139,"./gl":140,"./gl.js":140,"./gom-deva":141,"./gom-deva.js":141,"./gom-latn":142,"./gom-latn.js":142,"./gu":143,"./gu.js":143,"./he":144,"./he.js":144,"./hi":145,"./hi.js":145,"./hr":146,"./hr.js":146,"./hu":147,"./hu.js":147,"./hy-am":148,"./hy-am.js":148,"./id":149,"./id.js":149,"./is":150,"./is.js":150,"./it":151,"./it-ch":152,"./it-ch.js":152,"./it.js":151,"./ja":153,"./ja.js":153,"./jv":154,"./jv.js":154,"./ka":155,"./ka.js":155,"./kk":156,"./kk.js":156,"./km":157,"./km.js":157,"./kn":158,"./kn.js":158,"./ko":159,"./ko.js":159,"./ku":160,"./ku.js":160,"./ky":161,"./ky.js":161,"./lb":162,"./lb.js":162,"./lo":163,"./lo.js":163,"./lt":164,"./lt.js":164,"./lv":165,"./lv.js":165,"./me":166,"./me.js":166,"./mi":167,"./mi.js":167,"./mk":168,"./mk.js":168,"./ml":169,"./ml.js":169,"./mn":170,"./mn.js":170,"./mr":171,"./mr.js":171,"./ms":172,"./ms-my":173,"./ms-my.js":173,"./ms.js":172,"./mt":174,"./mt.js":174,"./my":175,"./my.js":175,"./nb":176,"./nb.js":176,"./ne":177,"./ne.js":177,"./nl":178,"./nl-be":179,"./nl-be.js":179,"./nl.js":178,"./nn":180,"./nn.js":180,"./oc-lnc":181,"./oc-lnc.js":181,"./pa-in":182,"./pa-in.js":182,"./pl":183,"./pl.js":183,"./pt":184,"./pt-br":185,"./pt-br.js":185,"./pt.js":184,"./ro":186,"./ro.js":186,"./ru":187,"./ru.js":187,"./sd":188,"./sd.js":188,"./se":189,"./se.js":189,"./si":190,"./si.js":190,"./sk":191,"./sk.js":191,"./sl":192,"./sl.js":192,"./sq":193,"./sq.js":193,"./sr":194,"./sr-cyrl":195,"./sr-cyrl.js":195,"./sr.js":194,"./ss":196,"./ss.js":196,"./sv":197,"./sv.js":197,"./sw":198,"./sw.js":198,"./ta":199,"./ta.js":199,"./te":200,"./te.js":200,"./tet":201,"./tet.js":201,"./tg":202,"./tg.js":202,"./th":203,"./th.js":203,"./tk":204,"./tk.js":204,"./tl-ph":205,"./tl-ph.js":205,"./tlh":206,"./tlh.js":206,"./tr":207,"./tr.js":207,"./tzl":208,"./tzl.js":208,"./tzm":209,"./tzm-latn":210,"./tzm-latn.js":210,"./tzm.js":209,"./ug-cn":211,"./ug-cn.js":211,"./uk":212,"./uk.js":212,"./ur":213,"./ur.js":213,"./uz":214,"./uz-latn":215,"./uz-latn.js":215,"./uz.js":214,"./vi":216,"./vi.js":216,"./x-pseudo":217,"./x-pseudo.js":217,"./yo":218,"./yo.js":218,"./zh-cn":219,"./zh-cn.js":219,"./zh-hk":220,"./zh-hk.js":220,"./zh-mo":221,"./zh-mo.js":221,"./zh-tw":222,"./zh-tw.js":222};function r(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=n,t.exports=r,r.id=275},278:function(t,e,a){"use strict";a(224)},279:function(t,e,a){(t.exports=a(47)(!1)).push([t.i,".dropdown-item[data-v-51abf689],.dropdown-item[data-v-51abf689]:hover{color:#212529}",""])},455:function(t,e,a){"use strict";a.r(e);var s={name:"Dashboard"},r=a(4),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top-boxes"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("main-account")],1)]),t._v(" "),a("main-account-list"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("main-budget-list")],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("main-category-list")],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[a("main-debit-list")],1),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[a("main-credit-list")],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[a("main-piggy-list")],1),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[a("main-bills-list")],1)])],1)}),[],!1,null,null,null).exports,i=a(14);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u=Object(i.b)("dashboard/index"),d=(u.mapState,u.mapGetters),p=(u.mapActions,u.mapMutations,{name:"TopBoxes",props:{},data:function(){return{summary:[],balances:[],billsPaid:[],billsUnpaid:[],leftToSpend:[],netWorth:[],loading:!0,error:!1,ready:!1}},computed:o(o({},d(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready},prefCurrencyBalances:function(){return this.filterOnCurrency(this.balances)},notPrefCurrencyBalances:function(){return this.filterOnNotCurrency(this.balances)},prefBillsUnpaid:function(){return this.filterOnCurrency(this.billsUnpaid)},notPrefBillsUnpaid:function(){return this.filterOnNotCurrency(this.billsUnpaid)},prefLeftToSpend:function(){return this.filterOnCurrency(this.leftToSpend)},notPrefLeftToSpend:function(){return this.filterOnNotCurrency(this.leftToSpend)},prefNetWorth:function(){return this.filterOnCurrency(this.netWorth)},notPrefNetWorth:function(){return this.filterOnNotCurrency(this.netWorth)},currencyCode:function(){return this.$store.getters.currencyCode},currencyId:function(){return this.$store.getters.currencyId}}),watch:{datesReady:function(t){!0===t&&this.prepareComponent()},start:function(){!1===this.loading&&this.prepareComponent()},end:function(){!1===this.loading&&this.prepareComponent()}},created:function(){this.ready=!0},methods:{filterOnCurrency:function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&t[a].currency_id===this.currencyId&&e.push(t[a]);return 0===e.length&&t.hasOwnProperty(0)&&e.push(t[0]),e},filterOnNotCurrency:function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&t[a].currency_id!==this.currencyId&&e.push(t[a]);return e},prepareComponent:function(){var t=this;this.error=!1,this.loading=!0,this.summary=[],this.balances=[],this.billsPaid=[],this.billsUnpaid=[],this.leftToSpend=[],this.netWorth=[];var e=this.start.toISOString().split("T")[0],a=this.end.toISOString().split("T")[0];axios.get("./api/v1/summary/basic?start="+e+"&end="+a).then((function(e){t.summary=e.data,t.buildComponent(),t.loading=!1})).catch((function(e){t.error=!0}))},buildComponent:function(){this.getBalanceEntries(),this.getBillsEntries(),this.getLeftToSpend(),this.getNetWorth()},hasCurrency:function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].currency_id===this.currencyId)return!0;return!1},getBalanceEntries:function(){this.balances=this.getKeyedEntries("balance-in-")},getNetWorth:function(){this.netWorth=this.getKeyedEntries("net-worth-in-")},getLeftToSpend:function(){this.leftToSpend=this.getKeyedEntries("left-to-spend-in-")},getBillsEntries:function(){this.billsPaid=this.getKeyedEntries("bills-paid-in-"),this.billsUnpaid=this.getKeyedEntries("bills-unpaid-in-")},getKeyedEntries:function(t){var e=[];for(var a in this.summary)this.summary.hasOwnProperty(a)&&t===a.substr(0,t.length)&&e.push(this.summary[a]);return e}}}),f=Object(r.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"info-box"},[t._m(0),t._v(" "),a("div",{staticClass:"info-box-content"},[t.loading||t.error?t._e():a("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("firefly.balance")))]),t._v(" "),t.loading&&!t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e(),t._v(" "),t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-exclamation-triangle text-danger"})]):t._e(),t._v(" "),t._l(t.prefCurrencyBalances,(function(e){return a("span",{staticClass:"info-box-number",attrs:{title:e.sub_title}},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(1),t._v(" "),a("span",{staticClass:"progress-description"},[t._l(t.notPrefCurrencyBalances,(function(e,s){return a("span",{attrs:{title:e.sub_title}},[t._v("\n                        "+t._s(e.value_parsed)),s+1!==t.notPrefCurrencyBalances.length?a("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefCurrencyBalances.length?a("span",[t._v(" ")]):t._e()],2)],2)])]),t._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"info-box"},[t._m(2),t._v(" "),a("div",{staticClass:"info-box-content"},[t.loading||t.error?t._e():a("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("firefly.bills_to_pay")))]),t._v(" "),t.loading&&!t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e(),t._v(" "),t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-exclamation-triangle text-danger"})]):t._e(),t._v(" "),t._l(t.prefBillsUnpaid,(function(e){return a("span",{staticClass:"info-box-number"},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(3),t._v(" "),a("span",{staticClass:"progress-description"},[t._l(t.notPrefBillsUnpaid,(function(e,s){return a("span",[t._v("\n                              "+t._s(e.value_parsed)),s+1!==t.notPrefBillsUnpaid.length?a("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefBillsUnpaid.length?a("span",[t._v(" ")]):t._e()],2)],2)])]),t._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"info-box"},[t._m(4),t._v(" "),a("div",{staticClass:"info-box-content"},[t.loading||t.error?t._e():a("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("firefly.left_to_spend")))]),t._v(" "),t.loading&&!t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e(),t._v(" "),t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-exclamation-triangle text-danger"})]):t._e(),t._v(" "),t._l(t.prefLeftToSpend,(function(e){return a("span",{staticClass:"info-box-number",attrs:{title:e.sub_title}},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(5),t._v(" "),a("span",{staticClass:"progress-description"},[t._l(t.notPrefLeftToSpend,(function(e,s){return a("span",[t._v("\n                              "+t._s(e.value_parsed)),s+1!==t.notPrefLeftToSpend.length?a("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefLeftToSpend.length?a("span",[t._v(" ")]):t._e()],2)],2)])]),t._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"info-box"},[t._m(6),t._v(" "),a("div",{staticClass:"info-box-content"},[t.loading||t.error?t._e():a("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("firefly.net_worth")))]),t._v(" "),t.loading&&!t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e(),t._v(" "),t.error?a("span",{staticClass:"info-box-text"},[a("i",{staticClass:"fas fa-exclamation-triangle text-danger"})]):t._e(),t._v(" "),t._l(t.prefNetWorth,(function(e){return a("span",{staticClass:"info-box-number",attrs:{title:e.sub_title}},[t._v(t._s(e.value_parsed))])})),t._v(" "),t._m(7),t._v(" "),a("span",{staticClass:"progress-description"},[t._l(t.notPrefNetWorth,(function(e,s){return a("span",[t._v("\n                              "+t._s(e.value_parsed)),s+1!==t.notPrefNetWorth.length?a("span",[t._v(", ")]):t._e()])})),t._v(" "),0===t.notPrefNetWorth.length?a("span",[t._v(" ")]):t._e()],2)],2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"far fa-bookmark text-info"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-info"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"far fa-calendar-alt text-teal"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-teal"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"fas fa-money-bill text-success"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-success"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"fas fa-money-bill text-success"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress bg-success"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"0"}})])}],!1,null,null,null).exports,_={name:"DataConverter",data:function(){return{dataSet:null,newDataSet:null,locale:localStorage.local}},methods:{convertChart:function(t){return this.dataSet=t,this.newDataSet={count:0,labels:[],datasets:[]},this.getLabels(),this.getDataSets(),this.newDataSet.count=this.newDataSet.datasets.length,this.newDataSet},colorizeBarData:function(t){this.dataSet=t,this.newDataSet={count:0,labels:[],datasets:[]};for(var e=[[53,124,165],[0,141,76],[219,139,11],[202,25,90],[85,82,153],[66,133,244],[219,68,55],[244,180,0],[15,157,88],[171,71,188],[0,172,193],[255,112,67],[158,157,36],[92,107,192],[240,98,146],[0,121,107],[194,24,91]],a=[],s=0;s<e.length;s++)a.push("rgba("+e[s][0]+", "+e[s][1]+", "+e[s][2]+", 0.5)");for(var r in this.newDataSet.labels=this.dataSet.labels,this.newDataSet.count=this.dataSet.count,this.dataSet.datasets)if(this.dataSet.datasets.hasOwnProperty(r)){var n=this.dataSet.datasets[r];n.fill=!1,n.backgroundColor=n.borderColor=a[r],this.newDataSet.datasets.push(n)}return this.newDataSet},colorizeLineData:function(t){this.dataSet=t,this.newDataSet={count:0,labels:[],datasets:[]};for(var e=[[53,124,165],[0,141,76],[219,139,11],[202,25,90],[85,82,153],[66,133,244],[219,68,55],[244,180,0],[15,157,88],[171,71,188],[0,172,193],[255,112,67],[158,157,36],[92,107,192],[240,98,146],[0,121,107],[194,24,91]],a=[],s=0;s<e.length;s++)a.push("rgba("+e[s][0]+", "+e[s][1]+", "+e[s][2]+", 0.5)");for(var r in this.newDataSet.labels=this.dataSet.labels,this.newDataSet.count=this.dataSet.count,this.dataSet.datasets)if(this.dataSet.datasets.hasOwnProperty(r)){var n=this.dataSet.datasets[r];n.fill=!1,n.backgroundColor=n.borderColor=a[r],this.newDataSet.datasets.push(n)}return this.newDataSet},convertLabelsToDate:function(t){for(var e in t.labels)if(t.labels.hasOwnProperty(e)){var a=Date.parse(t.labels[e]);t.labels[e]=new Intl.DateTimeFormat(this.locale).format(a)}return t},getLabels:function(){var t=this.dataSet[0];if(void 0!==t)for(var e in t.entries)t.entries.hasOwnProperty(e)&&this.newDataSet.labels.push(e)},getDataSets:function(){for(var t in this.dataSet)if(this.dataSet.hasOwnProperty(t)){var e={},a=this.dataSet[t];if(void 0!==a){for(var s in e.label=a.label,e.type=a.type,e.currency_symbol=a.currency_symbol,e.currency_code=a.currency_code,e.yAxisID=a.yAxisID,e.data=[],a.entries)a.entries.hasOwnProperty(s)&&e.data.push(a.entries[s]);this.newDataSet.datasets.push(e)}}}}},b=Object(r.a)(_,void 0,void 0,!1,null,null,null).exports,h={name:"DefaultLineOptions",data:function(){return{}},methods:{formatLabel:function(t,e){var a=[],s=(t=String(t)).split(" "),r="";return s.forEach((function(t,n){if(r.length>0){var i=r+" "+t;if(!(i.length>e))return n===s.length-1?void a.push(i):void(r=i);a.push(r),r=""}n!==s.length-1&&t.length<e?r=t:a.push(t)})),a},getDefaultOptions:function(){var t=this;return{legend:{display:!1},animation:{duration:0},responsive:!0,maintainAspectRatio:!1,elements:{line:{cubicInterpolationMode:"monotone"}},scales:{xAxes:[{gridLines:{display:!1},ticks:{callback:function(e,a,s){var r=new Date(e),n=new Intl.DateTimeFormat(localStorage.locale,{year:"numeric",month:"long",day:"numeric"}).format(r);return t.formatLabel(n,20)}}}],yAxes:[{display:!0,ticks:{callback:function(t){var e=this.chart.data.datasets[0].currency_code?this.chart.data.datasets[0].currency_code:"EUR";return new Intl.NumberFormat(localStorage.locale,{style:"currency",currency:e}).format(t)},beginAtZero:!0}}]},tooltips:{mode:"index",callbacks:{label:function(t,e){var a=e.datasets[t.datasetIndex].currency_code?e.datasets[t.datasetIndex].currency_code:"EUR",s=new Intl.NumberFormat(localStorage.locale,{style:"currency",currency:a}).format(t.yLabel);return e.datasets[t.datasetIndex].label+": "+s}}}}}}},m=Object(r.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,"5f7e90aa",null).exports,g=a(87),v=g.b.reactiveProp,y={extends:g.a,mixins:[v],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},C=Object(r.a)(y,void 0,void 0,!1,null,null,null).exports;function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach((function(e){O(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function O(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var x=Object(i.b)("dashboard/index"),S=(x.mapState,x.mapGetters),P=(x.mapActions,x.mapMutations,{name:"MainAccount",components:{MainAccountChart:C},data:function(){return{loading:!0,error:!1,ready:!1,dataCollection:{},chartOptions:{}}},created:function(){this.ready=!0,this.chartOptions=m.methods.getDefaultOptions()},computed:w(w({},S(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),watch:{datesReady:function(t){!0===t&&this.initialiseChart()},start:function(){this.initialiseChart()},end:function(){this.initialiseChart()}},methods:{initialiseChart:function(){var t=this;this.loading=!0,this.error=!1;var e="./api/v1/chart/account/overview?start="+this.start.toISOString().split("T")[0]+"&end="+this.end.toISOString().split("T")[0];axios.get(e).then((function(e){var a=b.methods.convertChart(e.data);a=b.methods.colorizeLineData(a),t.dataCollection=a,t.loading=!1})).catch((function(e){t.error=!0}))}}}),L=Object(r.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.yourAccounts")))])]),t._v(" "),a("div",{staticClass:"card-body"},[t.loading?t._e():a("div",[t.loading||t.error?t._e():a("MainAccountChart",{attrs:{"chart-data":t.dataCollection,options:t.chartOptions}})],1),t._v(" "),t.loading&&!t.error?a("div",{staticClass:"text-center"},[a("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e(),t._v(" "),t.error?a("div",{staticClass:"text-center"},[a("i",{staticClass:"fas fa-exclamation-triangle text-danger"})]):t._e()]),t._v(" "),a("div",{staticClass:"card-footer"},[a("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./accounts/asset"}},[a("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_asset_accounts")))])])])}),[],!1,null,null,null).exports;function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$(Object(a),!0).forEach((function(e){I(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function I(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var E=Object(i.b)("dashboard/index"),F=(E.mapState,E.mapGetters),k=(E.mapActions,E.mapMutations,{name:"MainAccountList",data:function(){return{loading:!0,error:!1,ready:!1,accounts:[],locale:"en-US"}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.ready=!0},computed:D(D({},F(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),watch:{datesReady:function(t){!0===t&&this.initialiseList()},start:function(){!1===this.loading&&this.initialiseList()},end:function(){!1===this.loading&&this.initialiseList()}},methods:{initialiseList:function(){var t=this;this.loading=!0,this.accounts=[],axios.get("./api/v1/preferences/frontpageAccounts").then((function(e){t.loadAccounts(e)}))},loadAccounts:function(t){var e=t.data.data.attributes.data;for(var a in e)e.hasOwnProperty(a)&&/^0$|^[1-9]\d*$/.test(a)&&a<=4294967294&&(this.accounts.push({id:e[a],title:"",url:"",current_balance:"",currency_code:"EUR",transactions:[]}),this.loadSingleAccount(a,e[a]))},loadSingleAccount:function(t,e){var a=this;axios.get("./api/v1/accounts/"+e).then((function(s){a.accounts[t].title=s.data.data.attributes.name,a.accounts[t].url="./accounts/show/"+s.data.data.id,a.accounts[t].current_balance=s.data.data.attributes.current_balance,a.accounts[t].currency_code=s.data.data.attributes.currency_code,a.loadTransactions(t,e)}))},loadTransactions:function(t,e){var a=this,s=this.start.toISOString().split("T")[0],r=this.end.toISOString().split("T")[0];axios.get("./api/v1/accounts/"+e+"/transactions?page=1&limit=10&start="+s+"&end="+r).then((function(e){a.accounts[t].transactions=e.data.data,a.loading=!1,a.error=!1}))}}}),B=Object(r.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading&&!t.error?a("div",{staticClass:"row"},[t._m(0)]):t._e(),t._v(" "),t.error?a("div",{staticClass:"row"},[t._m(1)]):t._e(),t._v(" "),t.loading||t.error?t._e():a("div",{staticClass:"row"},t._l(t.accounts,(function(e){return a("div",{class:{"col-lg-12":1===t.accounts.length,"col-lg-6":2===t.accounts.length,"col-lg-4":t.accounts.length>2}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[a("a",{attrs:{href:e.url}},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"card-tools"},[a("span",{class:parseFloat(e.current_balance)<0?"text-danger":"text-success"},[t._v("\n          "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(parseFloat(e.current_balance)))+"\n            ")])])]),t._v(" "),a("div",{staticClass:"card-body table-responsive p-0"},[a("div",[1===t.accounts.length?a("transaction-list-large",{attrs:{account_id:e.id,transactions:e.transactions}}):t._e(),t._v(" "),2===t.accounts.length?a("transaction-list-medium",{attrs:{account_id:e.id,transactions:e.transactions}}):t._e(),t._v(" "),t.accounts.length>2?a("transaction-list-small",{attrs:{account_id:e.id,transactions:e.transactions}}):t._e()],1)])])])})),0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-spinner fa-spin"})])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-exclamation-triangle text-danger"})])])])])}],!1,null,"5d6bb842",null).exports;function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function T(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(Object(a),!0).forEach((function(e){U(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function U(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var R=Object(i.b)("dashboard/index"),A=(R.mapState,R.mapGetters),z=(R.mapActions,R.mapMutations,{name:"MainBillsList",data:function(){return{bills:[],locale:"en-US",ready:!1,loading:!0,error:!1}},computed:T(T({},A(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),watch:{datesReady:function(t){!0===t&&this.initialiseBills()},start:function(){!1===this.loading&&this.initialiseBills()},end:function(){!1===this.loading&&this.initialiseBills()}},created:function(){var t;this.ready=!0,this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},components:{},methods:{initialiseBills:function(){var t=this;this.loading=!0,this.bills=[];var e=this.start.toISOString().split("T")[0],a=this.end.toISOString().split("T")[0];axios.get("./api/v1/bills?start="+e+"&end="+a).then((function(e){t.loadBills(e.data.data)})).catch((function(e){t.error=!0,t.loading=!1}))},renderPaidDate:function(t){var e=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"long",day:"numeric"}).format(new Date(t.date)),a=this.$t("firefly.bill_paid_on",{date:e});return'<a href="./transactions/show/'+t.transaction_group_id+'" title="'+a+'">'+a+"</a>"},loadBills:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var a=t[e],s=a.attributes.active;a.attributes.pay_dates.length>0&&s&&this.bills.push(a)}this.error=!1,this.loading=!1}}}),M=Object(r.a)(z,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.bills")))])]),t._v(" "),t.loading&&!t.error?a("div",{staticClass:"card-body"},[t._m(0)]):t._e(),t._v(" "),t.error?a("div",{staticClass:"card-body"},[t._m(1)]):t._e(),t._v(" "),t.loading||t.error?t._e():a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-striped"},[a("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.bills")))]),t._v(" "),a("thead",[a("tr",[a("th",{staticStyle:{width:"35%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.name")))]),t._v(" "),a("th",{staticStyle:{width:"25%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.next_expected_match")))])])]),t._v(" "),a("tbody",t._l(this.bills,(function(e){return a("tr",[a("td",[a("a",{attrs:{href:"./bills/show/"+e.id,title:e.attributes.name}},[t._v(t._s(e.attributes.name))]),t._v("\n          (~ "),a("span",{staticClass:"text-danger"},[t._v(t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.attributes.currency_code}).format((parseFloat(e.attributes.amount_min)+parseFloat(e.attributes.amount_max))/-2)))]),t._v(")\n          "),e.attributes.object_group_title?a("small",{staticClass:"text-muted"},[a("br"),t._v("\n            "+t._s(e.attributes.object_group_title)+"\n          ")]):t._e()]),t._v(" "),a("td",[t._l(e.attributes.paid_dates,(function(e){return a("span",[a("span",{domProps:{innerHTML:t._s(t.renderPaidDate(e))}}),a("br")])})),t._v(" "),t._l(e.attributes.pay_dates,(function(s){return 0===e.attributes.paid_dates.length?a("span",[t._v("\n            "+t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(new Date(s)))),a("br")]):t._e()}))],2)])})),0)])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./bills"}},[a("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_bills")))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-spinner fa-spin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-exclamation-triangle text-danger"})])}],!1,null,null,null).exports,G={name:"BudgetLimitRow",created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},data:function(){return{locale:"en-US"}},props:{budgetLimit:{type:Object,default:function(){return{}}},budget:{type:Object,default:function(){return{}}}}},W=Object(r.a)(G,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{width:"25%"}},[a("a",{attrs:{href:"./budgets/show/"+t.budgetLimit.budget_id}},[t._v(t._s(t.budgetLimit.budget_name))])]),t._v(" "),a("td",{staticStyle:{"vertical-align":"middle"}},[a("div",{staticClass:"progress progress active"},[a("div",{staticClass:"progress-bar bg-success progress-bar-striped",style:"width: "+t.budgetLimit.pctGreen+"%;",attrs:{"aria-valuenow":t.budgetLimit.pctGreen,"aria-valuemax":"100","aria-valuemin":"0",role:"progressbar"}},[t.budgetLimit.pctGreen>35?a("span",[t._v("\n                      "+t._s(t.$t("firefly.spent_x_of_y",{amount:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.spent),total:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.amount)}))+"\n                      ")]):t._e()]),t._v(" "),a("div",{staticClass:"progress-bar bg-warning progress-bar-striped",style:"width: "+t.budgetLimit.pctOrange+"%;",attrs:{"aria-valuenow":t.budgetLimit.pctOrange,"aria-valuemax":"100","aria-valuemin":"0",role:"progressbar"}},[t.budgetLimit.pctRed<=50&&t.budgetLimit.pctOrange>35?a("span",[t._v("\n                    "+t._s(t.$t("firefly.spent_x_of_y",{amount:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.spent),total:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.amount)}))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"progress-bar bg-danger progress-bar-striped",style:"width: "+t.budgetLimit.pctRed+"%;",attrs:{"aria-valuenow":t.budgetLimit.pctRed,"aria-valuemax":"100","aria-valuemin":"0",role:"progressbar"}},[t.budgetLimit.pctOrange<=50&&t.budgetLimit.pctRed>35?a("span",{staticClass:"text-muted"},[t._v("\n                      "+t._s(t.$t("firefly.spent_x_of_y",{amount:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.spent),total:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.amount)}))+"\n                    ")]):t._e()]),t._v(" "),t.budgetLimit.pctGreen<=35&&0===t.budgetLimit.pctOrange&&0===t.budgetLimit.pctRed&&0!==t.budgetLimit.pctGreen?a("span",{staticStyle:{"line-height":"16px"}},[t._v("\n          "+t._s(t.$t("firefly.spent_x_of_y",{amount:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.spent),total:Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(t.budgetLimit.amount)}))+"\n                    ")]):t._e()]),t._v(" "),a("small",{staticClass:"d-none d-lg-block"},[t._v("\n      "+t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.budgetLimit.start))+"\n      →\n      "+t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.budgetLimit.end))+"\n    ")])]),t._v(" "),a("td",{staticClass:"align-middle d-none d-lg-table-cell",staticStyle:{width:"10%"}},[parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)>0?a("span",{staticClass:"text-success"},[t._v("\n                  "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)))+"\n                ")]):t._e(),t._v(" "),0===parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)?a("span",{staticClass:"text-muted"},[t._v("\n                  "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(0))+"\n                ")]):t._e(),t._v(" "),parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)<0?a("span",{staticClass:"text-danger"},[t._v("\n                  "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budgetLimit.currency_code}).format(parseFloat(t.budgetLimit.amount)+parseFloat(t.budgetLimit.spent)))+"\n                ")]):t._e()])])}),[],!1,null,"7988ecb6",null).exports,q={name:"BudgetRow",created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},data:function(){return{locale:"en-US"}},props:{budget:{type:Object,default:{}}}},K={name:"BudgetListGroup",components:{BudgetLimitRow:W,BudgetRow:Object(r.a)(q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{width:"25%"}},[a("a",{attrs:{href:"./budgets/show/"+t.budget.id}},[t._v(t._s(t.budget.name))])]),t._v(" "),a("td",{staticClass:"align-middle text-right"},[a("span",{staticClass:"text-danger"},[t._v("\n      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:t.budget.currency_code}).format(parseFloat(t.budget.spent)))+"\n    ")])])])}),[],!1,null,"2fc8f640",null).exports},props:{title:String,budgetLimits:Array,budgets:Array}},J=Object(r.a)(K,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.title))])]),t._v(" "),a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-sm"},[a("tbody",[t._l(t.budgetLimits,(function(t,e){return a("BudgetLimitRow",{key:e,attrs:{budgetLimit:t}})})),t._v(" "),t._l(t.budgets,(function(t,e){return a("BudgetRow",{key:e,attrs:{budget:t}})}))],2)])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./budgets"}},[a("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_budgets")))])])])}),[],!1,null,"658dd996",null).exports;function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function V(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?H(Object(a),!0).forEach((function(e){Z(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Z(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Q=Object(i.b)("dashboard/index"),X=(Q.mapState,Q.mapGetters),Y=(Q.mapActions,Q.mapMutations,{name:"MainBudgetList",components:{BudgetListGroup:J},data:function(){return{budgetList:["daily","weekly","monthly","quarterly","half_year","yearly","other"],budgetLimits:{daily:[],weekly:[],monthly:[],quarterly:[],half_year:[],yearly:[],other:[]},budgets:{},rawBudgets:[],locale:"en-US",ready:!1,loading:!0,error:!1}},created:function(){var t;this.ready=!0,this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},watch:{datesReady:function(t){!0===t&&this.getBudgets()},start:function(){!1===this.loading&&this.getBudgets()},end:function(){!1===this.loading&&this.getBudgets()}},computed:V(V({},X(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),methods:{getBudgets:function(){var t=this;this.budgets={},this.rawBudgets=[],this.budgetLimits={daily:[],weekly:[],monthly:[],quarterly:[],half_year:[],yearly:[],other:[]},this.loading=!0;var e=this.start.toISOString().split("T")[0],a=this.end.toISOString().split("T")[0];axios.get("./api/v1/budgets?start="+e+"&end="+a).then((function(e){t.parseBudgets(e.data)}))},parseBudgets:function(t){for(var e in t.data)if(t.data.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var a=t.data[e];for(var s in a.attributes.spent)if(a.attributes.spent.hasOwnProperty(s)&&/^0$|^[1-9]\d*$/.test(s)&&s<=4294967294){var r=a.attributes.spent[s];this.rawBudgets.push({id:parseInt(a.id),name:a.attributes.name,currency_id:parseInt(r.currency_id),currency_code:r.currency_code,spent:r.sum})}}this.getBudgetLimits()},getBudgetLimits:function(){var t=this,e=this.start.toISOString().split("T")[0],a=this.end.toISOString().split("T")[0];axios.get("./api/v1/budget-limits?start="+e+"&end="+a).then((function(e){t.parseBudgetLimits(e.data),t.loading=!1}))},parseBudgetLimits:function(t){for(var e in t.included)t.included.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294&&(this.budgets[t.included[e].id]={id:t.included[e].id,name:t.included[e].attributes.name});for(var a in t.data)if(t.data.hasOwnProperty(a)&&/^0$|^[1-9]\d*$/.test(a)&&a<=4294967294){var s,r=0,n=0,i=0;this.filterBudgets(t.data[a].attributes.budget_id,t.data[a].attributes.currency_id),0!==parseFloat(t.data[a].attributes.spent)&&-1*parseFloat(t.data[a].attributes.spent)<parseFloat(t.data[a].attributes.amount)&&(r=-1*parseFloat(t.data[a].attributes.spent)/parseFloat(t.data[a].attributes.amount)*100),0!==parseFloat(t.data[a].attributes.spent)&&-1*parseFloat(t.data[a].attributes.spent)>parseFloat(t.data[a].attributes.amount)&&(i=100-(n=parseFloat(t.data[a].attributes.amount)/parseFloat(t.data[a].attributes.spent)*-1*100));var c={id:t.data[a].id,amount:t.data[a].attributes.amount,budget_id:t.data[a].attributes.budget_id,budget_name:this.budgets[t.data[a].attributes.budget_id].name,currency_id:t.data[a].attributes.currency_id,currency_code:t.data[a].attributes.currency_code,period:t.data[a].attributes.period,start:new Date(t.data[a].attributes.start),end:new Date(t.data[a].attributes.end),spent:t.data[a].attributes.spent,pctGreen:r,pctOrange:n,pctRed:i},o=null!==(s=t.data[a].attributes.period)&&void 0!==s?s:"other";this.budgetLimits[o].push(c)}},filterBudgets:function(t,e){for(var a in this.rawBudgets)this.rawBudgets.hasOwnProperty(a)&&/^0$|^[1-9]\d*$/.test(a)&&a<=4294967294&&this.rawBudgets[a].currency_id===e&&this.rawBudgets[a].id===t&&this.rawBudgets.splice(a,1)}}}),tt=Object(r.a)(Y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?t._e():a("div",{staticClass:"row"},[t.budgetLimits.daily.length>0?a("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("BudgetListGroup",{attrs:{budgetLimits:t.budgetLimits.daily,title:t.$t("firefly.daily_budgets")}})],1):t._e(),t._v(" "),t.budgetLimits.weekly.length>0?a("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("BudgetListGroup",{attrs:{budgetLimits:t.budgetLimits.weekly,title:t.$t("firefly.weekly_budgets")}})],1):t._e(),t._v(" "),t.budgetLimits.monthly.length>0?a("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("BudgetListGroup",{attrs:{budgetLimits:t.budgetLimits.monthly,title:t.$t("firefly.monthly_budgets")}})],1):t._e(),t._v(" "),t.budgetLimits.quarterly.length>0?a("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("BudgetListGroup",{attrs:{budgetLimits:t.budgetLimits.quarterly,title:t.$t("firefly.quarterly_budgets")}})],1):t._e(),t._v(" "),t.budgetLimits.half_year.length>0?a("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("BudgetListGroup",{attrs:{budgetLimits:t.budgetLimits.half_year,title:t.$t("firefly.half_year_budgets")}})],1):t._e(),t._v(" "),t.budgetLimits.yearly.length>0?a("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("BudgetListGroup",{attrs:{budgetLimits:t.budgetLimits.yearly,title:t.$t("firefly.yearly_budgets")}})],1):t._e(),t._v(" "),t.budgetLimits.other.length>0||t.rawBudgets.length>0?a("div",{staticClass:"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("BudgetListGroup",{attrs:{budgetLimits:t.budgetLimits.other,budgets:t.rawBudgets,title:t.$t("firefly.other_budgets")}})],1):t._e()]),t._v(" "),t.loading&&!t.error?a("div",{staticClass:"row"},[t._m(0)]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-spinner fa-spin"})])])])])}],!1,null,"03d11977",null).exports;function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(Object(a),!0).forEach((function(e){st(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function st(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var rt=Object(i.b)("dashboard/index"),nt=(rt.mapState,rt.mapGetters),it=(rt.mapActions,rt.mapMutations,{name:"MainCreditList",data:function(){return{locale:"en-US",income:[],max:0,loading:!0,error:!1}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.ready=!0},computed:at(at({},nt(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),watch:{datesReady:function(t){!0===t&&this.getIncome()},start:function(){!1===this.loading&&this.getIncome()},end:function(){!1===this.loading&&this.getIncome()}},methods:{getIncome:function(){var t=this;this.loading=!0,this.income=[],this.error=!1;var e=this.start.toISOString().split("T")[0],a=this.end.toISOString().split("T")[0];axios.get("./api/v1/insight/income/revenue?start="+e+"&end="+a).then((function(e){t.parseIncome(e.data),t.loading=!1})).catch((function(e){t.error=!0}))},parseIncome:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var a=t[e];0===parseInt(e)&&(this.max=t[e].difference_float,a.pct=100),0!==parseInt(e)&&(a.pct=t[e].difference_float/this.max*100),this.income.push(a)}}}}),ct=Object(r.a)(it,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.revenue_accounts")))])]),t._v(" "),t.loading&&!t.error?a("div",{staticClass:"card-body"},[t._m(0)]):t._e(),t._v(" "),t.error?a("div",{staticClass:"card-body"},[t._m(1)]):t._e(),t._v(" "),t.loading||t.error?t._e():a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-sm"},[a("tbody",t._l(t.income,(function(e){return a("tr",[a("td",{staticStyle:{width:"20%"}},[a("a",{attrs:{href:"./accounts/show/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),a("td",{staticClass:"align-middle"},[e.pct>0?a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.pct+"%"},attrs:{"aria-valuenow":e.pct,"aria-valuemax":"100","aria-valuemin":"0",role:"progressbar"}},[e.pct>20?a("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n              ")]):t._e()]),t._v(" "),e.pct<=20?a("span",{staticStyle:{"line-height":"16px"}},[t._v(" \n            "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n            ")]):t._e()]):t._e()])])})),0)])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./transactions/deposit"}},[a("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_deposits")))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-spinner fa-spin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-exclamation-triangle text-danger"})])}],!1,null,null,null).exports;function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function lt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){ut(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ut(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var dt=Object(i.b)("dashboard/index"),pt=(dt.mapState,dt.mapGetters),ft=(dt.mapActions,dt.mapMutations,{name:"MainDebitList",data:function(){return{locale:"en-US",expenses:[],max:0,loading:!0,error:!1}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.ready=!0},computed:lt(lt({},pt(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),watch:{datesReady:function(t){!0===t&&this.getExpenses()},start:function(){!1===this.loading&&this.getExpenses()},end:function(){!1===this.loading&&this.getExpenses()}},methods:{getExpenses:function(){var t=this;this.loading=!0,this.error=!1,this.expenses=[];var e=this.start.toISOString().split("T")[0],a=this.end.toISOString().split("T")[0];axios.get("./api/v1/insight/expense/expense?start="+e+"&end="+a).then((function(e){t.parseExpenses(e.data),t.loading=!1})).catch((function(e){t.error=!0}))},parseExpenses:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var a=t[e];0===parseInt(e)&&(this.max=t[e].difference_float,a.pct=100),0!==parseInt(e)&&(a.pct=t[e].difference_float/this.max*100),this.expenses.push(a)}}}}),_t=Object(r.a)(ft,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.expense_accounts")))])]),t._v(" "),t.loading&&!t.error?a("div",{staticClass:"card-body"},[t._m(0)]):t._e(),t._v(" "),t.error?a("div",{staticClass:"card-body"},[t._m(1)]):t._e(),t._v(" "),t.loading||t.error?t._e():a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-sm"},[a("tbody",t._l(t.expenses,(function(e){return a("tr",[a("td",{staticStyle:{width:"20%"}},[a("a",{attrs:{href:"./accounts/show/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),a("td",{staticClass:"align-middle"},[e.pct>0?a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped bg-danger",style:{width:e.pct+"%"},attrs:{"aria-valuenow":e.pct,"aria-valuemax":"100","aria-valuemin":"0",role:"progressbar"}},[e.pct>20?a("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n              ")]):t._e()]),t._v(" "),e.pct<=20?a("span",{staticStyle:{"line-height":"16px"}},[t._v(" \n            "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.difference_float))+"\n            ")]):t._e()]):t._e()])])})),0)])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./transactions/withdrawal"}},[a("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_withdrawals")))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-spinner fa-spin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-exclamation-triangle text-danger"})])}],!1,null,null,null).exports,bt={name:"MainPiggyList",data:function(){return{piggy_banks:[],loading:!0,error:!1,locale:"en-US"}},created:function(){var t,e=this;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",axios.get("./api/v1/piggy_banks").then((function(t){e.loadPiggyBanks(t.data.data),e.loading=!1})).catch((function(t){e.error=!0}))},methods:{loadPiggyBanks:function(t){for(var e in t)if(t.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var a=t[e];0!==parseFloat(a.attributes.left_to_save)&&(a.attributes.pct=parseFloat(a.attributes.current_amount)/parseFloat(a.attributes.target_amount)*100,this.piggy_banks.push(a))}this.piggy_banks.sort((function(t,e){return e.attributes.pct-t.attributes.pct}))}}},ht=Object(r.a)(bt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.piggy_banks")))])]),t._v(" "),t.loading&&!t.error?a("div",{staticClass:"card-body"},[t._m(0)]):t._e(),t._v(" "),t.error?a("div",{staticClass:"card-body"},[t._m(1)]):t._e(),t._v(" "),t.loading||t.error?t._e():a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-striped"},[a("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.piggy_banks")))]),t._v(" "),a("thead",[a("tr",[a("th",{staticStyle:{width:"35%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.piggy_bank")))]),t._v(" "),a("th",{staticStyle:{width:"40%"},attrs:{scope:"col"}},[t._v(t._s(t.$t("list.percentage"))+" "),a("small",[t._v("/ "+t._s(t.$t("list.amount")))])])])]),t._v(" "),a("tbody",t._l(this.piggy_banks,(function(e){return a("tr",[a("td",[a("a",{attrs:{href:"./piggy-banks/show/"+e.id,title:e.attributes.name}},[t._v(t._s(e.attributes.name))]),t._v(" "),e.attributes.object_group_title?a("small",{staticClass:"text-muted"},[a("br"),t._v("\n            "+t._s(e.attributes.object_group_title)+"\n          ")]):t._e()]),t._v(" "),a("td",[a("div",{staticClass:"progress-group"},[a("div",{staticClass:"progress progress-sm"},[e.attributes.pct<100?a("div",{staticClass:"progress-bar progress-bar-striped primary",style:{width:e.attributes.pct+"%"}}):t._e(),t._v(" "),100===e.attributes.pct?a("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.attributes.pct+"%"}}):t._e()])]),t._v(" "),a("span",{staticClass:"text-success"},[t._v("\n                          "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.attributes.currency_code}).format(e.attributes.current_amount))+"\n                      ")]),t._v("\n          of\n          "),a("span",{staticClass:"text-success"},[t._v(t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.attributes.currency_code}).format(e.attributes.target_amount)))])])])})),0)])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("a",{staticClass:"btn btn-default button-sm",attrs:{href:"./piggy-banks"}},[a("i",{staticClass:"far fa-money-bill-alt"}),t._v(" "+t._s(t.$t("firefly.go_to_piggies")))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-spinner fa-spin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-exclamation-triangle text-danger"})])}],!1,null,"c17c9a5a",null).exports,mt={name:"TransactionListLarge",data:function(){return{locale:"en-US"}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},props:{transactions:{type:Array,default:function(){return[]}},account_id:{type:Number,default:function(){return 0}}}},gt=Object(r.a)(mt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-striped table-sm"},[a("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.transaction_table_description")))]),t._v(" "),a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.description")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.opposing_account")))]),t._v(" "),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.amount")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.category")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.budget")))])])]),t._v(" "),a("tbody",t._l(this.transactions,(function(e){return a("tr",[a("td",[a("a",{attrs:{href:"transactions/show/"+e.id,title:e.date}},[e.attributes.transactions.length>1?a("span",[t._v(t._s(e.attributes.group_title))]):t._e(),t._v(" "),1===e.attributes.transactions.length?a("span",[t._v(t._s(e.attributes.transactions[0].description))]):t._e()])]),t._v(" "),a("td",t._l(e.attributes.transactions,(function(e){return a("span",["withdrawal"===e.type?a("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"deposit"===e.type?a("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.source_id)===t.account_id?a("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.destination_id)===t.account_id?a("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),a("br")])})),0),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},t._l(e.attributes.transactions,(function(e){return a("span",["withdrawal"===e.type?a("span",{staticClass:"text-danger"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),a("br")]):t._e(),t._v(" "),"deposit"===e.type?a("span",{staticClass:"text-success"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),a("br")]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.source_id)===t.account_id?a("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),a("br")]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.destination_id)===t.account_id?a("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),a("br")]):t._e()])})),0),t._v(" "),a("td",t._l(e.attributes.transactions,(function(e){return a("span",[0!==e.category_id?a("a",{attrs:{href:"categories/show/"+e.category_id}},[t._v(t._s(e.category_name))]):t._e(),a("br")])})),0),t._v(" "),a("td",t._l(e.attributes.transactions,(function(e){return a("span",[0!==e.budget_id?a("a",{attrs:{href:"budgets/show/"+e.budget_id}},[t._v(t._s(e.budget_name))]):t._e(),a("br")])})),0)])})),0)])}),[],!1,null,"6e420753",null).exports,vt={name:"TransactionListMedium",data:function(){return{locale:"en-US"}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},props:{transactions:{type:Array,default:function(){return[]}},account_id:{type:Number,default:function(){return 0}}}},yt=Object(r.a)(vt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-striped table-sm"},[a("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.transaction_table_description")))]),t._v(" "),a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.description")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.opposing_account")))]),t._v(" "),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.amount")))])])]),t._v(" "),a("tbody",t._l(this.transactions,(function(e){return a("tr",[a("td",[a("a",{attrs:{href:"transactions/show/"+e.id,title:e.date}},[e.attributes.transactions.length>1?a("span",[t._v(t._s(e.attributes.group_title))]):t._e(),t._v(" "),1===e.attributes.transactions.length?a("span",[t._v(t._s(e.attributes.transactions[0].description))]):t._e()])]),t._v(" "),a("td",t._l(e.attributes.transactions,(function(e){return a("span",["withdrawal"===e.type?a("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"deposit"===e.type?a("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.source_id)===t.account_id?a("a",{attrs:{href:"accounts/show/"+e.destination_id}},[t._v(t._s(e.destination_name))]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.destination_id)===t.account_id?a("a",{attrs:{href:"accounts/show/"+e.source_id}},[t._v(t._s(e.source_name))]):t._e(),t._v(" "),a("br")])})),0),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},t._l(e.attributes.transactions,(function(e){return a("span",["withdrawal"===e.type?a("span",{staticClass:"text-danger"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),a("br")]):t._e(),t._v(" "),"deposit"===e.type?a("span",{staticClass:"text-success"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),a("br")]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.source_id)===t.account_id?a("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),a("br")]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.destination_id)===t.account_id?a("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),a("br")]):t._e()])})),0)])})),0)])}),[],!1,null,"0d4f7042",null).exports,Ct={name:"TransactionListSmall",data:function(){return{locale:"en-US"}},created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},methods:{},props:{transactions:{type:Array,default:function(){return[]}},account_id:{type:Number,default:function(){return 0}}}},jt=Object(r.a)(Ct,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-striped table-sm"},[a("caption",{staticStyle:{display:"none"}},[t._v(t._s(t.$t("firefly.transaction_table_description")))]),t._v(" "),a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.description")))]),t._v(" "),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v(t._s(t.$t("firefly.amount")))])])]),t._v(" "),a("tbody",t._l(this.transactions,(function(e){return a("tr",[a("td",[a("a",{attrs:{href:"transactions/show/"+e.id,title:new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(new Date(e.attributes.transactions[0].date))}},[e.attributes.transactions.length>1?a("span",[t._v(t._s(e.attributes.group_title))]):t._e(),t._v(" "),1===e.attributes.transactions.length?a("span",[t._v(t._s(e.attributes.transactions[0].description))]):t._e()])]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},t._l(e.attributes.transactions,(function(e){return a("span",["withdrawal"===e.type?a("span",{staticClass:"text-danger"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),a("br")]):t._e(),t._v(" "),"deposit"===e.type?a("span",{staticClass:"text-success"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),a("br")]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.source_id)===t.account_id?a("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(-1*e.amount))),a("br")]):t._e(),t._v(" "),"transfer"===e.type&&parseInt(e.destination_id)===t.account_id?a("span",{staticClass:"text-info"},[t._v("\n                      "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.amount))),a("br")]):t._e()])})),0)])})),0)])}),[],!1,null,"4cd7a656",null).exports,wt=a(265),Ot=a.n(wt);function xt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function St(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(a),!0).forEach((function(e){Pt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Pt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Lt=Object(i.b)("dashboard/index"),$t=(Lt.mapState,Lt.mapGetters),Dt=(Lt.mapActions,{name:"Calendar",created:function(){var t;this.ready=!0,this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US"},data:function(){return{locale:"en-US",ready:!1,range:{start:null,end:null},defaultRange:{start:null,end:null},periods:[]}},methods:St(St({},(0,Lt.mapMutations)(["setEnd","setStart"])),{},{resetDate:function(){this.range.start=this.defaultStart,this.range.end=this.defaultEnd,this.setStart(this.defaultStart),this.setEnd(this.defaultEnd)},customDate:function(t,e){var a=new Date(t),s=new Date(e);return this.setStart(a),this.setEnd(s),this.range.start=a,this.range.end=s,!1}}),computed:St(St({},$t(["viewRange","start","end","defaultStart","defaultEnd"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),watch:{datesReady:function(t){if(!1!==t){this.range.start=new Date(this.start),this.range.end=new Date(this.end),this.periods=[];var e=new Date,a=new Date;a.setDate(a.getDate()-7),this.periods.push({start:a.toDateString(),end:e.toDateString(),title:this.$t("firefly.last_seven_days")}),a.setDate(a.getDate()-23),this.periods.push({start:a.toDateString(),end:e.toDateString(),title:this.$t("firefly.last_thirty_days")})}},range:function(t){this.setStart(t.start),this.setEnd(t.end)}}}),It=(a(278),Object(r.a)(Dt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v("Start")]),t._v(" "),a("div",{staticClass:"col-8"},[t._v(t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.range.start)))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v("End")]),t._v(" "),a("div",{staticClass:"col-8"},[t._v(t._s(new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(t.range.end)))])]),t._v(" "),a("date-picker",{attrs:{rows:2,"is-range":"",mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents,n=e.isDragging,i=e.togglePopover;return[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"btn-group btn-group-sm d-flex"},[a("button",{staticClass:"btn btn-secondary btn-sm",attrs:{title:t.$t("firefly.custom_period")},on:{click:function(t){return i({placement:"auto-start",positionFixed:!0})}}},[a("i",{staticClass:"fas fa-calendar-alt"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",attrs:{title:t.$t("firefly.reset_to_current")},on:{click:t.resetDate}},[a("i",{staticClass:"fas fa-history"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{id:"dropdownMenuButton",title:t.$t("firefly.select_period"),"aria-expanded":"false","aria-haspopup":"true","data-toggle":"dropdown",type:"button"}},[a("i",{staticClass:"fas fa-list"})]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.periods,(function(e){return a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return t.customDate(e.start,e.end)}}},[t._v(t._s(e.title))])})),0)]),t._v(" "),a("input",t._g({class:n?"text-gray-600":"text-gray-900",attrs:{type:"hidden"},domProps:{value:s.start}},r.start)),t._v(" "),a("input",t._g({class:n?"text-gray-600":"text-gray-900",attrs:{type:"hidden"},domProps:{value:s.end}},r.end))])])]}}]),model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)}),[],!1,null,"51abf689",null).exports);function Et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ft(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(a),!0).forEach((function(e){kt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function kt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Bt=Object(i.b)("dashboard/index"),Nt=(Bt.mapState,Bt.mapGetters),Tt=(Bt.mapActions,Bt.mapMutations,{name:"MainCategoryList",created:function(){var t;this.locale=null!==(t=localStorage.locale)&&void 0!==t?t:"en-US",this.ready=!0},data:function(){return{locale:"en-US",categories:[],sortedList:[],spent:0,earned:0,loading:!0,error:!1}},computed:Ft(Ft({},Nt(["start","end"])),{},{datesReady:function(){return null!==this.start&&null!==this.end&&this.ready}}),watch:{datesReady:function(t){!0===t&&this.getCategories()},start:function(){!1===this.loading&&this.getCategories()},end:function(){!1===this.loading&&this.getCategories()}},methods:{getCategories:function(){var t=this;this.categories=[],this.sortedList=[],this.spent=0,this.earned=0,this.loading=!0;var e=this.start.toISOString().split("T")[0],a=this.end.toISOString().split("T")[0];axios.get("./api/v1/categories?start="+e+"&end="+a).then((function(e){t.parseCategories(e.data),t.loading=!1})).catch((function(e){t.error=!0}))},parseCategories:function(t){for(var e in t.data)if(t.data.hasOwnProperty(e)&&/^0$|^[1-9]\d*$/.test(e)&&e<=4294967294){var a=t.data[e],s=null,r=parseInt(a.id);for(var n in a.attributes.spent)if(a.attributes.spent.hasOwnProperty(n)&&/^0$|^[1-9]\d*$/.test(n)&&n<=4294967294){var i,c=a.attributes.spent[n];s=c.currency_id.toString()+"-"+a.id.toString(),this.categories[s]=null!==(i=this.categories[s])&&void 0!==i?i:{id:r,name:a.attributes.name,currency_code:c.currency_code,currency_symbol:c.currency_symbol,spent:0,earned:0,spentPct:0,earnedPct:0},this.categories[s].spent=parseFloat(c.sum),this.spent=parseFloat(c.sum)<this.spent?parseFloat(c.sum):this.spent}for(var o in a.attributes.earned)if(a.attributes.earned.hasOwnProperty(o)&&/^0$|^[1-9]\d*$/.test(o)&&o<=4294967294){var l,u=a.attributes.earned[o];s=u.currency_id.toString()+"-"+a.id.toString(),this.categories[s]=null!==(l=this.categories[s])&&void 0!==l?l:{id:r,name:a.attributes.name,currency_code:u.currency_code,currency_symbol:u.currency_symbol,spent:0,earned:0,spentPct:0,earnedPct:0},this.categories[s].earned=parseFloat(u.sum),this.earned=parseFloat(u.sum)>this.earned?parseFloat(u.sum):this.earned}}this.sortCategories()},sortCategories:function(){var t=[];for(var e in this.categories)this.categories.hasOwnProperty(e)&&t.push(this.categories[e]);for(var a in t.sort((function(t,e){return t.spent+t.earned-(e.spent+e.earned)})),t)if(t.hasOwnProperty(a)){var s=t[a];s.spentPct=s.spent/this.spent*100,s.earnedPct=s.earned/this.earned*100,this.sortedList.push(s)}}}}),Ut=Object(r.a)(Tt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("firefly.categories")))])]),t._v(" "),t.loading&&!t.error?a("div",{staticClass:"card-body"},[t._m(0)]):t._e(),t._v(" "),t.error?a("div",{staticClass:"card-body"},[t._m(1)]):t._e(),t._v(" "),t.loading||t.error?t._e():a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-sm"},[a("tbody",t._l(t.sortedList,(function(e){return a("tr",[a("td",{staticStyle:{width:"20%"}},[a("a",{attrs:{href:"./categories/show/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),a("td",{staticClass:"align-middle"},[e.spentPct>0?a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped bg-danger",style:{width:e.spentPct+"%"},attrs:{"aria-valuenow":e.spentPct,"aria-valuemax":"100","aria-valuemin":"0",role:"progressbar"}},[e.spentPct>20?a("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.spent))+"\n              ")]):t._e()]),t._v(" "),e.spentPct<=20?a("span",{staticClass:"progress-label",staticStyle:{"line-height":"16px"}},[t._v(" \n            "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.spent))+"\n            ")]):t._e()]):t._e(),t._v(" "),e.earnedPct>0?a("div",{staticClass:"progress justify-content-end",attrs:{title:"hello2"}},[e.earnedPct<=20?a("span",{staticStyle:{"line-height":"16px"}},[t._v("\n              "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.earned))+"\n               ")]):t._e(),t._v(" "),a("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.earnedPct+"%"},attrs:{"aria-valuenow":e.earnedPct,"aria-valuemax":"100","aria-valuemin":"0",role:"progressbar",title:"hello"}},[e.earnedPct>20?a("span",[t._v("\n                "+t._s(Intl.NumberFormat(t.locale,{style:"currency",currency:e.currency_code}).format(e.earned))+"\n              ")]):t._e()])]):t._e()])])})),0)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-spinner fa-spin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-exclamation-triangle text-danger"})])}],!1,null,"6812bb3b",null).exports,Rt=a(10),At=a.n(Rt),zt=a(34);a(41),a(84),At.a.component("transaction-list-large",gt),At.a.component("transaction-list-medium",yt),At.a.component("transaction-list-small",jt),At.a.component("date-picker",Ot.a),At.a.component("dashboard",n),At.a.component("top-boxes",f),At.a.component("main-account",L),At.a.component("main-account-list",B),At.a.component("main-bills-list",M),At.a.component("main-budget-list",tt),At.a.component("main-category-list",Ut),At.a.component("main-debit-list",_t),At.a.component("main-credit-list",ct),At.a.component("main-piggy-list",ht),At.a.use(i.c);var Mt=a(43),Gt={};new At.a({i18n:Mt,store:zt.a,el:"#dashboard",render:function(t){return t(n,{props:Gt})},beforeCreate:function(){this.$store.commit("initialiseStore"),this.$store.dispatch("updateCurrencyPreference"),this.$store.dispatch("updateListPageSizePreference"),this.$store.dispatch("dashboard/index/initialiseStore")}}),new At.a({i18n:Mt,store:zt.a,el:"#calendar",render:function(t){return t(It,{props:Gt})}})},723:function(t,e){}},[[274,0,1]]]);
//# sourceMappingURL=dashboard.js.map